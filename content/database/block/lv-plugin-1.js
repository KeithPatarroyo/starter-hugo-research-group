export function draw(){
var Ga="function"==typeof Object.defineProperties?Object.defineProperty:function(w,h,g){if(w==Array.prototype||w==Object.prototype)return w;w[h]=g.value;return w};function Pa(w){w=["object"==typeof globalThis&&globalThis,w,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var h=0;h<w.length;++h){var g=w[h];if(g&&g.Math==Math)return g}throw Error("Cannot find global object");}var Qa=Pa(this);
function Ya(w,h){if(h)a:{var g=Qa;w=w.split(".");for(var p=0;p<w.length-1;p++){var k=w[p];if(!(k in g))break a;g=g[k]}w=w[w.length-1];p=g[w];h=h(p);h!=p&&null!=h&&Ga(g,w,{configurable:!0,writable:!0,value:h})}}Ya("Array.prototype.fill",function(w){return w?w:function(h,g,p){var k=this.length||0;0>g&&(g=Math.max(0,k+g));if(null==p||p>k)p=k;p=Number(p);0>p&&(p=Math.max(0,k+p));for(g=Number(g||0);g<p;g++)this[g]=h;return this}});function kb(w){return w?w:Array.prototype.fill}
Ya("Int8Array.prototype.fill",kb);Ya("Uint8Array.prototype.fill",kb);Ya("Uint8ClampedArray.prototype.fill",kb);Ya("Int16Array.prototype.fill",kb);Ya("Uint16Array.prototype.fill",kb);Ya("Int32Array.prototype.fill",kb);Ya("Uint32Array.prototype.fill",kb);Ya("Float32Array.prototype.fill",kb);Ya("Float64Array.prototype.fill",kb);
Ya("Array.prototype.copyWithin",function(w){function h(g){g=Number(g);return Infinity===g||-Infinity===g?g:g|0}return w?w:function(g,p,k){var a=this.length;g=h(g);p=h(p);k=void 0===k?a:h(k);g=0>g?Math.max(a+g,0):Math.min(g,a);p=0>p?Math.max(a+p,0):Math.min(p,a);k=0>k?Math.max(a+k,0):Math.min(k,a);if(g<p)for(;p<k;)p in this?this[g++]=this[p++]:(delete this[g++],p++);else for(k=Math.min(k,a+p-g),g+=k-p;k>p;)--k in this?this[--g]=this[k]:delete this[--g];return this}});
function ob(w){return w?w:Array.prototype.copyWithin}Ya("Int8Array.prototype.copyWithin",ob);Ya("Uint8Array.prototype.copyWithin",ob);Ya("Uint8ClampedArray.prototype.copyWithin",ob);Ya("Int16Array.prototype.copyWithin",ob);Ya("Uint16Array.prototype.copyWithin",ob);Ya("Int32Array.prototype.copyWithin",ob);Ya("Uint32Array.prototype.copyWithin",ob);Ya("Float32Array.prototype.copyWithin",ob);Ya("Float64Array.prototype.copyWithin",ob);
function pb(w){var h=0;return function(){return h<w.length?{done:!1,value:w[h++]}:{done:!0}}}Ya("Symbol",function(w){function h(k){if(this instanceof h)throw new TypeError("Symbol is not a constructor");return new g("jscomp_symbol_"+(k||"")+"_"+p++,k)}function g(k,a){this.B=k;Ga(this,"description",{configurable:!0,writable:!0,value:a})}if(w)return w;g.prototype.toString=function(){return this.B};var p=0;return h});
Ya("Symbol.iterator",function(w){if(w)return w;w=Symbol("Symbol.iterator");for(var h="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),g=0;g<h.length;g++){var p=Qa[h[g]];"function"===typeof p&&"function"!=typeof p.prototype[w]&&Ga(p.prototype,w,{configurable:!0,writable:!0,value:function(){return qb(pb(this))}})}return w});function qb(w){w={next:w};w[Symbol.iterator]=function(){return this};return w}
function rb(w,h){w instanceof String&&(w+="");var g=0,p=!1,k={next:function(){if(!p&&g<w.length){var a=g++;return{value:h(a,w[a]),done:!1}}p=!0;return{done:!0,value:void 0}}};k[Symbol.iterator]=function(){return k};return k}Ya("Array.prototype.keys",function(w){return w?w:function(){return rb(this,function(h){return h})}});
window.LifeViewerLoaded||(window.LifeViewerLoaded=!0,function(){var w=null,h=null;window.performance||(window.performance={});window.performance.now||(window.performance.now=function(){return performance.now||performance.mP||performance.nP||performance.pP||performance.webkitNow||function(){return(new Date).getTime()}}());window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame);
window.cancelRequestAnimationFrame||(window.cancelRequestAnimationFrame=window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame);window.Uint8Array?window.typedArrays=!0:(window.typedArrays=!1,window.Uint8Array=Array);window.Uint8ClampedArray||(window.Uint8ClampedArray=window.Uint8Array);window.Uint16Array||(window.Uint16Array=Array);window.Uint32Array||(window.Uint32Array=Array);window.Int32Array||(window.Int32Array=
Array);window.Int16Array||(window.Int16Array=Array);window.Int8Array||(window.Int8Array=Array);window.Uint8ClampedArray||(window.Uint8ClampedArray=Array);window.Float32Array||(window.Float32Array=Array);window.Float64Array||(window.Float64Array=Array);window.Uint32Array.prototype.fill?window.arrayFill=!0:(window.arrayFill=!1,window.Uint32Array.prototype.fill=function(g,p,k){void 0===k&&(k=this.length);for(p=0;p<k;p+=1)this[p]=g});window.Uint16Array.prototype.fill||(window.Uint16Array.prototype.fill=
function(g,p,k){void 0===k&&(k=this.length);for(p=0;p<k;p+=1)this[p]=g});window.Uint8Array.prototype.fill||(window.Uint8Array.prototype.fill=function(g,p,k){void 0===k&&(k=this.length);for(p=0;p<k;p+=1)this[p]=g});window.Uint8ClampedArray.prototype.fill||(window.Uint8ClampedArray.prototype.fill=function(g,p,k){void 0===k&&(k=this.length);for(p=0;p<k;p+=1)this[p]=g});window.Int32Array.prototype.fill||(window.Int32Array.prototype.fill=function(g,p,k){void 0===k&&(k=this.length);for(p=0;p<k;p+=1)this[p]=
g});window.Int16Array.prototype.fill||(window.Int16Array.prototype.fill=function(g,p,k){void 0===k&&(k=this.length);for(p=0;p<k;p+=1)this[p]=g});window.Int8Array.prototype.fill||(window.Int8Array.prototype.fill=function(g,p,k){void 0===k&&(k=this.length);for(p=0;p<k;p+=1)this[p]=g});window.Float32Array.prototype.fill||(window.Float32Array.prototype.fill=function(g,p,k){void 0===k&&(k=this.length);for(p=0;p<k;p+=1)this[p]=g});window.Float64Array.prototype.fill||(window.Float64Array.prototype.fill=
function(g,p,k){void 0===k&&(k=this.length);for(p=0;p<k;p+=1)this[p]=g});window.Int32Array.prototype.slice?window.arraySlice=!0:(window.arraySlice=!1,window.Int32Array.prototype.slice=function(g,p){void 0===p&&(p=this.length);var k=p-g;var a=new Int32Array(k);for(p=0;p<k;p+=1)a[p]=this[g+p];return a});window.Int16Array.prototype.slice||(window.Int16Array.prototype.slice=function(g,p){void 0===p&&(p=this.length);var k=p-g;var a=new Int16Array(k);for(p=0;p<k;p+=1)a[p]=this[g+p];return a});window.Int8Array.prototype.slice||
(window.Int8Array.prototype.slice=function(g,p){void 0===p&&(p=this.length);var k=p-g;var a=new Int8Array(k);for(p=0;p<k;p+=1)a[p]=this[g+p];return a});window.Uint32Array.prototype.slice||(window.Uint32Array.prototype.slice=function(g,p){void 0===p&&(p=this.length);var k=p-g;var a=new Uint32Array(k);for(p=0;p<k;p+=1)a[p]=this[g+p];return a});window.Uint16Array.prototype.slice||(window.Uint16Array.prototype.slice=function(g,p){void 0===p&&(p=this.length);var k=p-g;var a=new Uint16Array(k);for(p=0;p<
k;p+=1)a[p]=this[g+p];return a});window.Uint8Array.prototype.slice||(window.Uint8Array.prototype.slice=function(g,p){void 0===p&&(p=this.length);var k=p-g;var a=new Uint8Array(k);for(p=0;p<k;p+=1)a[p]=this[g+p];return a});window.Uint8ClampedArray.prototype.slice||(window.Uint8ClampedArray.prototype.slice=function(g,p){void 0===p&&(p=this.length);var k=p-g;var a=new Uint8ClampedArray(k);for(p=0;p<k;p+=1)a[p]=this[g+p];return a});window.Float32Array.prototype.slice||(window.Float32Array.prototype.slice=
function(g,p){void 0===p&&(p=this.length);var k=p-g;var a=new Float32Array(k);for(p=0;p<k;p+=1)a[p]=this[g+p];return a});window.Float64Array.prototype.slice||(window.Float64Array.prototype.slice=function(g,p){void 0===p&&(p=this.length);var k=p-g;var a=new Float64Array(k);for(p=0;p<k;p+=1)a[p]=this[g+p];return a});h=new Uint32Array(1);h[0]=4660;w=new Uint8Array(h.buffer);window.littleEndian=52===w[0]?!0:!1;h.copyWithin?window.copyWithin=!0:(window.Uint32Array.prototype.copyWithin=function(g,p,k){var a=
!1;void 0===k&&(k=this.length);var c=k-p;if(p!==g)if((g>=p&&g<=k||g+c>=p&&g+c<=k)&&g>p&&(a=!0),a)for(k=c-1;0<=k;--k)this[g+k]=this[p+k];else for(k=0;k<c;k+=1)this[g+k]=this[p+k];return this},window.copyWithin=!1);window.registerEvent=function(g,p,k,a){g.addEventListener?g.addEventListener(p,k,a):g.attachEvent("on"+p,k)}}(),function(){function w(p,k,a){this.type=p;this.name=a;this.elements=k;this.size=k*g.Dq(p);this.aq=1}function h(){this.Eh=[];this.$o=this.us=this.Zo=this.ss=0}var g={ey:8,fy:40,cy:9,
dy:10,Nx:0,Lx:1,Mx:2,Gx:18,Hx:19,Dq:function(p){return 1<<(p&7)},xO:function(p){var k=(0!==(p&16)?"Float":0!==(p&8)?"Uint":"Int")+8*(1<<(p&7));0!==(p&32)&&(k+="Clamped");return k}};h.prototype.WI=function(p){var k="";0<=p&&p<this.Eh.length&&(p=this.Eh[p],k=g.xO(p.type)+"\t"+p.elements+"\t"+p.name+"\t"+p.aq);return k};h.prototype.B=function(p,k,a){for(var c=0,d=!1,e;c<this.Eh.length&&!d;)e=this.Eh[c],a===e.name?(d=!0,this.us+=1,this.$o+=e.elements*g.Dq(e.type)):c+=1;d?(this.Eh[c].type=p,this.Eh[c].elements=
k,this.Eh[c].aq+=1,this.Eh[c].size=k*g.Dq(p)):(c=this.Eh.length,this.Eh[c]=new w(p,k,a));this.ss+=1;this.Zo+=k*g.Dq(p)};h.prototype.aD=function(p,k,a,c,d){p=p.buffer;c*=g.Dq(k);switch(k){case g.ey:a=new Uint8Array(p,c,a);break;case g.fy:a=new Uint8Array(p,c,a);break;case g.cy:a=new Uint16Array(p,c,a);break;case g.dy:a=new Uint32Array(p,c,a);break;case g.Nx:a=new Int8Array(p,c,a);break;case g.Lx:a=new Int16Array(p,c,a);break;case g.Mx:a=new Int32Array(p,c,a);break;case g.Gx:a=new Float32Array(p,c,
a);break;case g.Hx:a=new Float64Array(p,c,a);break;default:a=null,alert("Illegal type specified to allocator.typedView for "+d+": "+k)}return a};h.prototype.G=function(p,k,a){switch(p){case g.ey:k=new Uint8Array(k);break;case g.fy:k=new Uint8Array(k);break;case g.cy:k=new Uint16Array(k);break;case g.dy:k=new Uint32Array(k);break;case g.Nx:k=new Int8Array(k);break;case g.Lx:k=new Int16Array(k);break;case g.Mx:k=new Int32Array(k);break;case g.Gx:k=new Float32Array(k);break;case g.Hx:k=new Float64Array(k);
break;default:k=null,alert("Illegal type specified to allocator.typedMemory for "+a+": "+p)}return k};h.prototype.P=function(p,k,a){var c=null;0<k&&(c=this.G(p,k,a));(c||0===k)&&this.B(p,k,a);return c};h.prototype.VI=function(p,k,a,c){var d=null;0<k&&(d=this.G(p,k,a));(d||0===k)&&this.B(p,k*c,a);return d};Array.ea=function(p,k,a,c,d,e){var m=0,n=[];n.u=d;n.type=p;n.Wa=null;var q=d.P(p,k*a,e);n.Wa=q;if(0<a){for(;m<k;)n[m]=d.aD(q,p,a,m*a,e),m+=1;0!==c&&q.fill(c)}return n};Array.mp=function(p,k){k=p.u.VI(p.type,
p[0].length,k,p.length+1);p[p.length]=k};Array.Ih=function(p,k){k.Wa.set(p.Wa)};Array.Lc=function(p,k,a){var c,d=k.length,e=[],m=k.u,n=k[0].length/g.Dq(p);for(c=0;c<d;c+=1)e[c]=m.aD(k.Wa,p,n,c*n,a);return e};Array.jA=function(p,k,a){var c,d=p.length,e=p.u,m=p.type,n=p[0].length;for(c=0;c<d;c+=1)e.aD(p.Wa,m,n-k,c*n+k,a)};window.Allocator=h;window.Uint8=g.ey;window.Uint8Clamped=g.fy;window.Uint16=g.cy;window.Uint32=g.dy;window.Int8=g.Nx;window.Int16=g.Lx;window.Int32=g.Mx;window.Float32=g.Gx;window.Float64=
g.Hx}(),function(){window.AliasManager={Hc:[],YB:[],qf:function(){var w,h;this.Hc=[];this.YB=[];var g=this.Hc;var p=this.YB;p.push("1D");g.push(["Wolfram 1D",""]);g.push(["Brownian motion","W54"]);g.push(["Fishing-net","W110"]);g.push(["Heavy triangles","W22"]);g.push(["Linear A","W90"]);g.push(["Linear B","W150"]);g.push(["Pascal's Triangle","W18"]);g.push(["Randomizer 1","W30"]);g.push(["Randomizer 2","W45"]);g.push(["Wolfram 22","W22"]);g.push(["Wolfram 30","W30"]);g.push(["Wolfram 110","W110"]);
p.push("Margolus");g.push(["Margolus",""]);g.push(["BBM","M0,8,4,3,2,5,9,7,1,6,10,11,12,13,14,15"]);g.push(["BounceGas","M0,8,4,3,2,5,9,14,1,6,10,13,12,11,7,15"]);g.push(["BounceGasII","M0,8,4,12,2,10,9,7,1,6,5,11,3,13,14,15"]);g.push(["Critters","M15,14,13,3,11,5,6,1,7,9,10,2,12,4,8,0"]);g.push(["HPP_Gas","M0,8,4,12,2,10,9,14,1,6,5,13,3,11,7,15"]);g.push(["MargSingRot","M0,2,8,3,1,5,6,7,4,9,10,11,12,13,14,15"]);g.push(["Rotations","M0,2,8,12,1,10,9,11,4,6,5,14,3,7,13,15"]);g.push(["RotationsII",
"M0,2,8,12,1,10,9,13,4,6,5,7,3,14,11,15"]);g.push(["RotationsIII","M0,4,1,10,8,3,9,11,2,6,12,14,5,7,13,15"]);g.push(["RotationsIV","M0,4,1,12,8,10,6,14,2,9,5,13,3,11,7,15"]);g.push(["Sand","M0,4,8,12,4,12,12,13,8,12,12,14,12,13,14,15"]);g.push(["StringThing","M0,1,2,12,4,10,9,7,8,6,5,11,3,13,14,15"]);g.push(["StringThingII","M0,1,2,12,4,10,6,7,8,9,5,11,3,13,14,15"]);g.push(["SwapOnDiag","M0,8,4,12,2,10,6,14,1,9,5,13,3,11,7,15"]);g.push(["Tron","M15,1,2,3,4,5,6,7,8,9,10,11,12,13,14,0"]);p.push("PCA");
g.push(["PCA",""]);g.push(["Model_1","2PCA4,0,4,8,3,1,10,6,7,2,9,5,11,12,13,14,15"]);g.push(["Model_2","2PCA4,0,4,8,3,1,10,6,11,2,9,5,13,12,14,7,15"]);g.push(["PCA_1","2PCA4,0,4,8,3,1,10,6,7,2,9,5,11,12,13,14,15"]);g.push(["PCA_2","2PCA4,0,2,4,3,8,10,6,7,1,9,5,11,12,13,14,15"]);g.push(["PCA_3","2PCA4,0,8,1,3,2,5,6,7,4,9,10,11,12,13,14,15"]);g.push(["PCA_4","2PCA4,0,2,4,12,8,5,9,7,1,6,10,11,3,13,14,15"]);g.push(["PCA_5","2PCA4,0,4,8,3,1,10,6,11,2,9,5,13,12,14,7,15"]);g.push(["PCA_6","2PCA4,0,2,4,3,8,10,6,14,1,9,5,7,12,11,13,15"]);
g.push(["PCA_7","2PCA4,0,2,4,12,8,5,9,14,1,6,10,7,3,11,13,15"]);g.push(["PCA_8","2PCA4,0,2,4,12,8,10,9,14,1,6,5,7,3,11,13,15"]);g.push(["PCA_9","2PCA4,0,2,4,12,8,10,9,13,1,6,5,14,3,7,11,15"]);g.push(["PCA_10","2PCA4,0,1,2,3,4,5,6,13,8,9,10,14,12,7,11,15"]);g.push(["PCA_11","2PCA4,0,4,8,3,1,10,6,11,2,9,5,11,13,12,14,15"]);g.push(["PCA_12","2PCA4,0,4,2,3,14,6,11,5,8,7,9,13,10,12,1,15"]);p.push("OT vN");g.push(["Outer-Totalistic von Neumann",""]);g.push(["Fredkin2","B13/S024V"]);g.push(["Parity","B13/S13V"]);
p.push("OT Hex");g.push(["Outer-Totalistic Hex",""]);g.push(["HexParity","B135/S0246H"]);g.push(["Hexagonal Life","B2/S34H"]);g.push(["HighHexLife","B25/S34H"]);g.push(["Replicator Hex","B135/S135H"]);p.push("OT M");g.push(["Outer-Totalistic Moore",""]);g.push(["","B3/S23"]);g.push(["2x2","B36/S125"]);g.push(["2x2 2","B3678/S1258"]);g.push(["34 Life","B34/S34"]);g.push(["3-4 Life","B34/S34"]);g.push(["Amoeba","B357/S1358"]);g.push(["Anneal","B4678/S35678"]);g.push(["AntiLife","B0123478/S01234678"]);
g.push(["Assimilation","B345/S4567"]);g.push(["Bacteria","B34/S456"]);g.push(["Blinkers","B345/S2"]);g.push(["Bugs","B3567/S15678"]);g.push(["Castles","B3678/S135678"]);g.push(["Cheerios","B35678/S34567"]);g.push(["Christmas Life","B1/S012345678"]);g.push(["Coagulations","B378/S235678"]);g.push(["Conway's Game of Life","B3/S23"]);g.push(["Conway's Life","B3/S23"]);g.push(["Coral","B3/S45678"]);g.push(["Corrosion of Conformity","B3/S124"]);g.push(["Dance","B34/S35"]);g.push(["Day & Night","B3678/S34678"]);
g.push(["Day and Night","B3678/S34678"]);g.push(["Diamoeba","B35678/S5678"]);g.push(["DotLife","B3/S023"]);g.push(["DrighLife","B367/S23"]);g.push(["DryFlock","B37/S12"]);g.push(["DryLife","B37/S23"]);g.push(["DryLife without Death","B37/S012345678"]);g.push(["EightFlock","B3/S128"]);g.push(["EightLife","B3/S238"]);g.push(["Electrified Maze","B45/S12345"]);g.push(["Eppstein","B35/S236"]);g.push(["Feux","B1358/S0247"]);g.push(["Flakes","B3/S012345678"]);g.push(["Flock","B3/S12"]);g.push(["Forest of Ls",
"B168/S236"]);g.push(["Fredkin","B1357/S02468"]);g.push(["Fuzz","B1/S014567"]);g.push(["Gems Minor","B34578/S456"]);g.push(["Gems","B3457/S4568"]);g.push(["Geology","B3578/S24678"]);g.push(["Gnarl","B1/S1"]);g.push(["H-Trees","B1/S012345678"]);g.push(["HighFlock","B36/S12"]);g.push(["HighLife","B36/S23"]);g.push(["HighLife without Death","B36/S012345678"]);g.push(["Holstein","B35678/S4678"]);g.push(["HoneyFlock","B38/S128"]);g.push(["HoneyLife","B38/S238"]);g.push(["Iceballs","B25678/S5678"]);g.push(["InverseLife",
"B012345678/S34678"]);g.push(["Invertamaze","B028/S0124"]);g.push(["IronFlock","B36/S128"]);g.push(["IronLife","B36/S238"]);g.push(["Land Rush","B36/S234578"]);g.push(["Life SkyHigh","B368/S236"]);g.push(["Life without Death","B3/S012345678"]);g.push(["Life","B3/S23"]);g.push(["Live Free or Die","B2/S0"]);g.push(["Logarithmic replicator rule","B36/S245"]);g.push(["LongLife","B345/S5"]);g.push(["Long Life","B345/S5"]);g.push(["LowDeath without death","B368/S012345678"]);g.push(["LowDeath","B368/S238"]);
g.push(["LowFlockDeath","B368/S128"]);g.push(["LowLife","B3/S13"]);g.push(["Majority","B45678/S5678"]);g.push(["Maze","B3/S12345"]);g.push(["Maze with Mice","B37/S12345"]);g.push(["Mazectric","B3/S1234"]);g.push(["Mazectric with Mice","B37/S1234"]);g.push(["Morley","B368/S245"]);g.push(["Move","B368/S245"]);g.push(["Neon Blobs","B08/S4"]);g.push(["Never happy","B345/S0456"]);g.push(["Oscillators Rule","B45/S1235"]);g.push(["Pedestrian Flock","B38/S12"]);g.push(["Pedestrian Life","B38/S23"]);g.push(["Pedestrian Life without Death",
"B38/S012345678"]);g.push(["Persian Rug","B234/S"]);g.push(["Plow World","B378/S012345678"]);g.push(["Pseudo Life","B357/S238"]);g.push(["Pulsar Life","B3/S238"]);g.push(["Replicator","B1357/S1357"]);g.push(["Replicator 2","B1357/S02468"]);g.push(["Rings 'n' Slugs","B56/S14568"]);g.push(["Seeds","B2/S"]);g.push(["Serviettes","B234/S"]);g.push(["Shoots and Roots","B3/S245678"]);g.push(["Slow Blob","B367/S125678"]);g.push(["Snakeskin","B1/S134567"]);g.push(["Solid islands grow amongst static","B12678/S15678"]);
g.push(["SnowLife","B3/S1237"]);g.push(["Stains","B3678/S235678"]);g.push(["Star Trek","B3/S0248"]);g.push(["Virus","B36/S235"]);g.push(["Vote","B5678/S45678"]);g.push(["Vote 4/5","B4678/S35678"]);g.push(["Walled Cities","B45678/S2345"]);p.push("OT Tri");g.push(["Outer-Totalistic Triangular",""]);g.push(["Rule 1246","B456/S12L"]);g.push(["Life 2333","B3/S23L"]);g.push(["Life 2345","B45/S23L"]);g.push(["Life 2346","B456/S23L"]);g.push(["Life 3445","B45/S34L"]);g.push(["Life 3446","B456/S34L"]);g.push(["Rule 3544",
"B4/S345L"]);g.push(["Life 4546","B456/S45L"]);g.push(["Life 4644","B4/S456L"]);p.push("OT M G");g.push(["Outer-Totalistic Generations Moore",""]);g.push(["9:43 at Knight","237/34578/4"]);g.push(["Banners","2367/3457/5"]);g.push(["BelZhab","23/23/8"]);g.push(["BelZhab Sediment","145678/23/8"]);g.push(["Bloomerang","234/34678/24"]);g.push(["Bombers","345/24/25"]);g.push(["Brain 5","/2/5"]);g.push(["Brain 6","6/246/3"]);g.push(["Brian's Brain","/2/3"]);g.push(["Burst","0235678/3468/9"]);g.push(["BurstII",
"235678/3468/9"]);g.push(["Caterpillars","124567/378/4"]);g.push(["Chenille","05678/24567/6"]);g.push(["Circuit Genesis","2345/1234/8"]);g.push(["Constellations","/23/3"]);g.push(["Cooties","23/2/8"]);g.push(["Diamonds and Spaceships","34578/257/16"]);g.push(["Ebb&Flow","012478/36/18"]);g.push(["Ebb&Flow II","012468/37/18"]);g.push(["Faders","2/2/25"]);g.push(["Fireballs","346/2/4"]);g.push(["Fireworks","2/13/21"]);g.push(["Flaming Starbows","347/23/8"]);g.push(["Free Star","0345/2/10"]);g.push(["Frogs",
"12/34/3"]);g.push(["Frozen spirals","356/23/6"]);g.push(["GeneroLife","2356/3567/4"]);g.push(["Glisserati","035678/245678/7"]);g.push(["Glissergy","035678/245678/5"]);g.push(["Lava","12345/45678/8"]);g.push(["Lines","012345/458/3"]);g.push(["LivingOn TheEdge","345/3/6"]);g.push(["Meteor Guns","01245678/3/8"]);g.push(["Nova","45678/2478/25"]);g.push(["OrthoGo","3/2/4"]);g.push(["Prairie on fire","345/34/6"]);g.push(["RainZha","2/23/8"]);g.push(["Rake","3467/2678/6"]);g.push(["SediMental","45678/25678/4"]);
g.push(["Snake","03467/25/6"]);g.push(["SoftFreeze","13458/38/6"]);g.push(["Spirals","2/234/5"]);g.push(["Star Wars","345/2/4"]);g.push(["Sticks","3456/2/6"]);g.push(["Swirl","23/34/8"]);g.push(["Tadpoles","0125678/345678/64"]);g.push(["ThrillGrill","1234/34/48"]);g.push(["Transers","345/26/5"]);g.push(["TransersII","0345/26/6"]);g.push(["Transers 2","0345/26/6"]);g.push(["Transers 3","0345/26/7"]);g.push(["Wallplicators","345/25678/7"]);g.push(["Wanderers","345/34678/5"]);g.push(["Worms","3467/25/6"]);
g.push(["Xtasy","1456/2356/16"]);p.push("INT Hex");g.push(["Isotropic Non-Totalistic Hex",""]);g.push(["Hex Life","B2o3m56/S2-p4oH"]);g.push(["22da","B2/S2-mH"]);g.push(["Hexrule b2o","B2o/S2m34H"]);p.push("INT M");g.push(["Isotropic Non-Totalistic Moore",""]);g.push(["15Life","B34r/S23-q4et"]);g.push(["104life","B34ky5cy/S23-a4ity6c7"]);g.push(["22k","B2-k/S2-k"]);g.push(["2diagonal","B2n3/S23"]);g.push(["2xpand2","B3/S123eik4ce"]);g.push(["3x3","B35cky68/S0245-c6n"]);g.push(["38life","B35y/S2-n35k6ci"]);
g.push(["4diagonal","B34c/S23"]);g.push(["4life","B34jy/S23"]);g.push(["4life2","B34j/S23"]);g.push(["57life","B34tyz5cy/S23-a4it5ej"]);g.push(["acnelife","B34/S2eik3"]);g.push(["aLife","B3/S234iw"]);g.push(["Arcane Circuitry","B2ci3aikr/S1e2-a3i"]);g.push(["Arrow","B3-jkn4a/S1e2-a3ijnry4n"]);g.push(["Artillery","B3-y7/S2-i3-c4kqt"]);g.push(["Atomic","B2ei3i/S1c2-n3jr4an5i6c"]);g.push(["ATPP","B3-ckq4z/S2-c3-a4iq5k6k"]);g.push(["B - ibis","B2n34cyz6n8/S2-n3-a4cq68"]);g.push(["Banks-I","B3e4ejr5cinqy6-ei78/S012-e3-ajk4-akqw5-ajk6-e78"]);
g.push(["Banks-III","B2ce3e4jr5cin6-en7c8/S012-ac3-cn4-eikny5-kr67c8"]);g.push(["Beaecsizae","B34ce/S12-a3"]);g.push(["Ben's rule","B2-ak3einqy4e/S1c2ak3inqy4e"]);g.push(["Best Friends","B2ce3aiy/S12aei3r"]);g.push(["Bgunlife","B34eny5e/S23-a4iy5e6c"]);g.push(["Billiard","B36-e/S12345"]);g.push(["Blasts","B2e3airy4kt5jr6c8/S02ace3eiknr4-aj5-cei6-a78"]);g.push(["BlinkBlink","B35ky/S234y"]);g.push(["Blocks for Days","B2-ae3-cij4a5aj6e7e8/S01e2ai3ar4ar5air6ae7c8"]);g.push(["blockandglider","B3/S234cw7c"]);
g.push(["Blockship","B3-cer4ceqwz5acek6in78/S2-in3-eq4eqwyz5eikn678"]);g.push(["BoatLife","B3-knqy/S2-n3-ey4akwy5aik6kn"]);g.push(["boatLife","B3ainqy4aeq5ejn8/S2-in3-aek4aciq5ae6-c7c8"]);g.push(["bpuff","B3/S23-cky4k7e8"]);g.push(["Breps","B34cqy5c/S23-y4y"]);g.push(["Breps-2","B3aeijn4n8/S234iqz"]);g.push(["Bricks","B2ak5c/S2cn3inqy4aikqtwz5inqy"]);g.push(["Bubbles","B3ai4-a/S23"]);g.push(["Butterfly","B2i34e6i7c/S2-i36n"]);g.push(["butterflyb7","B2i34e6i7/S2-i36n"]);g.push(["Buzz","B2i35-n/S2-ci36k8"]);
g.push(["CapLife","B36c/S23"]);g.push(["CarrierLife","B2e3aceik/S23"]);g.push(["Cataverters","B3-cen/S234eijkrw5cry6ik"]);g.push(["cb2","B2ae4i/S1e2in"]);g.push(["cetlife","B34cet/S234jkwyz"]);g.push(["Clouds","B2e3aceij/S23-a4"]);g.push(["Cloudsdale","B2kn3-ekqr4i5eq6n8/S23-aeny4cikqr5ek6ace7c"]);g.push(["CommonRepl","B3/S23-ac4eiy6"]);g.push(["Conquerors and Colonizers","B2ace3acei4ace5acei6ace/S"]);g.push(["Conway++","B3/S234c"]);g.push(["Conway+-1","B3/S23-inqy4aikqtwz"]);g.push(["Conway+-2",
"B3/S2-ak34aikqtwz5inqy"]);g.push(["Conway--","B3/S2-ei3"]);g.push(["crawl","B37e/S2-i34y8"]);g.push(["Creperie","B2ikn3aijn/S23-ckqy"]);g.push(["CrossLife","B3/S234et"]);g.push(["Crylife","B2n3-cry4kn6i7c/S23-a4i6c"]);g.push(["DenseLife","B3-q4y/S234z"]);g.push(["Diamoeral","B2n3ai4a78/S35678"]);g.push(["Diamonds","B2en3ij4a5e7e8/S1c2cek3-a4aiqw5aky"]);g.push(["DirtyLife","B3-cky5aq6ci7c/S23-ck4n6k7e"]);g.push(["DLife","B3-n/S23"]);g.push(["dolife","B2-ak3acei4ceqz5y/S234ce5ceky78"]);g.push(["dolife2",
"B2-a3acei4ceqz5y/S234ce5ceky78"]);g.push(["Dominoplex","B2cen3ek4ejkwz5-ein6an7e8/S12an3-eijq4enrty5e6k"]);g.push(["Dry15Life","B34r7/S23-q4et"]);g.push(["DryGoats","B2in37/S123a"]);g.push(["Dustclouds01","B2ce3-ai/S01"]);g.push(["EasyHighLife","B36-i/S23"]);g.push(["Eatsplosion","B2n3-ekqy4c5e/S2-cn3-eky4aij5e"]);g.push(["Eatsplosion IV","B2n3-q4aqz6n8/S2-in3-q4iz7c8"]);g.push(["EightGoats","B2in3/S123a8"]);g.push(["Einstein","B2ein3cijn4cnrwy5cnq6e/S1c2-ai3acny4anqy5c6ek8"]);g.push(["ElectrumLife",
"B367c/S2-i34q"]);g.push(["Emitters","B2i3ai4cei5c6c7/S2-ae3acein4-t5-aq6cei7c8"]);g.push(["Extension","B2cei3-ijnr4-a6i/S12-cn"]);g.push(["fakePiShipLife","B3-ck4e5k6i/S2-in35i6c8"]);g.push(["FalseB5","B35ce/S234jqtyz6k8"]);g.push(["Frespa","B34ck5/S23aceik4aci"]);g.push(["FattyLife","B3-n4nt5qr6i/S23"]);g.push(["FishLife","B3-ekqr4nt5r6i/S02-c3"]);g.push(["FlashLife","B2kn3-n4e/S23"]);g.push(["Flowflakes","B2-ac3acei4ey6n8/S02-n3-nqy4cekyz5ei6k7e"]);g.push(["Flutter","B2-a3j4-acekn56/S15y"]);g.push(["Flying Life",
"B3-k5r/S236n7e"]);g.push(["FogLife","B35eq7/S2-i34q"]);g.push(["Forestfire","B3ai4ekq5cy6n/S2-ci3-ace4inr5eqry"]);g.push(["FrogLife","B36i/S1c23-acek5k6i8"]);g.push(["Fruitflies","B2-an4jn7e8/S12-k4r"]);g.push(["Fuzey","B2-ae3aej4ez/S03ac4aikqryz78"]);g.push(["GemLife","B34c6/S23-q"]);g.push(["Gentle relative","B2cen3ek4jkw5-aein6a7e/S12an3-eijq4enrty5e6k"]);g.push(["GlideLife","B34ek5ak/S2-c34z"]);g.push(["GlideLife2","B34ek5ak/S2-c34iz5y"]);g.push(["GliderGlut","B2k3aijn4ak5y6k/S2ae3ajnr4aiw"]);
g.push(["GliderRROLife","B2e3einy4ak5ijq7c/S1c2-ai3-ceky4ejny5ceqr6ak"]);g.push(["glife","B3/S237c"]);g.push(["Glimmering Garden","B3-jknr4ity5ijk6i8/S23-a4city6c7c"]);g.push(["GMO snowflakes","B34c6n/S2-n3-ck4cijqtwy5y6n"]);g.push(["Goat Flock","B2in3/S123a"]);g.push(["Goats","B2in3/S123a"]);g.push(["Goldilocks I","B2ek3cei4acjr5c8/S02ack3kn4aen"]);g.push(["gp","B2ei3-a4ce5y6i/S234i7e"]);g.push(["Growflakes","B2-ac3acei4ey6n8/S02-n3-nqy4cekyz5ei6k"]);g.push(["guntlife","B35j6a/S2-i34q"]);g.push(["Half as Interesting",
"B2ce3i/S23"]);g.push(["hassl8life","B34k5e7c/S23-a4iyz"]);g.push(["hatlife","B35y/S23"]);g.push(["Hats and Shuttles","B34iqwy/S23-cq"]);g.push(["hedgehog","B3/S1c2-a35r6i"]);g.push(["HeptaFish","B3-e4i5i/S234e"]);g.push(["High15Life","B34r6/S23-q4et"]);g.push(["HighGoats","B2in36/S123a"]);g.push(["Hive","B3-ry4ckn/S2-in3-cjn4it5aiky6-a7e8"]);g.push(["hlife","B3/S234ce6k"]);g.push(["hlife2","B3/S2-in34nr"]);g.push(["hlife3","B3/S2-in34iw"]);g.push(["HoneyGoats","B2in38/S123a8"]);g.push(["HouseLife",
"B2i3/S23-r"]);g.push(["Hype","B2-ac3aei4ae6i8/S23-ejq8"]);g.push(["IceNine","B3aeiy4ae5i68/S2-in3-kqr4artz5aeny6-e78"]);g.push(["ilife","B3/S235i"]);g.push(["Immortalife","B3-cqy4j/S2-n34i"]);g.push(["IneticLife","B2-an3-k/S2ac"]);g.push(["IronGoats","B2in36/S123a8"]);g.push(["Ising","B3e4ejr5cinqy6-ei78/S2ei3aejkr4-cny5-e678"]);g.push(["Just Friends","B2-a/S12"]);g.push(["Kgdm","B3/S2-c3-en4ceitz"]);g.push(["KineticLife","B2-an3/S2ac"]);g.push(["klife","B34n/S23"]);g.push(["Knyght","B2e3/S23-jq"]);
g.push(["ktlife","B3/S2-i34nq"]);g.push(["LambdaLife","B3-k/S2-i3-k4cen"]);g.push(["Leaplized D&N","B2n3678/S3-q4678"]);g.push(["LifeWithoutGliders","B35n/S23"]);g.push(["Linea","B2-a3-i/S23-a"]);g.push(["LispLife","B2n3/S23-q4e8"]);g.push(["LoafLife","B2n3-q/S23"]);g.push(["longlast","B3/S234ce8"]);g.push(["lotsofdots","B2ikn34e/S023-a4ce"]);g.push(["MaritimeLife","B2i34c6cen7c8/S2-i3-q4c5a6e8"]);g.push(["maze2","B3/S234-acew"]);g.push(["Migrating Bookends","B2ein3inry/S12-n3ce"]);g.push(["MilkyLife",
"B3-c4c5y8/S234qy5y8"]);g.push(["Mooselife","B34kz5e7c/S23-a4ityz5k"]);g.push(["move_rep","B3-r4e5e6-n/S23cr457e"]);g.push(["Movero VIII","B2-a5k6n7c/S12-i3ij4k5j8"]);g.push(["MoveIt","B368/S23cy45-j6n"]);g.push(["movetub","B34e68/S245"]);g.push(["movev","B35y68/S245"]);g.push(["Movostill","B2i3acijk6i/S23-a4"]);g.push(["Movostill 2","B3acijk/S23-a4"]);g.push(["Movostill 3","B2e3aceij5-ijr/S23-a4"]);g.push(["MuddyLife","B3/S234k"]);g.push(["Nah","B345-a6/S2-a3-a4-a"]);g.push(["nonlife","B3-n/S234iz"]);
g.push(["notlife","B3-q7c/S2-i3-q4q"]);g.push(["notlife (Wright)","B2k3-k/S23-a"]);g.push(["Notlife / Ace","B2-a3/S2ce"]);g.push(["Niemiec's Rule 0","B3/S2ae3aeijr4-cknqy"]);g.push(["olife","B2in3/S2-in3"]);g.push(["Omosso","B2k3acijr4ijqy6i7c/S2aek3ijnqr4it5n"]);g.push(["Orthogonable","B2e3aiknr4q/S1c2-in3aijry4a"]);g.push(["Particles","B2ce3i/S1c2cek"]);g.push(["Patchworks","B2-an3aiy/S2-in3cijky4-nqrz5k"]);g.push(["Pedestrian Goats","B2in38/S123a"]);g.push(["Pentadecathlife","B34e5y6cn8/S234c5e"]);
g.push(["Photics I","B2ae4c678/S01e4aeqrtw5678"]);g.push(["Photics II","B2ae4cw5y6i/S01e2i4q"]);g.push(["Pi replicator life","B3-r4z5y/S238"]);g.push(["Pi-plicator","B3-ckq/S2-c34ci"]);g.push(["PiLife","B37e/S23"]);g.push(["Pilife2","B34c/S234y8"]);g.push(["plasma1","B012-in3-cky4ar5cjnr6ae/S05aijnr6n"]);g.push(["plife","B35j/S2-i3"]);g.push(["plife2","B35j6i/S2-i3"]);g.push(["PondLife","B36i/S2-i35i"]);g.push(["PortLife","B34cz5y/S234y8"]);g.push(["pre-X-rule","B2cei3ci4jnr5ikn/S12-ck4einqy5er6aei8"]);
g.push(["Prismatika Crystallios","B2ae3r/S1e"]);g.push(["PlasmaLife","B34-air/S234-air"]);g.push(["Puffers","B3-nqr6/S235-nqr"]);g.push(["PuffLife","B34-i5-a6-a/S2-an34-akrw"]);g.push(["qlife","B3-q/S23"]);g.push(["quadraticlife","B34j/S23"]);g.push(["Quasilinear Collisions","B2-ak3-jnqr/S15678"]);g.push(["Rakelife","B3aij/S2-i3ajnr4arz56-a7e"]);g.push(["Rainflakes","B2-ac3aei4ey5n6n8/S02-n3aceir4ceyz5e6k"]);g.push(["RBeeLife","B34cijkq5k6i8/S2-n3-ik4cjqt5y6cin8"]);g.push(["replife","B34jy6n/S2-i3"]);
g.push(["reptlife","B36-k/S2-i34q"]);g.push(["ResistantLife","B34eknqyz/S23"]);g.push(["Ribbons","B3-nqr/S23"]);g.push(["RotoBlocks","B34cyz5y8/S234y5y6n8"]);g.push(["RotoDotPuffers","B2ikn3-ejnr/S01c2cei3ay4c"]);g.push(["RotoHooks","B34ckyz/S234cz"]);g.push(["rgun","B34t/S2-i35a7e"]);g.push(["Rule X3VI","B2c3aei4ajnr5acn/S2-ci3-ck4in5jkq6c7c"]);g.push(["RustyLife","B34-ai/S24-air5-a"]);g.push(["Salad","B2i34c/S2-i3"]);g.push(["Sanctuary","B2ei3ci/S1c23"]);g.push(["sansdomino","B2-a/S014"]);g.push(["Savanna",
"B2e3aeiy4ce5i6c7e/S2-n3-a4artz5aeny6cn"]);g.push(["Scenery","B3-cnry4-acery5i/S23-a4-jknqr5y8"]);g.push(["SharkLife","B34aeiz/S2-ak34ant6cek"]);g.push(["signalife","B3aeijy5e6i/S2-c3-a4iq5k6ck"]);g.push(["SilverLife","B367/S2-i34q"]);g.push(["SimpleInverseFire","B2-ak4568/S156ak78"]);g.push(["Simple Life","B2k34c/S2-c34z8"]);g.push(["SLHassleLife","B3-y5cr/S234w6n"]);g.push(["SlugWorld","B2e3ai4arw5678/S3-an4ar5i678"]);g.push(["SolarWorld","B2ce3ci4iyz5ce6c/S12ce3ae"]);g.push(["SmokingLife","B2i34cj6a7c8/S2-i3-a4ceit6in"]);
g.push(["Smorgasbord","B2e3aijr4q/S1c23-a5"]);g.push(["snotlife","B2k3-kn/S23"]);g.push(["Snowflakes","B2ci3ai4c8/S02ae3eijkq4iz5ar6i7e"]);g.push(["Snowflakes 2","B2ci3ai4c8/S02ae3eijkq4aiz5ar6i7e"]);g.push(["SparkLife","B36i/S234j"]);g.push(["SparklingLife","B34cqy/S234q"]);g.push(["SparseMethuseLife","B35y/S1e2-ci3-a5i"]);g.push(["StairWorld","B2-a3i4aijk/S2a3-i4"]);g.push(["Stars","B2e3-ceny4einqwz5-cikr6cei/S1c2e3aijky4aceijrz5-cejk6-ak7c8"]);g.push(["Suns","B2ei3aeij4cjt5ky6ei/S1c2ace3jkn4aeijktw5ekry6in7e"]);
g.push(["Switches","B2ei3ij4ajnr6ci/S12ce3ajn4qtz5ijnqy6c"]);g.push(["Symmetristic","B2-ak3-jnqr4ceiqtwz5-jnqr6-ak/S2-ak3-jnqr4ceiqtwz5-jnqr6-ak"]);g.push(["t4life","B34jy/S2-i3"]);g.push(["TableLife","B3/S23-ai4anq6n"]);g.push(["TauLife","B3-nr/S2-i34-aij"]);g.push(["tceclife","B36ce7c/S2-i34q"]);g.push(["tDryFlock","B37/S12-i4q"]);g.push(["tDryLife","B37/S2-i34q"]);g.push(["TearfulLife","B34e5c6n/S23-q"]);g.push(["tEightLife","B3/S2-i34q8"]);g.push(["testlife","B36a/S23"]);g.push(["tflock","B3/S12-i4q"]);
g.push(["tHighFlock","B36/S12-i4q"]);g.push(["tHighLife","B36/S2-i34q"]);g.push(["ThisLife","B36i/S23-ce5q"]);g.push(["tlife","B3/S2-i34q"]);g.push(["tosc","B3/S234wz"]);g.push(["tosc2","B36in/S234cw"]);g.push(["tPedestrianFlock","B38/S12-i4q"]);g.push(["tPedestrianLife","B38/S2-i34q"]);g.push(["tq6","B2i34e/S023-a4ce"]);g.push(["Traffic Flow","B2e3aciy4jnw68/S23678"]);g.push(["Train","B34t6k8/S2-i35a7e"]);g.push(["Trilobites","B3aijn4w5nq/S2ae3aijr4irz5y"]);g.push(["triship","B2a3e/S012-ai3-i45-i678"]);
g.push(["Trycogene","B2ce3aijn/S2ak3-aijn4jkqty5cekr6ce8"]);g.push(["Turro","B2-a3c/S12-i"]);g.push(["Two-dots rule 1","B2ei3ci4aerw5acky6i8/S012-an3eiknq4qrty5aeik6ik8"]);g.push(["Two-dots rule 2","B2-ak3aen4cenrtw5iq6e/S02ac3aenqy4ejqtwy5ak6acn7"]);g.push(["Twinkles","B2in34-a/S1e2ekn34ent"]);g.push(["Virus_v2","B3-nqr6/S235"]);g.push(["Wartlife","B3aijnq6n/S2-cn3-ceky4i"]);g.push(["WetLife","B34r/S23"]);g.push(["Whichlife","B2in3aeijn/S234e"]);g.push(["Wild Seas","B2c3-cekq4ikt5i8/S2-in3-acky4aijry5eiky6i"]);
g.push(["wlife","B34w/S23"]);g.push(["Worms 0","B01c2n5a/S3a5i"]);g.push(["Writers","B2-a3-inqr4c6/S23"]);g.push(["WSScentral","B3-n45qr6i/S2eik3"]);g.push(["X-rule-pre","B2cei3ci4jnr5ikn/S12aen3c4einqy5er6aei8"]);g.push(["xtdbee","B3-k/S23"]);g.push(["xvaLifeg","B2e3/S23"]);g.push(["Ylife","B2e3ai4ar/S23-a4a"]);g.push(["ylife (BokaBB)","B34y5y/S234y5y"]);g.push(["zigzag","B3/S2-k34q"]);g.push(["ZombieLife","B3-nqy4aqz5cn6n8/S2-i3-a4inqz7c8"]);p.push("INT M G");g.push(["Isotropic Non-Totalistic Generations Moore",
""]);g.push(["HTech","234e/2e3/3"]);g.push(["Jellyfish","2ak34-a5-i/2c36k7/4"]);g.push(["KST","1234-i5anq6kn/3r4kr5eiq6ack7e/3"]);g.push(["Simple Brain","234e/e3/3"]);g.push(["Sliders","012-e3-ae4acnqyz5acer6acn78/3j4-eikq5c/3"]);g.push(["tGeneC1WC0","2-i34q/2c34w5c/4"]);p.push("LtL M");g.push(["Larger than Life Moore",""]);g.push(["Balloons","R2,C2,M1,S7..10,B7..11,NM"]);g.push(["Bosco's Rule","R5,C2,M1,S34..58,B34..45,NM"]);g.push(["Bosco Analogue","R5,C2,M1,S34..53,B31..42,NM"]);g.push(["Bugs R3",
"R3,C2,M1,S14..23,B14..18,NM"]);g.push(["Bugs R4","R4,C2,M1,S23..39,B23..30,NM"]);g.push(["Bugs R6","R6,C2,M1,S47..81,B47..63,NM"]);g.push(["Bugs R6 variant","R6,C2,M1,S47..81,B47..71,NM"]);g.push(["Bugs R7","R7,C2,M1,S63..108,B63..84,NM"]);g.push(["Bugs R9","R9,C2,M1,S101..173,B101..134,NM"]);g.push(["Bugs R10","R10,C2,M1,S124..211,B124..164,NM"]);g.push(["Bugs R10 variant","R10,C2,M1,S124..211,B124..166,NM"]);g.push(["Bugs R12","R12,C2,M1,S175..300,B175..232,NM"]);g.push(["Bugs R13","R13,C2,M1,S205..349,B205..271,NM"]);
g.push(["Bugs R14","R14,C2,M1,S236..403,B236..313,NM"]);g.push(["Bugs R15","R15,C2,M1,S269..461,B270..357,NM"]);g.push(["Bugs R100 variant","R100,C2,M1,S11303..19361,B11100..14996,NM"]);g.push(["Bugsmovie","R10,C2,M1,S123..212,B123..170,NM"]);g.push(["Globe","R8,C2,M1,S164..224,B74..252,NM"]);g.push(["Majorly","R7,C2,M1,S113..225,B113..224,NM"]);g.push(["Mini Bugs","R2,C2,M1,S7..10,B7..8,NM"]);g.push(["Miniature Bugs","R3,C2,M1,S15..22,B14..25,NM"]);g.push(["Pigs","R2,C2,M1,S10..19,B4..4,NM"]);g.push(["Quadratic Bugs",
"R6,C2,M1,S47..81,B47..61,NM"]);g.push(["Rasta Bugs","R5,C2,M1,S41..59,B32..50,NM"]);g.push(["Smudge","R2,C2,M1,S7..11,B8..8,NM"]);g.push(["Stones","R5,C2,M1,S29..58,B38..61,NM"]);g.push(["Soldier Bugs","R7,C2,M1,S65..114,B65..95,NM"]);g.push(["Suicidal Bugs","R5,C2,M1,S37..59,B33..49,NM"]);g.push(["Waffle","R7,C2,M1,S100..200,B75..170,NM"]);g.push(["Waving human intestines","R20,C2,M1,S1..21,B1..5,NM"]);p.push("LtL M G");g.push(["Generations Larger than Life Moore",""]);g.push(["Fire rule","R5,C6,M1,S31..43,B15..25,NM"]);
g.push(["Fire whirl","R8,C6,M1,S46..91,B65..100,NM"]);g.push(["ModernArt","R10,C255,M1,S2..3,B3..3,NM"]);p.push("HROT vN");g.push(["Higher-Range Outer-Totalistic von Neumann",""]);g.push(["Fredkin2 R2","R2,C2,S0,2,4,6,8,10,12,B1,3,5,7,9,11,NN"]);g.push(["Parity R2","R2,C2,S1,3,5,7,9,11,B1,3,5,7,9,11,NN"]);p.push("HROT M");g.push(["Higher-Range Outer-Totalistic Moore",""]);g.push(["Fredkin R2","R2,C2,S0,2,4,6,8,10,12,14,16,18,20,22,24,B1,3,5,7,9,11,13,15,17,19,21,23"]);g.push(["Fredkin R3","R3,C2,S0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47"]);
g.push(["Fredkin R4","R4,C2,S0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79"]);g.push(["Replicator R2","R2,C2,S1,3,5,7,9,11,13,15,17,19,21,23,B1,3,5,7,9,11,13,15,17,19,21,23"]);g.push(["Replicator R3","R3,C2,S1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47"]);
g.push(["Replicator R4","R4,C2,S1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79"]);p.push("MAP NINT");g.push(["MAP Non-Isotropic",""]);g.push(["2CellSlug","MAPBTDe/yAA9/8AAP//AAD//yAA/78AAP//AID//wAA//8AAP//AAD/2wAA//8AgP//AAD//4AA//+AAH//AAD//w"]);g.push(["BLAHTWOCELLGUN","MAPAMB/vwAA//8AAP//AAD//wAA//8AAP//AAD//wAA//8AAP//AAD//wAA//8AAP//AAD//wAA//8AAP//AAD//w"]);
g.push(["FoxLife","MAPARYXfhZofugWaH7oaIFoxBZofuhogOiAaIFoxIAAgAAWaH7oaIFoxGiA6ICAAIAAaIFoxIAAgACAAIAAAAAAAA"]);g.push(["MovingStrings","MAPARH+/wMT//8BEf7/AxP//wER/v8DE///AREAAAMTAAABEf7/AxP//wER/v8DE///AREAAAMTAAABEQAAAxMAAA"]);g.push(["MuzikThing","MAPACD//wAA3/8AgH//AAD//wCAf/8AAP//AAD//wAA//8AAH//AAD//wAA//8AAP//gAD//wAA//8AAP//AAD//w"]);g.push(["MyEntry","MAPIAD/7wgA/f8AAP//AAD//wAA//8AAP//AAD/fwAA//8AAP//AAD//wAA//8AAP//AAD//4AA//8AAP//AAD//w"]);g.push(["OLife","MAPABD/vgIB//8AAP//AAD//wAA/78AAN3/AJB/vwAAf/8AAP//AABd/wAA//8AAP//AAD//4IA//8AAP//AIB//w"]);
g.push(["Rhufo","MAPARH//wMA//8AAP9/AAD//wAA//8AAP9/AAD//wAA//8AAP//AAB//wAA//8AAP//AAD//wAA//8AAH9/AAB//w"]);g.push(["Rhufo2","MAPARH//wMA//8AAH9/AAD//wAAX/8AAP9/AAB/7wAA//8AAH//AAB//wAA//8AAP//AAB//wAA/f8AAH8/AAB3/w"]);g.push(["SemiFelineLife","MAPARYXfhZofugWaH7oaIDogBZofuhogOiAaIDogIAAgAAWaH7oaICatGiA6ICAAIAAaICatIAAgACAAIAAAAAAAA"]);g.push(["Simple_Weird_Ships","MAPABHs/wMA//8AAP//AAD//wAA/38AAP//AAD//wAA//8AAP//gAD//wAA//8AAP//AAD//wAA//8AAP//AAD//w"]);g.push(["Socrates","MAPARYXfhZofugWaH7oaIDogBZofuhogOiAaIDogIAAgAAWaH7oaIDogGiA6ICAAIAAaIDogIAAg00IAmSocrateg"]);
p.push("Weighted");g.push(["Weighted",""]);g.push(["Ben's rule","R1,C2,S3,5,8,B4,6,8,NW323202323"]);g.push(["Border","R1,C2,S10-16,B1-8,NW010101010901010101"]);g.push(["Bricks","R1,C3,S10,12,14,16,B7,13,NW525202525"]);g.push(["Bustle","R1,C4,S2,4-5,7,B3,NW212101212"]);g.push(["Career","R1,C2,S2-3,B3,NW121101111"]);g.push(["Cloud54","R1,C2,S2-3,9-10,19,27,B3,10,27,NW010109010009010909"]);g.push(["Cloud75","R1,C2,S2-4,10-11,13,18,21-22,27,29-31,36-40,B3,10,27,NW010109010009010909"]);g.push(["Conway",
"R1,C2,S2-3,6-7,10-11,15,B3,7,11,15,NW515101515"]);g.push(["Conway--","R1,C2,S3,6-7,10-11,15,B3,7,11,15,NW515101515"]);g.push(["Conway++","R1,C2,S2-3,6-7,10-11,15,20,B3,7,11,15,NW515101515"]);g.push(["Conway+-1","R1,C2,S2-3,6-7,10,12,15,B3,7,11,15,NW515101515"]);g.push(["Conway+-2","R1,C2,S2-3,7,10-13,15,B3,7,11,15,NW515101515"]);g.push(["CrossPorpoises","R1,C2,S2-3,6-10,12-13,B5,NW141404140"]);g.push(["Cyclish","R1,C7,S2,B1-3,NW010101010"]);g.push(["Cyclones","R1,C5,S2,4-5,B2-5,NW110101011"]);g.push(["Dragon",
"R1,C2,S1-2,7-8,12,15,18,20,B7,11-13,20,NW515101515"]);g.push(["Emergence","R1,C2,S2-4,10-11,16-17,24-25,B3-4,9,24,NW010801010001080801"]);g.push(["Fire-flies","R1,C9,S1,10,B6,11-12,21,NW010501050a05010501"]);g.push(["Fleas","R1,C2,S2-3,6-7,10-11,15,20,B2,11,NW515101515"]);g.push(["Fleas2","R1,C2,S1-2,5,7,10-11,B2,4,8,11,NW515101515"]);g.push(["NoFleas2","R1,C2,S2-3,5-7,10-11,B2,4,8,11,NW515101515"]);g.push(["FroggyHex","R1,C2,S1,6,8,B5-6,NW410104041H"]);g.push(["Frost M","R1,C25,S,B1,NW111101111"]);
g.push(["Frost N","R1,C25,S,B1,NW010101010"]);g.push(["Gnats","R1,C2,S0-2,11,19,B11,19,NW090109010001090109"]);g.push(["HexParity","R1,C2,S0,2,4,6,B1,3,5,NW110101011H"]);g.push(["Hextenders","R1,C10,S1,3-5,B2-3,NW110101011H"]);g.push(["Hex Inverse Fire","R1,C2,S2-3,6-9,11-15,B5,10-11,14-15,NW410104041H"]);g.push(["HGlass","R1,C2,S1-3,11,21,25,29-31,B1-3,11,21,25,29-31,NW000200080110000400"]);g.push(["Hogs","R1,C2,S2-4,6,B5-6,NW023302230H"]);g.push(["Jitters","R1,C2,S4,14,B1,4,9,NW995505599"]);g.push(["Lemmings",
"R1,C2,S3-6,B4,NW121202131"]);g.push(["Linguini","R1,C2,S2-4,9-11,19-20,B11,18,NW090109010001090109"]);g.push(["Madness","R1,C2,S8,10,12,14,B5,8,13,NW232303232"]);g.push(["MazeMakers","R1,C2,S2-3,6-10,12-13,B5,NW441404141"]);g.push(["MidgeDN","R1,C9,S0,2-3,B4-6,NW222101212"]);g.push(["Midges","R1,C4,S3,5-6,B4-6,NW121232121"]);g.push(["MikesAnts","R1,C2,S4-5,B2,5-6,NW011100111"]);g.push(["Mosquito","R1,C2,S3-4,8-9,B2-3,9,NW995505599"]);g.push(["Mosquito2","R1,C2,S3-4,8-9,B3,6,9,18,NW995505599"]);g.push(["Navaho1",
"R1,C12,S8-9,11,B2,5,NW414575414"]);g.push(["Nocturne","R1,C4,S1,6,B2-4,NW110101011"]);g.push(["Parity","R1,C2,S1,3,5,B1,3,5,NW010111010"]);g.push(["Pictures","R1,C2,S1-3,B2-4,NW010101010"]);g.push(["PicturesH","R1,C9,S1-3,B2-4,NW010101010"]);g.push(["Pinwheels","R1,C7,S2,B2-3,NW110101011"]);g.push(["PipeFleas","R1,C3,S3-4,7,11-15,17-18,20,22-23,B6,10,NW515101515"]);g.push(["PreHogs","R1,C2,S3-4,6,B5-6,NW230302023"]);g.push(["PuttPutt","R1,C2,S1-4,9,18,27,36,40,B2,4,11,18-19,36,40,NW090109010001090109"]);
g.push(["SEmigration","R1,C2,S2-3,6-7,10-12,B7,11-12,16,NW515100505"]);g.push(["Simple","R1,C2,S1,5,B2,10,NW515101515"]);g.push(["Simple Inverse","R1,C2,S1,4-5,8-9,12-13,16-24,B2,9-10,13-14,17-18,21-22,24,NW515101515"]);g.push(["Simple Inverse Fire","R1,C2,S1,5,9,13,17-19,21,23-24,B2,4,8-10,12-14,16-18,20-22,24,NW515101515"]);g.push(["Stampede","R1,C8,S4,6,9-10,B4,7,NW130303130"]);g.push(["Starburst","R1,C2,S2,4,6,B4,NW121202121"]);g.push(["Starbursts2","R1,C2,S2,4-6,B4,NW121202121"]);g.push(["Stream",
"R1,C2,S1,3-4,7-11,B5,7-8,10-11,NW010104041"]);g.push(["UpDown1","R1,C2,S2,4-6,9,12,16,20,B3,6,9,12,NW111404444"]);g.push(["UpDown2","R1,C2,S2-3,7,10-12,15,B3,7,11,15,NW151101555"]);g.push(["Upstream","R1,C10,S4,6,9-10,B4,7,NW130404130"]);g.push(["Vineyard","R1,C2,S2,6,8-10,12-13,B5,NW141404040"]);g.push(["Vineyard2","R1,C2,S2,8-10,12-13,B5,NW141404040"]);g.push(["Weevils","R1,C2,S1-4,B5-6,14,NW331101133"]);g.push(["Weighted Brain","R1,C3,S3-4,7,B4-5,8,NW3323d3232"]);g.push(["Y_Chromosome","R1,C3,S2,B2,NW110101011"]);
p.push("Weighted G");g.push(["Weighted Generations",""]);g.push(["WG Rule004","R1,C4,S6-11,B4,NW111101111,0201"]);g.push(["WG Rule012","R1,C6,S4-5,B5,NW111101111,021111"]);g.push(["WG Rule020","R1,C6,S5-8,B5,NW111101111,020301"]);g.push(["WG Rule031","R1,C4,S5-7,B4,NW111101111,0210"]);g.push(["WG Rule038","R1,C5,S8,B6,9,NW111101111,03210"]);g.push(["WG Rule050","R1,C8,S4-8,B6,NW111101111,02120300"]);g.push(["WG Rule063","R1,C5,S6-7,9-11,B7,10,NW212101212,03101"]);g.push(["WG Rule071","R1,C6,S8-16,B6,NW111101111,031012"]);
g.push(["WG Rule072","R1,C6,S8-16,B6,NW111101111,030112"]);g.push(["WG Rule074","R1,C5,S4-8,B3,NW111101111,02001"]);g.push(["WG Rule084","R1,C7,S5-6,B5,NW212101212,0121001"]);p.push("Alt OT M");g.push(["Alternating Outer-Totalistic Moore",""]);g.push(["alternlife","B13/S012345678|B/S15"]);g.push(["comb395","B3/S1237|B2/S"]);g.push(["comb625","B3/S348|B2/S356"]);g.push(["Dotlesslife","B3/S23|B/S12345678"]);g.push(["Fizzler","B13/S3|B/S345678"]);g.push(["Jelly","B3/S135|B2/S5"]);g.push(["Phoenix","B24/S|B35/S"]);
p.push("Alt INT M");g.push(["Alternating Non-Totalistic Moore",""]);g.push(["SparklessLife","B3/S23|B/S1c2345678"]);g.push(["Unidim1","B134578/S02345678|B6i7/S268"]);g.push(["Unidim2","B12ci34578/S02345678|B7/S268"]);g.push(["Unidim3","B12ci34578/S02345678|B6i7/S268"]);this.Hc[0][2]=!1;this.Hc[0][3]=!1;for(w=1;w<this.Hc.length;w+=1)for(g=this.Hc[w][1],p=this.Hc[w][0],this.Hc[w][2]=!1,this.Hc[w][3]=!1,h=0;h<w;h+=1)this.Hc[h][0]===p&&(this.Hc[h][3]=!0,this.Hc[w][3]=!0),this.Hc[h][1]===g&&(this.Hc[h][2]=
!0,this.Hc[w][2]=!0)},wz:function(w){var h=null,g=0;for(w=w.replace(/&amp;/g,"&");g<this.Hc.length&&null===h;)""!==this.Hc[g][1]&&this.Hc[g][0]===w&&(h=this.Hc[g][1]),g+=1;if(!h)for(w=w.toLowerCase(),g=0;g<this.Hc.length&&null===h;)""!==this.Hc[g][1]&&this.Hc[g][0].toLowerCase()===w&&(h=this.Hc[g][1]),g+=1;return h},Er:function(w){for(var h=null,g=0;g<this.Hc.length&&null===h;)""!==this.Hc[g][1]&&this.Hc[g][1]===w&&(h=this.Hc[g][0]),g+=1;return h}}}(),function(){function w(d,e,m,n,q){this.j=q;this.Ya=
d;this.cb=e;this.Gb=m;this.message="";this.ka=d;this.wa=e;this.Db=m;this.Gk="";this.U=this.G=!1;this.context=n;this.ob=!1;this.La=this.$=0;this.Yg="rgb(32,255,255)";this.wG="white";this.B=0;this.animate=!1;this.$b=this.oc="black";this.enabled=!1;this.scale=1}function h(d,e,m,n){this.name=d;this.width=e;this.height=m;this.aq=n}function g(d,e){this.context=e;this.U=d;this.height=this.width=0;this.wa=this.ka=this.G=this.B=null;this.$=[];this.Kw=!0;this.GB=-1;this.ME=0;this.qf=!1;this.scale=1}function p(d,
e,m,n,q,u,y,v,r,B,b,l,f,t,x,z,A,C,I,G){this.id=d;this.G=G;this.F="";this.rm=-1;this.m=this.Av=!1;this.Jb=e;this.caller=m;this.icon=I;this.x=q;this.y=u;this.Xm=q;this.B=u;this.position=n;this.width=y;this.height=v;this.Vs=y;this.jD=v;this.border=t;this.type=l;f===c.uy?this.orientation=y>=v?c.Re:c.vertical:this.orientation=f;this.lt=this.orientation;this.lower=r;this.upper=B;l===c.zo?this.current=[b,b]:this.current=b;this.hD=x;this.Xa=z;this.sB=A;this.fixed=C;this.Rv=!1;this.eA=this.dA=-1;this.textAlign=
c.VD;this.enabled=!0;this.so=this.locked=!1;this.Hg=[];if(this.type===c.list)for(d=0;d<r.length;d+=1)this.Hg[d]=!1;this.pt=[];this.kw=0;this.xL=!1;this.Yc=G.Yc;this.be=G.be;if(l===c.list)for(this.Cn=[],d=0;d<r.length;d+=1)this.Cn[d]=this.Yc;this.mf=G.mf;this.Dg=G.Dg;this.Di=G.Di;this.ml=G.ml;this.$m=G.$m;this.Jo=G.Jo;this.eh=G.eh;this.zk=G.zk;this.oi=G.oi;this.Zk=G.Zk;this.border=G.border;this.fontSize=parseInt(G.cl.substr(0,G.cl.indexOf("px")),10);this.fontFamily=G.cl.substr(G.cl.indexOf("px")+3)}
function k(d,e,m,n,q,u){this.D=d;this.context=q;this.xh=this.Ie=1;this.cl=u;this.locked=this.m=!1;this.Kg=this.rf=-1;this.Fn=this.Nc=!1;this.ka=this.$=-1;this.La=6;this.Jb=e;this.je=[];this.Pc=0;this.Yc="";this.be=0;this.mf="";this.Dg=0;this.Di="";this.ml=0;this.$m="";this.Jo=0;this.eh="";this.zk=0;this.oi="";this.border=this.Zk=0;this.G=c.uy;this.Hm=this.Xk=-1;this.Qn=this.tD=null;this.fu=m;this.caller=n;this.Y=null;this.Py=this.Iu=this.U="auto"}function a(d,e,m,n,q,u){var y=this,v=0;this.xf=1;this.Kz=
this.tB=!0;this.Ya=this.cb=40;this.vO=50;this.Yj=0;this.$=this.ka=this.La=-1;this.to=!1;this.caller=q;this.Xj=this.vb=this.sl=this.Sc=!1;this.Ge=4;this.CE=u;this.hasFocus=this.er=!1;this.Zq=!0;this.qx=!1;this.vn=1;this.Yu=8;this.Yc="black";this.be=.7;this.mf="white";this.Dg=1;this.Di="rgb(0,240,32)";this.ml=.7;this.$m="blue";this.Jo=.7;this.eh="grey";this.zk=1;this.oi="rgb(32,255,255)";this.border=this.Zk=1;this.UD=function(r){return function(){r.oc(r)}}(this);this.Y=n;this.Zc=d;this.Ec=e;this.Nc=
!1;this.rl=this.ql=-1;this.el=!1;this.Lh=-1;this.Ic=null;this.cl=m;this.bn=this.Mk=!1;this.Sv=performance.now();this.oo=5;this.ot=0;this.bA=[];this.hA=[];this.aA=[];for(v=0;5>v;v+=1)this.bA[v]=0,this.hA[v]=0,this.aA[v]=0;this.ns=null;this.Uf=!1;this.notification=new w(25,100,25,e,this);this.cA=performance.now();this.Fn=this.fD=!1;this.U=[];this.B=this.G=0;registerEvent(d,"mousedown",function(r){y.ob(y,r)},!1);registerEvent(d,"mousemove",function(r){y.Db(y,r)},!1);registerEvent(d,"mouseup",function(r){y.$b(y,
r)},!1);registerEvent(d,"mouseover",function(r){y.Pb(y,r)},!1);registerEvent(d,"mouseout",function(r){y.Gb(y,r)},!1);registerEvent(d,"touchstart",function(r){y.wa(y,r)},!1);registerEvent(d,"touchmove",function(r){y.wa(y,r)},!1);registerEvent(d,"touchend",function(r){y.wa(y,r)},!1);registerEvent(d,"touchcancel",function(r){y.wa(y,r)},!1)}w.prototype.Pn=function(){var d=!1;if(""!==this.message||""!==this.Gk)d=!0;return d};w.prototype.clear=function(d,e){d?""!==this.Gk&&(e||this.U?(this.Gk="",this.U=
!1):(this.La=performance.now()-(this.ka+this.wa),this.U=!0)):""!==this.message&&(e||this.G?(this.G=!1,this.message=""):(this.$=performance.now()-(this.Ya+this.cb),this.G=!0))};w.prototype.notify=function(d,e,m,n,q){this.enabled&&(q?this.Gk!==d&&(this.Gk=d,this.ka=16*e,this.wa=16*m,this.Db=16*n,this.La=performance.now(),this.U=!1,this.B=0,this.animate=!1):(this.message=d,this.Ya=16*e,this.cb=16*m,this.Gb=16*n,this.$=performance.now(),this.G=!1))};w.prototype.co=function(d,e,m){var n=this.context.measureText(d).width>>
1;if(this.ob){this.context.fillStyle=this.$b;var q=this.context.globalAlpha;this.context.globalAlpha=.5*q;this.context.fillRect(-n-20,-m,2*n+40,2*m);this.context.globalAlpha=q}this.context.fillStyle=this.oc;this.context.fillText(d,-n+2,2);e?this.animate?(this.context.fillStyle=128>this.B?"rgb("+2*this.B+","+2*this.B+",255)":"rgb("+2*(256-this.B)+","+2*(256-this.B)+",255)",this.B=this.B+4&255):this.context.fillStyle=this.wG:this.context.fillStyle=this.Yg;this.context.fillText(d,-n,0)};w.prototype.Pb=
function(d,e,m,n,q,u,y){var v=30*this.scale,r=32*this.scale,B=this.j.Ge,b=60*this.scale,l=!0;this.j.Sc?(b=0,u=this.context.canvas.height/2,this.ob=!0):this.ob=!1;""!==d&&(l=!1,q=performance.now()-q,this.context.save(),this.j.vb&&(y?(b=0,u=this.context.canvas.height/2):(v/=B,r=r/B|0,u=u/B|0,b=b/B|0)),this.context.font=(v|0)+"px Arial",this.context.translate(this.context.canvas.width/2-1,b+u),q<=e?(u=q/e,u*=u,this.context.globalAlpha=u,this.context.scale(u,u)):q>e+m&&q<=e+m+n&&(u=(n-(q-(e+m)))/n,u*=
u,this.context.globalAlpha=u,this.context.scale(u,u)),q>e+m+n?l=!0:(e=d.indexOf("\\n"),-1===e?this.co(d,y,r):(this.co(d.substr(0,e),y,r),this.context.translate(0,r),this.co(d.substr(e+2),y,r))),this.context.restore());return l};w.prototype.update=function(){var d=this.j.Ic.xh;this.Pb(this.message,this.Ya,this.cb,this.Gb,this.$,81*d,!1)&&(this.message="");this.j.vb&&"Expand"!==this.Gk&&"Launch"!==this.Gk||!this.Pb(this.Gk,this.ka,this.wa,this.Db,this.La,45*d,!0)||(this.Gk="")};g.prototype.WN=function(d){this.scale=
d};g.prototype.co=function(d,e,m,n){var q;if(0<this.U.width){this.qf||(this.width=this.U.width,this.height=this.U.height,this.B=document.createElement("canvas"),this.B.width=this.width,this.B.height=this.height,this.G=this.B.getContext("2d"),this.ka=new Image,this.wa=new Image);if(this.Kw){this.G.drawImage(this.U,0,0);var u=this.G.getImageData(0,0,this.B.width,this.B.height);var y=new Uint32Array(u.data.buffer);for(q=0;q<y.length;q+=1)4294967295===y[q]&&(y[q]=this.ME);this.G.putImageData(u,0,0);this.wa.src=
this.B.toDataURL("image/png");this.G.drawImage(this.U,0,0);u=this.G.getImageData(0,0,this.B.width,this.B.height);y=new Uint32Array(u.data.buffer);for(q=0;q<y.length;q+=1)4294967295===y[q]&&(y[q]=this.GB);this.G.putImageData(u,0,0);this.qf=this.Kw=!1}this.qf||(this.ka.src=this.B.toDataURL("image/png"),this.qf=!0);1!==this.scale&&(this.context.save(),this.context.translate(e,m),this.context.scale(this.scale,this.scale),this.context.imageSmoothingEnabled=!0,m=e=0);n?this.context.drawImage(this.wa,d.aq*
d.width,0,d.width,d.height,e,m,d.width,d.height):this.context.drawImage(this.ka,d.aq*d.width,0,d.width,d.height,e,m,d.width,d.height);1!==this.scale&&(this.context.restore(),this.context.imageSmoothingEnabled=!1)}};g.prototype.length=function(){return this.$.length};g.prototype.icon=function(d){var e,m=this.$,n=this.length(),q=null;for(e=0;e<n&&!q;)m[e].name===d?q=m[e]:e+=1;return q};g.prototype.add=function(d,e,m){var n=this.$.length;d=new h(d,e,m,n);this.$[n]=d};var c={uy:0,Re:1,vertical:2,zo:0,
button:1,toggle:2,jg:3,list:4,label:5,en:0,Va:1,left:0,VD:1,right:2,ra:0,tc:1,mz:2,nb:3,No:4,Sj:5,xD:6,md:7,ub:8};p.prototype.Bg=function(d){!this.m&&d&&(this.m=!0)};p.prototype.bb=function(d){this.fontSize=parseInt(d.substr(0,d.indexOf("px")),10);this.fontFamily=d.substr(d.indexOf("px")+3)};p.prototype.at=function(d,e,m,n,q,u){this.mf=d;this.Yc=e;this.Di=m;this.$m=n;this.eh=q;this.oi=u;if(this.type===c.list)for(this.Cn=[],d=0;d<this.lower.length;d+=1)this.Cn[d]=this.Yc};p.prototype.Ji=function(d){this.Vs=
d};p.prototype.QN=function(d){this.jD=d};p.prototype.Lo=function(d){this.Xm=d};p.prototype.yI=function(d){this.B=d};p.prototype.setPosition=function(d,e,m){this.position=d;this.Xm=e;this.B=m};p.prototype.kJ=function(d,e){var m=this.G.Ie,n=this.G.xh,q=this.Xm*m,u=this.B*n;m=this.Vs*m;n=this.jD*n;this.x=q;this.y=u;this.width=m;this.height=n;switch(this.position){case c.ra:this.x=(d-m>>1)+q;break;case c.tc:this.x=d+q;break;case c.mz:this.y=(e-n>>1)+u;this.x=d+q;break;case c.nb:this.x=d+q;this.y=e+u;
break;case c.No:this.x=(d-m>>1)+q;this.y=e+u;break;case c.Sj:this.y=e+u;break;case c.xD:this.y=(e-n>>1)+u;break;case c.ub:this.x=(d-m>>1)+q,this.y=(e-n>>1)+u}};p.prototype.GD=function(d,e){var m=this.kw;this.pt[m]=[d,e];this.kw=m+1};p.prototype.gu=function(d){var e=[],m;var n=d.length;for(m=0;m<n;m+=1)d[m].GD(this,!0);n=e.length;for(m=0;m<n;m+=1)e[m].GD(this,!1)};p.prototype.cM=function(d,e){var m=!1;this.enabled&&d>=this.x&&d<this.x+this.width&&e>=this.y&&e<this.y+this.height&&(m=!0);return m};k.prototype.sN=
function(d){this.xh=this.Ie=d;this.D.notification.scale=d};k.prototype.at=function(d,e,m,n,q,u){var y;this.mf=d;this.Yc=e;this.Di=m;this.eh=q;this.oi=u;for(y=0;y<this.je.length;y+=1)this.je[y].at(d,e,m,n,q,u)};k.prototype.wa=function(d,e){var m=!1,n=d.kw;d.type===c.list&&d.upper===c.Va?m=d.current[0]:m=d.current===d.upper;d.xL&&(m=!m);if(m&&e)for(e=0;e<n;e+=1)m=m&&this.wa(d.pt[e][0],d.pt[e][1]);return m};k.prototype.jH=function(d){var e,m=d.kw;var n=!0;for(e=0;e<m;e+=1)n=n&&this.wa(d.pt[e][0],d.pt[e][1]);
d.enabled=n};k.prototype.qf=function(){var d;for(d=0;d<this.Pc;d+=1){var e=this.je[d];e.enabled=!0;switch(e.type){case c.toggle:e.Jb&&(e.current=e.Jb(e.current===e.upper,!1,this.caller)?e.upper:e.lower);break;case c.zo:e.Jb&&(e.current=e.Jb(e.current,!1,this.caller));break;case c.list:e.Jb&&(e.current=e.Jb(e.current,!1,this.caller))}this.jH(e)}};k.prototype.pb=function(d,e,m,n,q,u,y,v,r){this.je[this.Pc]=new p(this.Pc,d,this.caller,e,m,n,q,u,y,r,v,c.list,this.G,this.border,!0,"","",-1,[],this);this.Pc+=
1;return this.je[this.Pc-1]};k.prototype.jk=function(d,e,m,n,q,u,y,v,r,B,b,l){this.je[this.Pc]=new p(this.Pc,d,this.caller,e,m,n,q,u,y,v,r,c.zo,this.G,this.border,!0,B,b,l,null,this);this.Pc+=1;return this.je[this.Pc-1]};k.prototype.Fa=function(d,e,m,n,q,u){this.je[this.Pc]=new p(this.Pc,null,null,d,e,m,n,q,0,0,0,c.label,this.G,this.border,!0,u,"",-1,null,this);this.Pc+=1;return this.je[this.Pc-1]};k.prototype.Ga=function(d,e,m,n,q,u){this.je[this.Pc]=new p(this.Pc,d,this.caller,e,m,n,q,40,0,0,0,
c.button,this.G,this.border,!0,u,"",-1,null,this);this.Pc+=1;return this.je[this.Pc-1]};k.prototype.NI=function(){this.je[this.Pc]=new p(this.Pc,null,null,Menu.Sj,0,-40,100,40,0,100,0,c.jg,this.G,this.border,!1,"","",0,null,this);this.Pc+=1;return this.je[this.Pc-1]};k.prototype.B=function(d,e,m){var n;d+=String();if(""!==d){this.context.save();this.context.translate(e.x+e.width/2,e.y+e.height/2);this.context.font=(e.fontSize*this.Ie|0)+"px "+e.fontFamily;e.lt===c.vertical&&this.context.rotate(.5*
Math.PI);var q=this.context.measureText(d).width;var u=e.lt===c.vertical?e.height:e.width;if(q>=u-6){if(n=d.length){do{--n;var y=d.substr(0,n)+"...";q=this.context.measureText(y).width}while(1<n&&q>=u-6)}d=y}switch(e.textAlign){case c.left:var v=e.width/2-2;break;case c.VD:v=q/2;break;case c.right:v=q/2-(e.width-q)/2+4}this.context.fillStyle=e.Yc;m&&this.context.fillRect(2-v,2,q,2);this.context.fillText(d,2-v+.5,2.5);this.context.fillStyle=!e.locked&&!this.locked||e.so?e.mf:e.eh;this.context.fillText(d,
-v+.5,.5);m&&this.context.fillRect(-v,0,q,2);this.context.restore()}};k.prototype.ob=function(d){this.context.globalAlpha=this.Dg;this.B(d.Xa,d,!1)};k.prototype.Ya=function(d){this.context.globalAlpha=this.Dg;this.B(d.Xa,d,!1)};k.prototype.Gb=function(d){var e=(d.current-d.lower)/(d.upper-d.lower);this.context.globalAlpha=d.be;this.context.fillStyle=d.mf;d.orientation===c.Re?(e*=d.width-3,this.context.fillRect(d.x+(e+1|0),d.y,1,d.height)):(e*=d.height-3,this.context.fillRect(d.x,d.y+(e+1|0),d.width,
1));e=d.Xa;d.hD&&(e=-1!==d.fixed?e+d.current.toFixed(d.fixed):e+d.current,e+=d.sB);""!==e&&(this.context.globalAlpha=d.Dg,this.B(e,d,!1))};k.prototype.Pb=function(d,e){var m=(d.current[0]-d.lower)/(d.upper-d.lower);var n=this.La;d.orientation===c.Re?(m*=d.width-3,m=m+1|0,e&&(this.context.fillStyle=d.Di,this.context.globalAlpha=d.ml,this.context.fillRect(d.x+m-n,d.y,n,d.height),this.context.fillRect(d.x+m+1,d.y,n,d.height)),!d.locked&&!this.locked||d.so?(this.context.fillStyle=d.mf,this.context.globalAlpha=
d.Dg):(this.context.fillStyle=d.eh,this.context.globalAlpha=d.zk),this.context.fillRect(d.x+m,d.y,1,d.height)):(m*=d.height-3,m=m+1|0,e&&(this.context.fillStyle=d.Di,this.context.globalAlpha=d.ml,this.context.fillRect(d.x,d.y+m-n,d.width,n),this.context.fillRect(d.x,d.y+m+1,d.width,n)),!d.locked&&!this.locked||d.so?(this.context.fillStyle=d.mf,this.context.globalAlpha=d.Dg):(this.context.fillStyle=d.eh,this.context.globalAlpha=d.zk),this.context.fillRect(d.x,d.y+m,d.width,1));e=d.Xa;d.hD&&(e=0<=d.fixed?
e+d.current[1].toFixed(d.fixed):e+d.current[1]);e+=d.sB;""!==e&&(this.context.globalAlpha=this.Dg,this.B(e,d,!1))};k.prototype.$b=function(d){this.context.globalAlpha=this.Dg;var e="-"===d.lower&&""===d.upper&&d.current===d.lower;var m=d.Xa;d.hD&&!e&&(m+=d.current);m+=d.sB;this.B(m,d,e)};k.prototype.Db=function(d,e){var m=d.x;var n=d.y;var q=d.width;var u=d.height;var y=d.orientation;var v=d.current;var r=d.lower;var B=r.length;var b=d.orientation===c.Re?q/B:u/B;this.context.globalAlpha=d.Jo;this.context.fillStyle=
d.$m;if(d.upper===c.en){var l=d.current;0<=l&&l<B&&(d.orientation===c.Re?this.context.fillRect(m+l*b+1,n+1,b-2,u-2):this.context.fillRect(m+1,n+1+l*b,q-2,b-2))}else if(d.orientation===c.Re)for(l=0;l<B;l+=1)v[l]&&this.context.fillRect(m+l*b+1,n+1,b-2,u-2);else for(l=0;l<B;l+=1)v[l]&&this.context.fillRect(m+1,n+1+l*b,q-2,b-2);d.Av=!1;e?(this.context.globalAlpha=d.ml,this.context.fillStyle=d.Di,d.orientation===c.Re?(l=(this.rf-m)/q*B|0,0<=l&&l<B&&(d.Hg[l]?d.Av=!0:this.context.fillRect(m+l*b+.5,n+.5,
b-1,u-1))):(l=(this.Kg-n)/u*B|0,0<=l&&l<B&&(d.Hg[l]?d.Av=!0:this.context.fillRect(m+.5,n+.5+l*b,q-1,b-1))),d.rm=l):d.rm=-1;this.context.globalAlpha=this.Dg;if(d.orientation===c.Re)for(l=0;l<B;l+=1)d.icon[l]&&this.Y.co(d.icon[l],d.x+b*l,d.y,this.locked||d.locked||d.Hg[l]);else for(l=0;l<B;l+=1)d.icon[l]&&this.Y.co(d.icon[l],d.x,d.y+b*l,this.locked||d.locked||d.Hg[l]);this.context.globalAlpha=d.Dg;this.context.fillStyle=d.mf;if(y===c.Re)for(l=0;l<B;l+=1)m=r[l],""!==m&&(this.context.save(),this.context.translate((.5+
(l-B/2))*b,0),this.B(m,d,!1),this.context.restore());else for(l=0;l<B;l+=1)m=r[l],""!==m&&(this.context.save(),this.context.translate(0,(.5+(l-B/2))*b),this.B(m,d,!1),this.context.restore())};k.prototype.cb=function(d,e,m,n,q){var u=!0;e&&!this.Nc&&q&&(u=!1);u&&(m===n||-1===n&&e)&&(d.type===c.button||d.type===c.toggle)?(this.context.fillStyle=d.Di,this.context.globalAlpha=d.ml):(this.context.fillStyle=d.Yc,this.context.globalAlpha=d.be);switch(d.type){case c.jg:q=(d.current-d.lower)/(d.upper-d.lower);
this.context.fillStyle=d.$m;this.context.globalAlpha=d.Jo;d.orientation===c.Re?(q*=d.width-3,q=q+1|0,this.context.fillRect(d.x,d.y,q,d.height),this.context.fillStyle=d.Yc,this.context.globalAlpha=d.be,this.context.fillRect(d.x+q,d.y,d.width-q,d.height)):(q*=d.height-3,q=q+1|0,this.context.fillRect(d.x,d.y,d.width,q),this.context.fillStyle=d.Yc,this.context.fillRect(d.x,d.y+q,d.width,d.height-q));break;case c.zo:q=(d.current[0]-d.lower)/(d.upper-d.lower);if(u&&(m===n||-1===n&&e)){var y=this.La;if(d.orientation===
c.Re){q*=d.width-3;q=q+1|0;var v=q-y;0<v&&this.context.fillRect(d.x,d.y,v,d.height);v=1+q+y;v<d.width&&this.context.fillRect(d.x+v,d.y,d.width-v,d.height)}else q*=d.height-3,q=q+1|0,v=q-y,0<v&&this.context.fillRect(d.x,d.y,d.width,v),v=1+q+y,v<d.height&&this.context.fillRect(d.x,d.y+v,d.width,d.height-v)}else this.context.fillRect(d.x,d.y,d.width,d.height);break;case c.list:y=d.lower.length;if(d.orientation===c.Re)for(v=d.width/y,q=0;q<y;q+=1)this.context.fillStyle=d.Cn[q],this.context.fillRect(d.x+
q*v+1,d.y+1,v-2,d.height-2);else for(v=d.height/y,q=0;q<y;q+=1)this.context.fillStyle=d.Cn[q],this.context.fillRect(d.x+1,d.y+1+q*v,d.width-2,v-2);break;default:this.context.fillRect(d.x,d.y,d.width,d.height)}d.type!==c.list&&d.icon&&(this.context.globalAlpha=d.Dg,this.Y.co(d.icon,d.x,d.y,this.locked||d.locked));if(0<d.border)switch(!d.locked&&!this.locked||d.so?(this.context.strokeStyle=d.oi,this.context.globalAlpha=d.Zk):(this.context.strokeStyle=d.eh,this.context.globalAlpha=d.zk),this.context.lineWidth=
d.border,d.type){case c.label:break;case c.list:y=d.lower.length;if(d.orientation===c.Re)for(v=d.width/y,q=0;q<y;q+=1)this.locked||d.locked||d.Hg[q]?(this.context.strokeStyle=d.eh,this.context.globalAlpha=d.zk):(this.context.strokeStyle=d.oi,this.context.globalAlpha=d.Zk),this.context.strokeRect(d.x+.5+q*v,d.y+.5,v-1,d.height-1);else for(v=d.height/y,q=0;q<y;q+=1)this.locked||d.locked||d.Hg[q]?(this.context.strokeStyle=d.eh,this.context.globalAlpha=d.zk):(this.context.strokeStyle=d.oi,this.context.globalAlpha=
d.Zk),this.context.strokeRect(d.x+.5,d.y+.5+q*v,d.width-1,v-1);break;default:this.context.strokeRect(d.x+.5,d.y+.5,d.width-1,d.height-1)}switch(d.type){case c.button:this.Ya(d);break;case c.label:this.ob(d);break;case c.zo:this.Pb(d,u&&(m===n||-1===n&&e));break;case c.toggle:this.$b(d);break;case c.jg:this.Gb(d);break;case c.list:this.Db(d,u&&(m===n||-1===n&&e))}if(m===n)switch(d.type){case c.zo:u=this.Kg,d.orientation===c.vertical?(u<d.y?u=d.y:u>d.y+d.height-1&&(u=d.y+d.height-1),q=(u-d.y)/(d.height-
1)*(d.upper-d.lower)+d.lower):(u=this.rf,u<d.x?u=d.x:u>d.x+d.width-1&&(u=d.x+d.width-1),q=(u-d.x)/(d.width-1)*(d.upper-d.lower)+d.lower),d.lower<d.upper?(q<d.lower&&(q=d.lower),q>d.upper&&(q=d.upper)):(q<d.upper&&(q=d.upper),q>d.lower&&(q=d.lower)),d.current[0]=q,d.Jb&&(d.current=d.Jb(d.current,!0,d.caller))}if(e&&!this.Nc&&d.Rv)switch(d.type){case c.button:d.Jb&&d.Jb(d.caller);break;case c.toggle:d.current=d.current===d.upper?d.lower:d.upper;d.Jb&&d.Jb(d.current===d.upper,!0,d.caller);break;case c.list:y=
d.lower.length,v=d.orientation===c.Re?(this.rf-d.x)/d.width*y|0:(this.Kg-d.y)/d.height*y|0,d.upper===c.en?d.Hg[v]||(d.Jb?d.current=d.Jb(v,!0,d.caller):d.current=v):d.Hg[v]||(d.current[v]=!d.current[v],d.Jb&&d.Jb(d.current,!0,d.caller))}e&&m===n?(d.Rv=this.Nc,d.dA=this.rf,d.eA=this.Kg):(d.Rv=!1,d.dA=-1,d.eA=-1)};k.prototype.cu=function(d){this.U=d};k.prototype.lz=function(){var d,e=!1,m=this.context.canvas.width,n=this.context.canvas.height,q=-1;var u=!1;this.Hm=-1;if(this.m)this.Nc?-2!==this.Xk?(this.$=
this.rf,this.ka=this.Kg,this.dA=this.rf,this.eA=this.Kg,this.Xk=-2):this.Qn&&!this.locked&&this.Qn(this.rf,this.Kg,this.Nc,this.caller):(-2===this.Xk&&(this.Qn&&!this.locked&&this.Qn(this.rf,this.Kg,this.Nc,this.caller),this.rf===this.$&&this.Kg===this.ka&&this.tD&&(this.D.er?this.D.er=!1:this.tD(this.rf,this.Kg,this.Nc,this.caller))),this.Nc||(this.Xk=-1));else{var y=this.Xk;this.context.textAlign="left";for(d=0;d<this.Pc;d+=1){var v=this.je[d];if(!v.m){v.kJ(m,n);var r=!1;v.cM(this.rf,this.Kg)&&
(q=d,!v.locked&&!this.locked||v.so?r=!0:e=!0);r&&!this.Nc&&(this.Hm=d);(this.Nc&&-1===y&&r||r&&this.Fn)&&v.type!==c.label&&(y=d,this.Fn&&(v.Rv=!0));d!==y||!v.locked&&!this.locked||v.so||(y=-1,r=!1);v.enabled&&this.cb(v,r,d,y,this.D.el)}}0<=y&&!this.Nc&&(u=!0);this.Nc&&-1===y&&!e&&(y=-2);-2===y&&this.Qn&&!this.locked&&this.Qn(this.rf,this.Kg,this.Nc,this.caller);this.Nc||(y=-1);this.Xk=y;this.context.globalAlpha=1}0<=q&&!this.je[q].locked?this.Iu=this.je[q].type===c.zo?this.je[q].orientation===c.uy||
this.je[q].orientation===c.Re?"ew-resize":"ns-resize":"auto":this.Iu=this.U;return u};a.prototype.FG=function(){this.U=[];this.B=this.G=0};a.prototype.SI=function(){var d=0;0<this.B&&(d=this.G/this.B);this.U[this.U.length]=d;this.B=this.G=0};a.prototype.OK=function(d){var e=-1;0<=d&&d<this.U.length&&(e=this.U[d]);return e};a.prototype.at=function(d,e,m,n,q,u){this.mf=d;this.Yc=e;this.Di=m;this.eh=q;this.oi=u;this.Ic&&this.Ic.at(d,e,m,n,q,u)};a.prototype.XH=function(d,e,m){d=new k(this,d,e,m,this.Ec,
this.cl);d.mf=this.mf;d.Dg=this.Dg;d.Yc=this.Yc;d.be=this.be;d.Di=this.Di;d.ml=this.ml;d.$m=this.$m;d.Jo=this.Jo;d.eh=this.eh;d.zk=this.zk;d.oi=this.oi;d.Zk=this.Zk;d.border=this.border;return d};a.prototype.nK=function(){var d=this.Ic,e=d.Ie,m=this.Ec,n="",q="";var u=1;if(-1!==d.Xk||-1===d.Xk&&-1===d.Hm)this.$=d.Xk;if(-1===d.Hm||-1!==this.$&&this.$===d.Hm){if(-1!==d.Hm){var y=d.je[d.Hm];y.id===this.La&&y.rm!==this.ka&&(this.$=-1)}50>this.Yj&&(this.Yj+=1)}else{y=d.je[d.Hm];y.id!==this.La||y.id===
this.La&&y.rm!==this.ka?(this.La=y.id,this.ka=y.rm,50>this.Yj&&(this.Yj+=1)):0<=this.Yj&&--this.Yj;-1!==this.ka?n=y.F[this.ka]:Array.isArray(y.F)?n="":n=y.F;var v=n.indexOf("\n");if(""!==n&&-1===this.Yj&&!y.Av){this.$=-1;var r=y.x;var B=y.y;var b=y.width;var l=y.height;-1!==y.rm&&(y.orientation===c.Re?(r+=b/y.lower.length*y.rm,b/=y.lower.length):(B+=l/y.lower.length*y.rm,l/=y.lower.length));d=18*e;m.font=(d|0)+"px Arial";var f=4*e;var t=m.measureText(n).width;e=Math.round(r+b/2);B=Math.round(B+l/
2);e-=t/2;e<f+1?e=f+1:e+t+f>m.canvas.width&&(e=m.canvas.width-t-f-1);l>b?(-1!==this.Ya&&b<this.Ya&&(b=this.Ya),e>m.canvas.width/2?e=r-t-b/2:e=r+y.width+b/2):(-1!==this.cb&&l<this.cb&&(l=this.cb),B>m.canvas.height/2?B-=l:B+=l);if(t>m.canvas.width){q=(t>>1)+d+f;q>m.canvas.width&&(q=m.canvas.width);for(u=1;m.measureText(n.substr(0,u)).width<q;)u+=1;for(v=u-1;v>u-5;)q=n[v]," "===q||","===q||"/"===q||"|"===q?(u=v+2,v=u-5):--v;q=n.substr(u-1);n=n.substr(0,u-1);t=m.measureText(n).width;u=m.measureText(q).width;
u>t&&(t=u);u=2}else-1!==v&&(q=n.substr(v+1),u=m.measureText(q).width,n=n.substr(0,v),t=m.measureText(n).width,u>t&&(t=u),u=2);v=d*u+2*f;2===u&&B>m.canvas.height/2&&(B-=d+f,v+=f);m.globalAlpha=this.be;m.fillStyle=this.Yc;m.fillRect((e-f|0)-.5,(B-d/2-f|0)-.5,t+2+2*f,v);m.globalAlpha=this.Zk;m.strokeStyle=this.oi;m.strokeRect((e-f|0)-.5,(B-d/2-f|0)-.5,t+2+2*f,v);m.globalAlpha=this.be;m.strokeStyle=this.Yc;m.beginPath();m.moveTo((e-f|0)+.5,(B-d/2-f|0)+.5+v);m.lineTo((e-f|0)+.5+t+2+2*f,(B-d/2-f|0)+.5+
v);m.lineTo((e-f|0)+.5+t+2+2*f,(B-d/2-f|0)+.5);m.stroke();m.globalAlpha=1;m.fillStyle=this.Yc;m.fillText(n,e+2,B+2);""!==q&&m.fillText(q,e+2,B+d+f+2);m.fillStyle=this.mf;u=n.indexOf("[");v=n.lastIndexOf("]");-1!==u&&-1!==v?(y=n.substr(0,u+1),t=m.measureText(y).width,m.fillText(y,e,B),m.fillStyle="#80FFFF",y=n.substr(u+1,v-u-1),m.fillText(y,e+t,B),m.fillStyle=this.mf,y=n.substr(v),t=m.measureText(n.substr(0,v)).width,m.fillText(y,e+t,B)):m.fillText(n,e,B);""!==q&&(u=q.indexOf("["),v=q.lastIndexOf("]"),
-1!==u&&-1!==v?(y=q.substr(0,u+1),t=m.measureText(y).width,m.fillText(y,e,B+d+f),m.fillStyle="#80FFFF",y=q.substr(u+1,v-u-1),m.fillText(y,e+t,B+d+f),m.fillStyle=this.mf,y=q.substr(v),t=m.measureText(q.substr(0,v)).width,m.fillText(y,e+t,B+d+f)):m.fillText(q,e,B+d+f))}}};a.prototype.oc=function(d){var e,m,n,q=d.Ec,u=90,y=1,v=1;d.vb&&(u=0);d.qx=!1;d.fD=!0;d.ns&&(d.Ic=d.ns,d.ns=null,q.font=d.cl,d.Ic.qf(),d.Ic.fu&&d.Ic.fu(d.Ic.caller));d.Ic&&(y=d.Ic.Ie,v=d.Ic.xh);var r=q.canvas.width-86*y;u*=v;var B=
performance.now();d.Kz&&(d.Sv=B-1E3/60);d.Zq||d.notification.Pn()||d.vn||d.vO!==d.Yj&&-1!==d.Yj?(d.$s(d),d.vn&&--d.vn,d.Kz=!1):d.Kz=!0;var b=B-d.Sv;d.Sv=B;d.Ic.Jb&&d.Ic.Jb(b,d.Ic.caller);B=performance.now()-B;var l=performance.now();d.lz();d.Fn=!1;d.nK();d.notification.update();l=performance.now()-l;d.bA[d.ot]=l;for(n=e=0;n<d.oo;n+=1)e+=d.bA[n];e/=d.oo;d.hA[d.ot]=B;for(n=m=0;n<d.oo;n+=1)m+=d.hA[n];m/=d.oo;d.aA[d.ot]=b;for(n=b=0;n<d.oo;n+=1)b+=d.aA[n];b/=d.oo;d.ot=(d.ot+1)%d.oo;n=1E3/b;60<n&&(n=60);
this.G+=1E3/(B+l);this.B+=1;d.Mk&&(q.font=(12*y|0)+"px Arial",q.globalAlpha=.7,q.fillStyle="black",d.bn?q.fillRect(r,u,88*y|0,83*v|0):q.fillRect(r,u,88*y|0,20*v|0),l=(m+e)/16.666666,1<l&&(l=1),q.fillStyle=.5>l?"rgb("+(510*l|0)+",255,0)":"rgb(255,"+(255*(1-2*(l-.5))|0)+",0)",q.fillRect(r,u,88*l*y|0,20*v|0),e=e.toFixed(1),m=m.toFixed(1),4>n.toFixed(1).length?n=n.toFixed(1):n|=0,q.globalAlpha=1,q.fillStyle="black",B=n+"fps",b=q.measureText(B).width,q.fillText(B,r+36*y-b,u+12*v),B=(100*l|0)+"%",b=q.measureText(B).width,
q.fillText(B,r+84*y-b,u+12*v),d.bn&&(q.fillText("menu",r+6*y,u+28*v),q.fillText("work",r+6*y,u+44*v),q.fillText("update",r+6*y,u+60*v),q.fillText("focus",r+6*y,u+76*v),B=e+"ms",b=q.measureText(B).width,q.fillText(B,r+84*y-b,u+28*v),B=m+"ms",b=q.measureText(B).width,q.fillText(B,r+84*y-b,u+44*v),B=d.Zq?"on":"off",b=q.measureText(B).width,q.fillText(B,r+84*y-b,u+60*v),B=d.hasFocus?"on":"off",b=q.measureText(B).width,q.fillText(B,r+84*y-b,u+76*v)),q.fillStyle="white",B=n+"fps",b=q.measureText(B).width,
q.fillText(B,r+34*y-b,u+10*v),B=(100*l|0)+"%",b=q.measureText(B).width,q.fillText(B,r+82*y-b,u+10*v),d.bn&&(q.fillText("menu",r+4*y,u+26*v),q.fillText("work",r+4*y,u+42*v),q.fillText("update",r+4*y,u+58*v),q.fillText("focus",r+4*y,u+74*v),B=e+"ms",b=q.measureText(B).width,q.fillText(B,r+82*y-b,u+26*v),B=m+"ms",b=q.measureText(B).width,q.fillText(B,r+82*y-b,u+42*v),B=d.Zq?"on":"off",b=q.measureText(B).width,q.fillText(B,r+82*y-b,u+58*v),B=d.hasFocus?"on":"off",b=q.measureText(B).width,q.fillText(B,
r+82*y-b,u+74*v)),q.globalAlpha=1);d.Ic.Iu!==d.Ic.Py&&(d.Ic.Py=d.Ic.Iu,d.Zc.style.cursor=d.Ic.Py);d.tB=!0};a.prototype.HI=function(d){d.Y=this.Y;this.Ic?this.ns=d:(this.ns=null,this.Ic=d,this.Ec.font=this.cl,this.Ic.qf(),this.Ic.fu&&this.Ic.fu(this.Ic.caller),this.$s(this))};a.prototype.lz=function(){var d;if(this.Ic){var e=this.Ic;this.Ec.font=this.cl;e.rf=this.ql;e.Kg=this.rl;e.Nc=this.Nc;e.Fn=this.Fn;if(e.lz()||this.Uf){for(d=0;d<e.Pc;d+=1){var m=e.je[d];e.jH(m)}this.Uf=!1}}};a.prototype.$s=function(d){d.qx||
(requestAnimationFrame?requestAnimationFrame(d.UD):setTimeout(d.UD,16),d.qx=!0)};a.prototype.Bp=function(d,e){for(var m=null,n=0;null===m&&n<d.length;)d[n].identifier===e?m=d[n]:n+=1;return m};a.prototype.wa=function(d,e){var m=e.changedTouches;switch(e.type){case "touchstart":-1===d.Lh&&(m=m[0],d.Lh=m.identifier,d.Is(d,m.pageX,m.pageY));break;case "touchend":m=d.Bp(m,d.Lh);null!==m&&(d.Ks(d,m.pageX,m.pageY),d.Lh=-1);break;case "touchmove":m=d.Bp(m,d.Lh);null!==m&&d.Js(d,m.pageX,m.pageY);break;case "touchcancel":m=
d.Bp(m,d.Lh),null!==m&&d.mG(d)}d.el=!0;e.stopPropagation&&e.stopPropagation();e.cancelable&&e.preventDefault()};a.prototype.Is=function(d,e,m){d.Pq(d,e,m);d.Nc=!0;d.fD=!1};a.prototype.Ks=function(d,e,m){d.cA=performance.now();d.Pq(d,e,m);d.Nc=!1;d.fD||(d.Fn=!0);d.hasFocus||(d.el||d.Zc.focus(),d.hasFocus=!0,d.notification.clear(!0,!1),d.CE&&d.CE(d.caller))};a.prototype.Js=function(d,e,m){d.XD(d);d.Pq(d,e,m)};a.prototype.wM=function(d){d.XD(d)};a.prototype.mG=function(d){1<performance.now()-d.cA&&(d.hasFocus||
d.notification.clear(!0,!1),d.Zc.blur(),d.hasFocus=!1,d.Nc=!1,d.ql=-1,d.rl=-1,d.er=!1,d.qx||(d.$s(d),d.vn<d.Yu&&(d.vn=d.Yu)))};a.prototype.ob=function(d,e){if(!d.to){if(e.pageX||e.pageY){var m=e.pageX;var n=e.pageY}else m=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,n=e.clientY+document.body.scrollTop+document.documentElement.scrollTop;d.Is(d,m,n);e.stopPropagation&&e.stopPropagation();e.preventDefault();d.el=!1}};a.prototype.$b=function(d,e){d.cA=performance.now();if(!d.to){if(e.pageX||
e.pageY){var m=e.pageX;var n=e.pageY}else m=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,n=e.clientY+document.body.scrollTop+document.documentElement.scrollTop;d.Ks(d,m,n);e.stopPropagation&&e.stopPropagation();e.preventDefault();d.el=!1}};a.prototype.XD=function(d){d.hasFocus||d.er&&""!==d.notification.Gk||(d.Sc?d.sl||d.notification.notify("Copy",15,3600,15,!0):d.vb?d.Xj?d.notification.notify("Launch",15,3600,15,!0):d.notification.notify("Expand",15,3600,15,!0):d.notification.notify("Click to control",
15,3600,15,!0),d.notification.animate=!0,d.er=!0)};a.prototype.Db=function(d,e){if(!d.to){if(e.pageX||e.pageY){var m=e.pageX;var n=e.pageY}else m=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,n=e.clientY+document.body.scrollTop+document.documentElement.scrollTop;d.Js(d,m,n);e.stopPropagation&&e.stopPropagation();e.preventDefault();d.el=!1}};a.prototype.Pb=function(d,e){d.to||(d.wM(d),e.stopPropagation&&e.stopPropagation(),e.preventDefault(),d.el=!1)};a.prototype.Gb=function(d,
e){d.to||(d.mG(d),e.stopPropagation&&e.stopPropagation(),e.preventDefault(),d.el=!1)};a.prototype.Pq=function(d,e,m){var n=this.Zc.getBoundingClientRect();window.scrollX?(e-=n.left+window.scrollX,m-=n.top+window.scrollY):(e-=n.left+window.pageXOffset,m-=n.top+window.pageYOffset);e/=d.xf;m/=d.xf;d.ql=e-1|0;d.rl=m-1|0;d.$s(d);d.vn<d.Yu&&(d.vn=d.Yu)};a.prototype.rg=function(d){!d&&!this.notification.Pn()||this.Zq||this.$s(this);this.Zq=d};window.IconManager=g;window.Menu=c;window.MenuManager=a}(),function(){function w(a,
c,d,e,m,n){this.Gq=a;this.Hq=c;this.width=d;this.height=e;this.jO=m;this.tK=n}function h(){this.time=0;this.U=this.Uv=!1;this.kf="none";this.sM="2pca4";this.yv="0123456789abcdef";this.fF=86;this.oc=22;this.Qc=6;this.cb=8;this.C="";this.te="0123456789xyz";this.se="0123";this.ue="0123456789";this.kg=this.ig="0123456";this.xo=1038;this.Fo=7157;this.yo=5454;this.Ao=2741;this.Ro="0123";this.hg="0123456omp-";this.lg="01234";this.Lf=["ce","ceaikn","ceaiknjqry","ceaiknjqrytwz"];this.jm=[[[6,36,160,192,72,
10],[132,96,136,66,12,34],[68,40,130]],[[38,164,224,200,74,14],[44,162,196,104,138,70,100,168,194,76,42,134],[140,98]],[[166,228,232,202,78,46],[172,226,204,106,142,102],[108,170,198]]];this.yd=" ce ceaikn ceaiknjqry ceaiknjqrytwz ceaiknjqry ceaikn ce ".split(" ");this.rd="  omp omp omp  ".split(" ");this.Vk=[0,2,6,10,13,10,6,2,0];this.Yk=[[0],[0,1],[2,0,1,3,4,5],[2,0,1,3,6,4,5,7,8,9],[2,0,1,3,6,4,5,7,8,10,11,9,12],[2,0,1,3,6,4,5,7,8,9],[2,0,1,3,4,5],[0,1],[0]];this.lm=[[1,2],[5,10,3,40,33,68],[69,
42,11,7,98,13,14,70,41,97],[325,170,15,45,99,71,106,102,43,101,105,78,108]];this.Po=new Uint32Array(256);this.TB=new Uint8Array(8192);this.PB=new Uint8Array(8192);this.Nj=new Uint8Array(512);this.OB=new Uint8Array(512);this.po=new Uint16Array(512);this.fl=this.Ba=!1;this.ut="l";this.tt="le";this.vt="lv";this.nx="li";this.ox="lo";this.zv="h";this.Cz="ht";this.vx="v";this.tg=!1;this.uz=0;this.il=!1;this.vw=this.uw=0;this.mh=!1;this.Od=this.Xc=this.pd=this.index=0;this.wf=1;this.sk=2;this.lj=3;this.Pj=
4;this.Tj=5;this.yk=6;this.Ai=7;this.jj=8;this.vj=9;this.bm=10;this.ai=11;this.Gh=12;this.$h=13;this.vi=14;this.kp=15;this.Nk=this.Ok=-1;this.sn=0;this.gp=1;this.hp=2;this.Nq=3;this.Oq=4;this.Jp=0;this.Nr=1;this.qc=!1;this.Fe="num_states";this.pg="num_neighbors";this.Xh="num_nodes";this.og="n_states";this.ka=[];this.ka[k.Aq]="vonneumann";this.ka[k.xq]="moore";this.ka[k.zl]="hexagonal";this.ka[k.zq]="onedimensional";this.ob=[];this.ob[k.Aq]=5;this.ob[k.xq]=9;this.ob[k.zl]=7;this.ob[k.zq]=3;this.wa=
[];this.wa[k.Aq]=["none","rotate4","rotate4reflect","reflect_horizontal","permute"];this.wa[k.xq]="none rotate4 rotate8 rotate4reflect rotate8reflect reflect_horizontal permute".split(" ");this.wa[k.zl]="none rotate2 rotate3 rotate6 rotate6reflect permute".split(" ");this.wa[k.zq]=["none","reflect","permute"];this.Db=[];this.Db[k.Aq]=[[[0,1,2,3,4,5],[0,2,3,4,1,5],[0,3,4,1,2,5],[0,4,1,2,3,5]],[[0,1,2,3,4,5],[0,2,3,4,1,5],[0,3,4,1,2,5],[0,4,1,2,3,5],[0,4,3,2,1,5],[0,3,2,1,4,5],[0,2,1,4,3,5],[0,1,4,
3,2,5]],[[0,1,2,3,4,5],[0,1,4,3,2,5]]];this.Db[k.xq]=[[[0,1,2,3,4,5,6,7,8,9],[0,3,4,5,6,7,8,1,2,9],[0,5,6,7,8,1,2,3,4,9],[0,7,8,1,2,3,4,5,6,9]],[[0,1,2,3,4,5,6,7,8,9],[0,2,3,4,5,6,7,8,1,9],[0,3,4,5,6,7,8,1,2,9],[0,4,5,6,7,8,1,2,3,9],[0,5,6,7,8,1,2,3,4,9],[0,6,7,8,1,2,3,4,5,9],[0,7,8,1,2,3,4,5,6,9],[0,8,1,2,3,4,5,6,7,9]],[[0,1,2,3,4,5,6,7,8,9],[0,3,4,5,6,7,8,1,2,9],[0,5,6,7,8,1,2,3,4,9],[0,7,8,1,2,3,4,5,6,9],[0,1,8,7,6,5,4,3,2,9],[0,7,6,5,4,3,2,1,8,9],[0,5,4,3,2,1,8,7,6,9],[0,3,2,1,8,7,6,5,4,9]],[[0,
1,2,3,4,5,6,7,8,9],[0,2,3,4,5,6,7,8,1,9],[0,3,4,5,6,7,8,1,2,9],[0,4,5,6,7,8,1,2,3,9],[0,5,6,7,8,1,2,3,4,9],[0,6,7,8,1,2,3,4,5,9],[0,7,8,1,2,3,4,5,6,9],[0,8,1,2,3,4,5,6,7,9],[0,8,7,6,5,4,3,2,1,9],[0,7,6,5,4,3,2,1,8,9],[0,6,5,4,3,2,1,8,7,9],[0,5,4,3,2,1,8,7,6,9],[0,4,3,2,1,8,7,6,5,9],[0,3,2,1,8,7,6,5,4,9],[0,2,1,8,7,6,5,4,3,9],[0,1,8,7,6,5,4,3,2,9]],[[0,1,2,3,4,5,6,7,8,9],[0,1,8,7,6,5,4,3,2,9]]];this.Db[k.zq]=[[[0,1,2,3],[0,2,1,3]]];this.Db[k.zl]=[[[0,1,2,3,4,5,6,7],[0,4,5,6,1,2,3,7]],[[0,1,2,3,4,5,
6,7],[0,3,4,5,6,1,2,7],[0,5,6,1,2,3,4,7]],[[0,1,2,3,4,5,6,7],[0,2,3,4,5,6,1,7],[0,3,4,5,6,1,2,7],[0,4,5,6,1,2,3,7],[0,5,6,1,2,3,4,7],[0,6,1,2,3,4,5,7]],[[0,1,2,3,4,5,6,7],[0,2,3,4,5,6,1,7],[0,3,4,5,6,1,2,7],[0,4,5,6,1,2,3,7],[0,5,6,1,2,3,4,7],[0,6,1,2,3,4,5,7],[0,6,5,4,3,2,1,7],[0,5,4,3,2,1,6,7],[0,4,3,2,1,6,5,7],[0,3,2,1,6,5,4,7],[0,2,1,6,5,4,3,7],[0,1,6,5,4,3,2,7]]];this.Rw=""}function g(a,c){this.u=null;this.D=c;c=a.lastIndexOf(".");-1!==c&&(a=a.substr(0,c));this.name=a;this.nn=this.mk=0;this.Fg=
this.Qe=this.lc=-1;this.Fp=this.Gr=0;this.sv=this.zz=!1;this.qp=this.Zf=this.J=this.ws="";this.S=this.Pp=this.T=this.wc=this.Pa=this.N=this.la=!1;this.Gg=this.D.Jp;this.R=!1;this.Ud=this.D.sn;this.Vd=-1;this.Nd=this.ye=!1;this.Ee=-1;this.Bj=1;this.Th=this.JD=this.KD=this.LD=this.MD=this.Xf=this.pe=this.bf=this.ae=-1;this.NH=this.sa=!1;this.mg=-1;this.Wq=this.Vq=this.Rf=this.Le=null;this.i=this.Mb=-1;this.xe="";this.si=-1;this.$g="";this.wh=this.$e=null;this.height=this.width=0;this.kh=this.Ae=null;
this.Ej=this.vg=this.Ac=this.title="";this.vd=2;this.vs=0;this.ao=this.tg=!1;this.RB=this.MF="";this.Fe=-1;this.SB=!1;this.og=this.Oj=this.Al=this.Xh=this.pg=-1;this.Sd=this.Pg=null;this.Og=this.yl=0;this.ke=this.Jk=this.Kk=null;this.yq=[];this.Rd=null}var p={rules:[],Zv:[],Co:[],Zu:[],RI:function(a,c,d,e,m){var n,q=this.Co.length,u=!1,y=a.J.toLowerCase();y=y.replace(/ /g,"_");for(n=0;n<q&&!u;){var v=this.Co[n];v.name===y?(u=!0,v.pattern[v.pattern.length]=a,v.gt[v.gt.length]=c,v.Cr[v.Cr.length]=d,
v.mu[v.mu.length]=e,v.view[v.view.length]=m):n+=1}u||(this.Co[q]={name:y,pattern:[a],gt:[c],Cr:[d],mu:[e],view:[m]});return u},KK:function(a){var c=0,d=this.Zu.length,e=!1,m="";a=a.toLowerCase();for(a=a.replace(/ /g,"_");c<d&&!e;)this.Zu[c].name===a?(e=!0,m=this.Zu[c].definition):c+=1;return m},XM:function(a){var c,d=this.Co.length,e=!1,m=a.J.toLowerCase();m=m.replace(/ /g,"_");for(a=0;a<d&&!e;){var n=this.Co[a];if(n.name===m)for(e=!0,n.name="",c=0;c<n.gt.length;c+=1)null!==n.gt[c]&&(this.cF(n.pattern[c]),
n.pattern[c].D.C="",n.pattern[c].D.Ba=!0,n.pattern[c].D.fl=!1,n.gt[c](n.pattern[c],n.mu[c],n.view[c]));else a+=1}},Nw:function(a){var c,d=this.Co.length,e=!1,m=a.J.toLowerCase();m=m.replace(/ /g,"_");for(a=0;a<d&&!e;){var n=this.Co[a];if(n.name===m)for(e=!0,n.name="",c=0;c<n.Cr.length;c+=1)null!==n.Cr[c]&&(n.pattern[c].sa=n.pattern[c].NH,n.Cr[c](n.pattern[c],n.mu[c],n.view[c]));else a+=1}},add:function(a,c,d,e,m){var n,q=this.rules.length,u=!1,y=a.J.toLowerCase();y=y.replace(/ /g,"_");for(n=0;n<q&&
!u;)this.rules[n].name===y?u=!0:n+=1;u||(this.rules[q]=null===a.Sd?{name:y,YE:!0,mC:a.Fe,fM:a.pg,iM:a.Xh,iJ:a.Al,xN:a.Jk,yN:a.Kk,yu:a.ke,Or:a.Rd,names:a.yq,S:a.SB}:{name:y,YE:!1,mC:a.og,io:a.Oj,tJ:a.Og,fq:a.Sd,eI:a.Pg,yu:a.ke,pK:a.yl,Or:a.Rd,names:a.yq},this.Zv[q]={fetch:c|0,decode:d|0,size:e},this.Zu[q]={name:y,definition:m},this.XM(a))},cF:function(a){var c,d=this.rules.length,e=null,m=!1,n=a.J.toLowerCase();n=n.replace(/ /g,"_");for(c=0;c<d&&!m;)this.rules[c].name===n?(m=!0,e=this.rules[c]):c+=
1;m&&(a.Sd=null,e.YE?(a.Fe=e.mC,a.pg=e.fM,a.Xh=e.iM,a.Al=e.iJ,a.Jk=e.xN,a.Kk=e.yN,a.S=e.S):(a.og=e.mC,a.Oj=e.io,a.Og=e.tJ,a.Sd=e.fq,a.Pg=e.eI,a.yl=e.pK,a.S=a.Oj===k.zl?!0:!1),a.ke=e.yu,a.Rd=e.Or,a.yq=e.names,a.Pa=!1);return m}},k={Aq:0,xq:1,zl:2,zq:3,QB:-1,zN:0,AN:1,BN:2,DN:3,CN:["circles","diamonds","hexagons","triangles"]};g.prototype.B=function(a){this.ws=a.ws;this.J=a.J;this.la=a.la;this.N=a.N;this.Pa=a.Pa;this.Zf=a.Zf;this.S=a.S;this.Gg=a.Gg;this.R=a.R;this.mk=a.mk;this.nn=a.nn;this.Ud=a.Ud;
this.Vd=a.Vd;this.ye=a.ye;this.Nd=a.Nd;this.Ee=a.Ee;this.Th=a.Th;this.Bj=a.Bj;this.ae=a.ae;this.bf=a.bf;this.pe=a.pe;this.Xf=a.Xf;this.sa=a.sa;this.mg=a.mg;this.Mb=a.Mb;this.i=a.i;this.vd=a.vd;a.Rf&&(this.Rf=new Uint8Array(a.Rf.length),this.Rf.set(a.Rf));a.Le&&(this.Le=new Uint8Array(a.Le.length),this.Le.set(a.Le))};g.prototype.CJ=function(a,c){a.Rf&&(this.Wq=c.P(Uint8,a.Rf.length,"HROT.altSurvivals"),this.Wq.set(a.Rf));a.Le&&(this.Vq=c.P(Uint8,a.Le.length,"HROT.altBirths"),this.Vq.set(a.Le));this.MD=
a.ae;this.LD=a.bf;this.KD=a.pe;this.JD=a.Xf};g.prototype.rN=function(){this.Zf=this.J=this.ws="";this.S=this.Pa=this.N=this.la=!1;this.Gg=this.D.Jp;this.R=!1;this.nn=this.mk=0;this.Ud=this.D.sn;this.Vd=-1;this.Nd=this.ye=!1;this.Th=this.Ee=-1;this.sa=!1;this.i=this.Mb=this.mg=-1;this.vd=2};g.prototype.AL=function(a){return this.Nd!==a.Nd||this.sa!==a.sa?"Alternate is different rule family":(-1===this.i?this.vd:this.i)!==(-1===a.i?a.vd:a.i)?"Alternate has different number of states":this.N!==a.N||
this.la!==a.la||this.S!==a.S||this.Gg!==a.Gg||this.R!==a.R||this.Ud!==a.Ud||this.ye!==a.ye||-1===this.Vd&&-1!==a.Vd||-1!==this.Vd&&-1===a.Vd||this.Th!==a.Th||this.Mb!==a.Mb?"Alternate has different neighborhood":this.Ee!==a.Ee||this.mg!==a.mg?"Alternate has different range":this.Pa||a.Pa?"Alternate can not use none":""};h.prototype.zh=function(a,c,d){var e,m,n=0,q=0,u=0,y=!1;var v=c.length;for(e=m=0;e<v;){var r=c[e];e+=1;switch(m){case 0:switch(r){case "!":m=1;a.Ac+="#C ";var B=!0;break;case "O":case "o":case "*":case ".":m=
2;q=n=u=0;var b=--e}break;case 1:"\r"!==r&&"\n"!==r&&(" "===r?B||(a.title+=r,a.Ac+=r):(B=!1,a.title+=r,a.Ac+=r));"\n"===r&&(m=0,a.Ac+=r,a.title+=" ");break;case 2:switch(r){case "O":case "o":case "*":case ".":q+=1;break;case "\n":u+=1;q>n&&(n=q);q=0;break;case " ":case "\t":break;default:e=v,y=!0}}}if(!y){2===m&&"\n"!==r&&(u+=1,q>n&&(n=q));a.height=u;a.width=n;a.Ej="Cells";a.Ae=Array.ea(Uint16,a.height,(a.width-1>>4)+1,0,d,"Pattern.lifeMap");e=b;for(m=n=0;e<v;)switch(r=c[e],e+=1,r){case "\n":n+=1;
m=0;break;case "O":case "o":case "*":a.Ae[n][m>>4]|=1<<(~m&15);m+=1;break;case ".":m+=1}this.Ba=!0;this.Ya(a,"",d)}};h.prototype.li=function(a,c,d){var e,m;var n=c.length;var q=[];var u=0;var y=!1;var v=m=0;var r=!1;for(e=10;e<n;){var B=c[e];e+=1;switch(B){case "\n":r&&(r=!1,2===b&&y&&(v=-v,y=!1),q[u]=[m,v],u+=1);var b=v=m=0;break;case "-":y=!0;0===b?b=1:1===b&&(b=2);break;case " ":1===b&&(y&&(m=-m,y=!1),b=2);break;case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":0===
b&&(b=1),1===b?m=10*m+parseInt(B,10):(v=10*v+parseInt(B,10),r=!0)}}r&&(2===b&&y&&(v=-v),q[u]=[m,v],u+=1);if(u){n=c=q[0][0];b=B=q[0][1];for(e=1;e<u;e+=1)m=q[e][0],v=q[e][1],m<c&&(c=m),m>n&&(n=m),v<B&&(B=v),v>b&&(b=v);a.height=b-B+1;a.width=n-c+1;a.Ae=Array.ea(Uint16,a.height,(a.width-1>>4)+1,0,d,"Pattern.lifeMap");a.Ej="Life 1.06";this.Ya(a,"",d);for(e=0;e<u;e+=1)m=q[e][0]-c,v=q[e][1]-B,a.Ae[v][m>>4]|=1<<(~m&15)}};h.prototype.df=function(a,c,d,e){var m,n,q=[],u=0,y=c.length;var v="";var r=!1;var B=
0,b=0,l=!1,f=!1,t=0,x=0;d=d?10:0;for(this.Ba=!0;d<y&&!f;){var z=c[d];d+=1;switch(B){case 0:switch(z){case "#":B=2;break;case "*":case ".":B=3;var A=n=m=0;var C=--d}break;case 2:switch(z){case "C":case "D":B=1;a.Ac+="#C ";var I=!0;break;case "N":B=0;break;case "R":B=4;break;case "P":B=5;b=0;l=!1;x=t=0;break;case "\n":B=0;break;default:B=1,I=!0}break;case 1:"\r"!==z&&"\n"!==z&&(" "===z?I||(a.title+=z,a.Ac+=z):(I=!1,a.title+=z,a.Ac+=z));"\n"===z&&(B=0,a.title+=" ",a.Ac+=z);break;case 4:"\n"===z?B=0:
(v+=z,r=!0);break;case 5:switch(z){case "\n":B=0;2===b&&l&&(x=-x,l=!1);break;case "-":l=!0;0===b?b=1:1===b&&(b=2);break;case " ":1===b&&(l&&(t=-t,l=!1),b=2);break;case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":0===b&&(b=1),1===b?t=10*t+parseInt(z,10):x=10*x+parseInt(z,10)}break;case 3:switch(z){case "\n":m>n&&(n=m);m=0;A+=1;break;case "#":q[u]=new w(t,x,n,A,C,d-1);u+=1;B=2;break;case "*":case ".":m+=1;break;case " ":case "\t":break;default:f=!0}}}"\n"!==
z&&(A+=1);3===B&&(q[u]=new w(t,x,n,A,C,d-1),u+=1);if(u&&!f){t=q[0].Gq;x=q[0].Hq;z=t+q[0].width-1;m=x+q[0].height-1;for(d=1;d<u;d+=1)q[d].Gq<t&&(t=q[d].Gq),q[d].Hq<x&&(x=q[d].Hq),q[d].Gq+q[d].width-1>z&&(z=q[d].Gq+q[d].width-1),q[d].Hq+q[d].height-1>m&&(m=q[d].Hq+q[d].height-1);a.height=m-x+1;a.width=z-t+1;a.Ae=Array.ea(Uint16,a.height,(a.width-1>>4)+1,0,e,"Pattern.lifeMap");a.Ej="Life 1.05";a.kh=Array.ea(Uint8,a.height,a.width,0,e,"Pattern.multiStateMap");r?(this.hf(a,v,!1,e),this.Ba?0<=a.i||a.wc||
(a.kh=null):(a.i=-1,a.wc=!1,a.T=!1)):this.Ya(a,"",e);for(d=0;d<u;d+=1)for(e=q[d].jO,v=q[d].tK,m=q[d].Gq-t,z=q[d].Hq-x,r=m,n=z;e<=v;)switch(z=c[e],e+=1,z){case "\n":n+=1;r=m;break;case "*":a.Ae[n][r>>4]|=1<<(~r&15);a.kh&&(a.kh[n][r]=1);r+=1;break;default:r+=1}}};h.prototype.$=function(a,c,d,e){var m=0,n,q,u;d&&(m=4);for(q=0;8192>q;q+=8)for(u=0;4>u;u+=1){d=0;for(n=q+u&e;0<n;)d+=n&1,n>>=1;c===d&&(a[q+u+m]=1)}};h.prototype.Gb=function(a,c,d,e){var m=0,n,q,u;d&&(m=16);for(q=0;512>q;q+=32)for(u=0;16>u;u+=
1){d=0;for(n=q+u&e;0<n;)d+=n&1,n>>=1;c===d&&(a[q+u+m]=1)}};h.prototype.gk=function(a){return(a&7)<<6|(a&448)>>6|a&56};h.prototype.Jf=function(a){return(a&4)<<6|(a&32)<<2|(a&256)>>2|(a&2)<<4|a&16|(a&128)>>4|(a&1)<<2|(a&8)>>2|(a&64)>>6};h.prototype.Cm=function(a,c,d){var e;for(e=0;4>e;e+=1)a[c]=d,c=this.Jf(c);c=this.gk(c);for(e=0;4>e;e+=1)a[c]=d,c=this.Jf(c)};h.prototype.sm=function(a,c,d,e,m,n){var q=d?16:0;if(2>c||4<c)this.Gb(a,c,d,n);else if(d="omp".indexOf(e),-1!==d)for(c=this.jm[c-2][d],d=0;d<
c.length;d+=1)e=c[d]+q,a[e]=m,a[e+256]=m,a[e+1]=m,a[e+257]=m};h.prototype.ym=function(a,c,d,e,m){var n=0,q=c-1;0===c||8===c?this.Gb(a,c,d,511):(3<q&&(q=6-q,n=495),c=this.Lf[q].indexOf(e),-1!==c&&(n^=this.lm[q][c],d&&(n|=16),this.Cm(a,n,m)))};h.prototype.gg=function(a,c,d,e){var m=c.length,n=0,q="",u;for(u=0;u<m;u+=1){var y=c.charCodeAt(u)-48;n|=1<<y;this.Gb(a,y,d,e)}for(u=0;9>u;u+=1)0!==(n&1<<u)&&(q+=String(u));return q};h.prototype.Zd=function(a){for(var c=0;a;)c+=1,a&=a-1;return c};h.prototype.Qg=
function(a,c){var d="",e=0;if(c[a]){c=c[a];0!==(c&8192)&&(e=1,c&=-8193);var m=this.Zd(c);var n=2>a||4<a?0:3;2<=m&&(c=~c&(1<<n)-1)&&(e=1-e);if(!e||c)for(d+=String(a),e&&(d+="-"),a=0;a<n;a+=1)0!==(c&1<<a)&&(d+="omp"[a])}else d+=String(a);return d};h.prototype.uh=function(a,c){var d="",e=0;if(c[a]){c=c[a];0!==(c&8192)&&(e=1,c&=-8193);var m=this.Zd(c);var n=this.Vk[a];(e||7!==m||13!==n)&&m+e>n>>1&&(c=~c&(1<<n)-1)&&(e=1-e);if(!e||c)for(d+=String(a),e&&(d+="-"),m=0;m<n;m+=1)e=this.Yk[a][m],0!==(c&1<<e)&&
(d+=this.Lf[3][e])}else d+=String(a);return d};h.prototype.dg=function(a,c,d,e){var m=c.length,n=0,q=[],u="",y;c+=" ";for(y=0;7>y;y+=1)q[y]=0;for(y=0;y<m;y+=1){var v=c.charCodeAt(y)-48;if(0<=v&&8>=v){var r=0!==(n&1<<v);n|=1<<v;var B=c[y+1];var b=this.rd[v].indexOf(B);-1!==b||r||this.Gb(a,v,d,e);var l=1;"-"===B&&(l=0,y+=1,B=c[y+1],b=this.rd[v].indexOf(B));-1!==b||"0"<=B&&"9">=B||" "===B||(this.C=(d?"S":"B")+v+B+" not valid",y=m);r&&(r=0,0===(q[v]&8192)&&(r=1),r!==l&&(this.C=(d?"S":"B")+v+" can not have minus and non-minus",
b=-1,y=m));for(;-1!==b;)0!==(q[v]&1<<b)?(this.C="Duplicate "+v+this.rd[v][b],b=-1,y=m):(this.sm(a,v,d,B,l,e),q[v]|=1<<b,l||(q[v]|=8192),y+=1,B=c[y+1],b=this.rd[v].indexOf(B))}else this.C="Missing digit prefix"}for(y=0;7>y;y+=1)0!==(n&1<<y)&&(u+=this.Qg(y,q));return u};h.prototype.fg=function(a,c,d){var e=c.length,m=0,n=[],q="",u;c+=" ";for(u=0;9>u;u+=1)n[u]=0;for(u=0;u<e;u+=1){var y=c.charCodeAt(u)-48;if(0<=y&&8>=y){var v=0!==(m&1<<y);m|=1<<y;var r=c[u+1];var B=this.yd[y].indexOf(r);-1!==B||v||this.Gb(a,
y,d,511);var b=1;"-"===r&&(b=0,u+=1,r=c[u+1],B=this.yd[y].indexOf(r));-1!==B||"0"<=r&&"9">=r||" "===r||(this.C=(d?"S":"B")+y+r+" not valid",u=e);v&&(v=0,0===(n[y]&8192)&&(v=1),v!==b&&(this.C=(d?"S":"B")+y+" can not have minus and non-minus",B=-1,u=e));for(;-1!==B;)0!==(n[y]&1<<B)?(this.C="Duplicate "+y+this.yd[y][B],B=-1,u=e):(this.ym(a,y,d,r,b),n[y]|=1<<B,b||(n[y]|=8192),u+=1,r=c[u+1],B=this.yd[y].indexOf(r))}else this.C="Missing digit prefix"}for(u=0;9>u;u+=1)0!==(m&1<<u)&&(q+=this.uh(u,n));return q};
h.prototype.ji=function(a,c){var d;for(d=0;512>d;d+=1)a[d]=0!==(c&1<<(d&7))?1:0!==(d&16)?1:0};h.prototype.$d=function(a,c,d){var e=12,m=8191,n=a.mk,q=a.nn;switch(a.Ud){case this.gp:e=3;m=this.xo;break;case this.hp:e=9;m=this.Fo;break;case this.Nq:e=6;m=this.yo;break;case this.Oq:e=6,m=this.Ao}c.fill(0);d&&d.fill(0);if(0!==(n&1))if(0!==(q&1<<e)){n=~n;q=~q;for(a=0;a<=e;a+=1)q&1<<e-a&&this.$(c,a,!1,m);for(a=0;a<=e;a+=1)n&1<<e-a&&this.$(c,a,!0,m);d.set(c)}else{for(a=0;a<=e;a+=1)~n&1<<a&&this.$(d,a,!1,
m);for(a=0;a<=e;a+=1)~q&1<<a&&this.$(d,a,!0,m);for(a=0;a<=e;a+=1)q&1<<e-a&&this.$(c,a,!1,m);for(a=0;a<=e;a+=1)n&1<<e-a&&this.$(c,a,!0,m);this.qc=!0}else{for(a=0;a<=e;a+=1)0!==(n&1<<a)&&this.$(c,a,!1,m);for(a=0;a<=e;a+=1)0!==(q&1<<a)&&this.$(c,a,!0,m);d&&d.set(c)}};h.prototype.gi=function(a,c,d,e,m){var n=this.te,q="",u="";switch(m){case this.gp:n=this.se;break;case this.hp:n=this.ue;break;case this.Nq:n=this.ig;break;case this.Oq:n=this.kg}for(m=a.mk=0;m<c.length;m+=1){var y=n.indexOf(c[m]);a.mk|=
1<<y}for(m=a.nn=0;m<d.length;m+=1)y=n.indexOf(d[m]),a.nn|=1<<y;for(m=0;m<n.length;m+=1)0!==(a.mk&1<<m)&&(q+=n[m]);for(m=0;m<n.length;m+=1)0!==(a.nn&1<<m)&&(u+=n[m]);return-1!==e?u+"/"+q+"/"+e:"B"+q+"/S"+u};h.prototype.di=function(a,c,d,e,m){var n=0,q=this.po;var u=(1<<this.cb+1)/6|0;var y=new Uint8Array(512),v=a.la,r=a.N,B=a.S;var b=a.Gg;var l=a.R,f=a.Ud,t=a.ye,x=a.i;if(a.Pa)d=this.kf;else if(v||r)for(d=v?"M":"2PCA4,",b=0;16>b;b+=1)d+=m[b],15>b&&(d+=",");else if(l)d=this.gi(a,c,d,x,f);else{a=511;
B?a=b===this.Nr?114:254:t&&(a=186);y.fill(0);m.fill(0);for(b=0;b<y.length;b+=1)q[b]=B?b:(b&448)>>6|b&56|(b&7)<<6;if(""!==e){d="MAP";for(b=0;b<u;b+=1)d+=e[b],c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(e[b]),y[n]=c>>5,n+=1,y[n]=c>>4&1,n+=1,y[n]=c>>3&1,n+=1,y[n]=c>>2&1,n+=1,y[n]=c>>1&1,n+=1,y[n]=c&1,n+=1;c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(e[b]);y[n]=c>>5;y[n+1]=c>>4&1;d+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[c&
48];for(b=0;512>b;b+=1){e=0;u=this.cb;for(n=8;0<=n;--n)0!==(a&1<<n)&&(0!==(b&1<<n)&&(e|=1<<u),--u);m[q[b]]=y[e]}-1!==x&&(d+="/"+x)}else t?(n=this.gg(m,c,!1,a),m=this.gg(m,d,!0,a)):B?(n=this.dg(m,c,!1,a),m=this.dg(m,d,!0,a)):(n=this.fg(m,c,!1),m=this.fg(m,d,!0)),d=-1!==x?m+"/"+n+"/"+x:"B"+n+"/S"+m}return d};h.prototype.If=function(a){var c=a,d=0;if(-1!==a.indexOf(" "))for(c="";d<a.length;)" "!==a[d]&&(c+=a[d]),d+=1;return c};h.prototype.ek=function(a,c,d){for(var e=!0,m=0,n,q=1;q<c.length&&e;)n="0123456789".indexOf(c[q]),
-1!==n?m=10*m+n:(this.C="Illegal character in Wolfram rule",e=!1),q+=1;e&&(0>m||254<m?(this.C="Wolfram rule number must be 0-254",e=!1):0!==(m&1)?(this.C="Wolfram rule number must be even",e=!1):(this.ji(d,m),a.Vd=m,a.J="W"+m));return e};h.prototype.bi=function(a,c){if(""===c)if(a.S)a.J+="H",a.Gg===this.Nr&&(a.J+="T");else if(a.ye)a.J+="V";else if(a.R)switch(a.Ud){case this.sn:a.J+=this.ut.toUpperCase();break;case this.gp:a.J+=this.tt.toUpperCase();break;case this.hp:a.J+=this.vt.toUpperCase();break;
case this.Nq:a.J+=this.nx.toUpperCase();break;case this.Oq:a.J+=this.ox.toUpperCase()}c=AliasManager.Er(a.J);if(null===c&&a.Nd&&0===a.Bj){c="R"+a.Ee+",C"+a.i+",M1,S"+a.ae+".."+a.bf+",B"+a.pe+".."+a.Xf+",N";switch(a.Th){case this.Od:c+="M";break;case this.wf:c+="N";break;case this.sk:c+="C";break;case this.lj:c+="+";break;case this.Pj:c+="X";break;case this.Tj:c+="*";break;case this.yk:c+="2";break;case this.Ai:c+="H";break;case this.jj:c+="B";break;case this.vj:c+="#";break;case 10:c+="@"+a.xe+a.$g;
break;case this.ai:c+="3";break;case this.Gh:c+="A";break;case this.$h:c+="L";break;case this.vi:c+="G";break;case 15:c+="W"+a.xe+a.$g}c=AliasManager.Er(c)}a.wc&&(a.J+="History");a.T&&(a.J+="Super");-1!==a.lc&&(a.J+=":"+"ptkcs"[a.lc].toUpperCase(),a.J+=a.Qe,a.Gr&&(a.J+="+"+a.Gr),a.zz&&(a.J+="*"),a.Fg!==a.Qe||a.Fp||a.sv)&&(a.J+=","+a.Fg,a.Fp&&(a.J+="+"+a.Fp),a.sv&&(a.J+="*"));null!==c&&(""===c&&(c=a.wc||a.T?"Life":"Conway's Life"),a.wc&&(c+="History"),a.T&&(c+="Super"),a.Zf=c)};h.prototype.ip=function(a,
c){var d=86,e=a.length;e>=d?this.cb=8:(d=this.oc,e>=d?(this.cb=6,c.S=!0):(d=this.Qc,e>=d?(this.cb=4,c.ye=!0):d=-1));if(0<=d)for(c=0;c<d;c+=1)-1==="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a[c])&&(d=-1);return d};h.prototype.B=function(a,c,d,e,m,n){var q=0,u=c.length,y=a.substr(this.index,u),v=n.Ee;if(y!==c)","===c[0]&&(","===y[0]&&(y=y.substr(1)),c=c.substr(1)),this.C="LtL expected '"+c.toUpperCase()+"' got '"+y.toUpperCase()+"'",this.index=-1;else if(","===c[0]&&
(c=c.substr(1)),this.index+=u,this.index<a.length?(u=a[this.index],y=u.charCodeAt(0)):(u="",y=-1),"n"===c)switch(u){case "m":this.index+=1;q=this.Od;break;case "n":this.index+=1;q=this.wf;break;case "c":this.index+=1;q=this.sk;break;case "+":this.index+=1;q=this.lj;break;case "x":this.index+=1;q=this.Pj;break;case "*":this.index+=1;q=this.Tj;break;case "2":this.index+=1;q=this.yk;break;case "h":this.index+=1;q=this.Ai;break;case "b":this.index+=1;q=this.jj;break;case "#":this.index+=1;q=this.vj;break;
case "@":this.index+=1;q=this.lf(a,v,"LtL",n);-1===q&&(this.index=-1);break;case "3":this.index+=1;q=this.ai;break;case "a":this.index+=1;q=this.Gh;break;case "l":this.index+=1;q=this.$h;break;case "g":this.index+=1;q=this.vi;break;case "w":this.index+=1;q=this.Hf(a,v,"LtL",n);-1===q&&(this.index=-1);break;default:this.C="LtL 'N' [ABCGHLMNWX23*+#@] got 'N"+u.toUpperCase()+"'",this.index=-1}else if(48>y||57<y)this.C="LtL '"+m+c.toUpperCase()+"' needs a number",this.index=-1;else{for(;48<=y&&57>=y;)q=
10*q+(y-48),this.index+=1,this.index<a.length?y=a[this.index].charCodeAt(0):y=-1;-1!==d&&q<d&&(this.C="LtL '"+m+c.toUpperCase()+q+"' < "+d,this.index=-1);-1!==e&&q>e&&(this.C="LtL '"+m+c.toUpperCase()+q+"' > "+e,this.index=-1)}return q};h.prototype.ps=function(a,c,d){var e=0;switch(c){case this.Od:e=(2*a+1)*(2*a+1)-1;break;case this.wf:e=2*a*(a+1);break;case this.sk:d=0;var m=a*a+a;for(c=-a;c<=a;c+=1){for(e=0;(e+1)*(e+1)+c*c<=m;)e+=1;d+=2*e+1}e=d-1;break;case this.lj:e=4*a;break;case this.Pj:e=4*
a;break;case this.Tj:e=8*a;break;case this.yk:d=0;m=a*a;for(c=-a;c<=a;c+=1){for(e=0;(e+1)*(e+1)+c*c<=m;)e+=1;d+=2*e+1}e=d-1;break;case this.Ai:e=(2*a+1)*(2*a+1)-a*(a+1)-1;break;case this.jj:e=((2*a+1)*(2*a+1)-1)/2;break;case this.vj:e=8*a;break;case 10:e=d;break;case this.ai:e=3*a;break;case this.Gh:e=6*a;break;case this.$h:e=(4*a+1)*(2*a+1)-2*a*a-1;break;case this.vi:e=(a+1)*(a+1)*(a+1)*(a+1);break;case 15:e=d}return e};h.prototype.Wi=function(a,c){var d=!1;this.index=0;var e=this.B(c,"r",1,500,
"",a);-1!==this.index&&(a.Ee=e,e=this.B(c,",c",0,256,"",a),-1!==this.index&&(2>e&&(e=2),a.i=e,e=this.B(c,",m",0,1,"",a),-1!==this.index&&(a.Bj=e,e=this.B(c,",s",0,-1,"",a),-1!==this.index&&(a.ae=e,e=this.B(c,"..",a.ae,-1,"S",a),-1!==this.index&&(a.bf=e,e=this.B(c,",b",0,-1,"",a),-1!==this.index&&(a.pe=e,e=this.B(c,"..",a.pe,-1,"B",a),-1!==this.index&&(a.Xf=e,e=this.B(c,",n",-1,-1,"",a),-1!==this.index&&(a.Th=e,d=!0))))))));d&&(this.index!==c.length?(d=!1,this.C="LtL invalid characters after rule"):
(c=this.ps(a.Ee,a.Th,a.si),c+=a.Bj,a.pe>c&&(d=!1,this.C="LtL 'B"+a.pe+"..' > "+c),a.Xf>c&&(d=!1,this.C="LtL 'B.."+a.Xf+"' > "+c),a.ae>c&&(d=!1,this.C="LtL 'S"+a.ae+"..' > "+c),a.bf>c&&(d=!1,this.C="LtL 'S.."+a.bf+"' > "+c)));return d};h.prototype.Yi=function(a,c){var d=!1;this.index=0;a.i=2;a.Bj=1;a.Th=this.Od;var e=this.B(c,"",1,500,"",a);-1!==this.index&&(a.Ee=e,e=this.B(c,",",0,-1,"",a),-1!==this.index&&(a.pe=e,e=this.B(c,",",a.pe,-1,"B",a),-1!==this.index&&(a.Xf=e,e=this.B(c,",",0,-1,"",a),-1!==
this.index&&(a.ae=e,e=this.B(c,",",a.ae,-1,"S",a),-1!==this.index&&(a.bf=e,d=!0)))));d&&(this.index!==c.length?(d=!1,this.C="LtL invalid characters after rule"):(c=(2*a.Ee+1)*(2*a.Ee+1),a.pe>c&&(d=!1,this.C="LtL 'B"+a.pe+"..' > "+c),a.Xf>c&&(d=!1,this.C="LtL 'B.."+a.Xf+"' > "+c),a.ae>c&&(d=!1,this.C="LtL 'S"+a.ae+"..' > "+c),a.bf>c&&(d=!1,this.C="LtL 'S.."+a.bf+"' > "+c)));return d};h.prototype.Xi=function(a,c){var d=!1;this.index=0;-1===a.i&&(a.i=2);a.Bj=1;a.Th=this.Od;var e=this.B(c,"r",1,500,"",
a);-1!==this.index&&(a.Ee=e,e=this.B(c,"b",0,-1,"",a),-1!==this.index&&(a.pe=e,e=this.B(c,"t",a.pe,-1,"B",a),-1!==this.index&&(a.Xf=e,e=this.B(c,"s",0,-1,"",a),-1!==this.index&&(a.ae=e,e=this.B(c,"t",a.ae,-1,"S",a),-1!==this.index&&(a.bf=e,d=!0)))));d&&(this.index!==c.length?(d=!1,this.C="LtL invalid characters after rule"):(c=(2*a.Ee+1)*(2*a.Ee+1),a.pe>c&&(d=!1,this.C="LtL 'B"+a.pe+"' > "+c),a.Xf>c&&(d=!1,this.C="LtL 'B..T"+a.Xf+"' > "+c),a.ae>c&&(d=!1,this.C="LtL 'S"+a.ae+"..' > "+c),a.bf>c&&(d=
!1,this.C="LtL 'S..T"+a.bf+"' > "+c)));return d};h.prototype.Ff=function(a,c,d,e,m){var n=!1,q,u="HROT.",y,v=0;if(this.index+d>a.length)this.C="HROT '"+c+"' needs "+d+" hex digits";else{for(q=y=0;y<d&&-1!==q;)q="0123456789abcdef".indexOf(a[this.index]),-1!==q&&(this.index+=1,y+=1);if(-1===q)this.C="HROT '"+c+"' expected hex got '"+a[this.index]+"'";else{"B"===c?u+="births":(u+="survivals",v=1);m=m.P(Uint8,(d<<2)+1+v,u);n=0;m[n]=0;n+=1;--y;"S"===c&&(m[n]=0,n+=1);for(;0<=y;)q="0123456789abcdef".indexOf(a[this.index-
d+y]),--y,m[n]=q&1,n+=1,m[n]=q>>1&1,n+=1,m[n]=q>>2&1,n+=1,m[n]=q>>3&1,n+=1;"B"===c?e.Le=m:e.Rf=m;n=!0}}return n};h.prototype.La=function(a,c){var d=-1;this.index+=1;if(this.index<a.length){var e=a[this.index].charCodeAt(0);if(48>e||57<e)this.C="HROT '"+c+"' needs a number";else for(d=e-48,this.index+=1,e=-1,this.index<a.length&&(e=a[this.index].charCodeAt(0));48<=e&&57>=e;)d=10*d+(e-48),this.index+=1,this.index<a.length?e=a[this.index].charCodeAt(0):e=-1}else this.C="HROT '"+c+"' needs a number";
return d};h.prototype.af=function(a,c,d,e,m){var n=!0;m&&"S"===d&&(e+=1);var q=this.La(a,d);-1===q&&(this.C="");for(;n&&-1!==q;){var u=-1;this.index<a.length&&"-"===a[this.index]&&(u=this.La(a,d),-1===u&&(this.C="HROT '"+d+q+"-' needs a number",n=!1));if(n&&(-1===u&&(u=q),q>u&&(this.C="HROT '"+d+q+"-"+u+"' wrong order",n=!1),n)){"S"===d?(this.pd=u,m&&(q+=1,u+=1)):this.Xc=u;q>e&&(q=e);for(u>e&&(u=e);q<=u;q+=1)c[q]=1;q=-1;this.index<a.length&&","===a[this.index]&&(q=this.La(a,d),-1===q&&(--this.index,
this.C=""))}}return n};h.prototype.Hf=function(a,c,d,e){var m=this.index,n=a.length,q=(2*c+1)*(2*c+1),u=q+q,y=0,v=[],r=[],B=0,b=15;for(e.$g="";m<n&&-1!=="0123456789abcdef".indexOf(a[m]);)m+=1;c=m-this.index;if(c===q)for(;this.index<m;)q="0123456789abcdef".indexOf(a[this.index]),0!==(q&8)&&(q=-(q&7)),v[v.length]=q,this.index+=1;else if(c===u)for(;this.index<m;)q="0123456789abcdef".indexOf(a[this.index])<<4,this.index+=1,q|="0123456789abcdef".indexOf(a[this.index]),this.index+=1,0!==(q&128)&&(q=-(q&
127)),v[v.length]=q;else this.C=d+" 'NW' needs "+String(q)+" or "+String(u)+" hex digits",b=-1;-1!==b&&this.index<n&&("h"===a[this.index]?(e.$g="H",this.index+=1):"l"===a[this.index]&&(e.$g="L",this.index+=1));if(-1!==b)if(","===a[this.index]){for(m=this.index+=1;m<n&&-1!=="0123456789abcdef".indexOf(a[m]);)m+=1;y=m-this.index;if(y!==e.i)this.C=d+" 'NW' needs "+String(e.i)+" state weights",b=-1;else for(m=0;m<e.i;m+=1)q="0123456789abcdef".indexOf(a[this.index]),this.index+=1,r[r.length]=q,q>B&&(B=
q)}else B=1;if(-1!==b){for(d=q=0;d<v.length;d+=1)0<v[d]&&(q+=v[d]*B);e.xe=0<r.length?a.substr(this.index-(c+y+1),c+y+1).toLowerCase():a.substr(this.index-c,c).toLowerCase();e.si=q;e.$e=v;e.wh=r}-1===b&&(e.xe="",e.si=-1,e.$e=null,e.wh=null);return b};h.prototype.lf=function(a,c,d,e){var m=this.index,n=a.length,q=0;c=((2*c+1)*(2*c+1)-1)/4;var u=0,y=10;for(e.$g="";m<n&&q<c&&-1!==y;){var v="0123456789abcdef".indexOf(a[m]);0<=v?(m+=1,q+=1,u+=this.Zd(v)):y=-1}q!==c&&(y=-1);-1===y?(this.C=d+" 'N@' needs "+
String(c)+" hex digits",e.xe="",e.si=-1):(e.xe=a.substr(this.index,q).toLowerCase(),e.si=u,this.index+=q,m<n&&("h"===a[m]?(e.$g="H",this.index+=1):"l"===a[m]&&(e.$g="L",this.index+=1)));return y};h.prototype.Jm=function(a,c){var d=a.Ee,e;a.mg=d;a.Mb=a.Th;d=this.ps(d,a.Th,a.si);d+=a.Bj;a.Rf=c.P(Uint8,d+2,"HROT.survivals");a.Le=c.P(Uint8,d+1,"HROT.births");for(e=a.ae;e<=a.bf;e+=1)a.Rf[e]=1;for(e=a.pe;e<=a.Xf;e+=1)a.Le[e]=1;if(this.qc){a.Wq=c.P(Uint8,d+2,"HROT.altSurvivals");a.Vq=c.P(Uint8,d+1,"HROT.altBirths");
for(e=a.MD;e<=a.LD;e+=1)a.Wq[e]=1;for(e=a.KD;e<=a.JD;e+=1)a.Vq[e]=1}a.sa=!0};h.prototype.mi=function(a,c,d){var e=!1,m=0,n=!0,q=c.indexOf(",n");this.pd=this.Xc=this.index=0;if("r"!==c[this.index])this.C="HROT expected 'R' got '"+c[this.index].wO()+"'";else{var u=this.La(c,"R");-1!==u&&(1>u?this.C="HROT 'R' < 1":500<u?this.C="HROT 'R' > 500":(a.mg=u,e=!0))}e&&(e=!1,this.index<c.length?","!==c[this.index]?this.C="HROT expected ',' got "+c[this.index].toUpperCase():(this.index+=1,this.index<c.length?
"c"!==c[this.index]?this.C="HROT expected 'C' got "+c[this.index].toUpperCase():(u=this.La(c,"C"),-1!==u&&(0>u?this.C="HROT 'C"+u+"' < 0":256<u?this.C="HROT 'C"+u+"' > 256":(2>u&&(u=2),a.i=u,e=!0))):this.C="HROT expected 'C'"):this.C="HROT expected ','");if(e){u=this.index;this.index=q;n=!0;a.Mb=this.Od;if(-1!==this.index&&this.index<c.length&&","===c[this.index]){e=!1;this.index+=1;if(this.index<c.length)if("n"===c[this.index])if(this.index+=1,this.index<c.length)switch(c[this.index]){case "m":a.Mb=
this.Od;this.index+=1;e=!0;break;case "n":a.Mb=this.wf;this.index+=1;e=!0;break;case "c":a.Mb=this.sk;this.index+=1;e=!0;break;case "+":a.Mb=this.lj;this.index+=1;e=!0;break;case "x":a.Mb=this.Pj;this.index+=1;e=!0;break;case "*":a.Mb=this.Tj;this.index+=1;e=!0;break;case "2":a.Mb=this.yk;this.index+=1;e=!0;break;case "h":a.Mb=this.Ai;this.index+=1;e=!0;break;case "b":a.Mb=this.jj;this.index+=1;e=!0;break;case "#":a.Mb=this.vj;this.index+=1;e=!0;break;case "@":this.index+=1;a.Mb=this.lf(c,a.mg,"HROT",
a);-1!==a.Mb&&(e=!0);break;case "3":a.Mb=this.ai;this.index+=1;e=!0;break;case "a":a.Mb=this.Gh;this.index+=1;e=!0;break;case "l":a.Mb=this.$h;this.index+=1;e=!0;break;case "g":a.Mb=this.vi;n=!1;this.index+=1;e=!0;break;case "w":this.index+=1;a.Mb=this.Hf(c,a.mg,"HROT",a);-1!==a.Mb&&(n=!1,e=!0);break;default:this.C="HROT 'N' [ABCGHLMNWX23*+#@] got '"+c[this.index].toUpperCase()+"'"}else this.C="HROT 'N' needs a neighborhood";else this.C="HROT expected 'N' got '"+c[this.index].toUpperCase()+"'";else this.C=
"HROT expected 'N'";q=this.index}m=this.ps(a.mg,a.Mb,a.si);this.index=u}e&&(e=!1,this.index<c.length?","!==c[this.index]?this.C="HROT expected ',' got "+c[this.index].toUpperCase():(this.index+=1,this.index<c.length?"s"!==c[this.index]?this.C="HROT expected 'S' got "+c[this.index].toUpperCase():(a.Rf=d.P(Uint8,m+2,"HROT.survivals"),e=this.af(c,a.Rf,"S",m,n)):this.C="HROT expected 'S'"):this.C="HROT expected ','");e&&(e=!1,this.index<c.length?","!==c[this.index]?this.C="HROT expected ',' got "+c[this.index].toUpperCase():
(this.index+=1,this.index<c.length?"b"!==c[this.index]?this.C="HROT expected 'B' got "+c[this.index].toUpperCase():(a.Le=d.P(Uint8,m+1,"HROT.births"),e=this.af(c,a.Le,"B",m,n)):this.C="HROT expected 'B'"):this.C="HROT expected ','");e&&(-1!==q&&(this.index=q),this.index!==c.length&&(e=!1,this.C="HROT invalid characters after rule"),this.pd>m&&(e=!1,this.C="HROT 'S"+this.pd+"' > "+m),e&&this.Xc>m&&(e=!1,this.C="HROT 'B"+this.Xc+"' > "+m));e&&(a.sa=!0);return e};h.prototype.Ch=function(a,c,d){var e=
!1,m=0;this.index=0;-1===a.i&&(a.i=2);if("r"!==c[this.index])this.C="HROT expected 'R' got '"+c[this.index].wO()+"'";else{var n=-1;this.index+=1;this.index<c.length&&(n=c[this.index].charCodeAt(0));if(48>n||57<n)this.C="HROT 'R' needs a number";else{var q=n-48;this.index+=1;n=-1;for(this.index<c.length&&(n=c[this.index].charCodeAt(0));48<=n&&57>=n;)q=10*q+(n-48),this.index+=1,this.index<c.length?n=c[this.index].charCodeAt(0):n=-1;1>q?this.C="HROT 'R' < 1":500<q?this.C="HROT 'R' > 500":(a.mg=q,e=!0,
m=q*(q+1))}}e&&(e=!1,this.index<c.length?"b"!==c[this.index]?this.C="HROT expected 'B' got "+c[this.index].toUpperCase()+"'":(this.index+=1,e=this.Ff(c,"B",m,a,d)):this.C="HROT expected 'B'");e&&(e=!1,this.index<c.length?"s"!==c[this.index]?this.C="HROT expected 'S' got "+c[this.index].toUpperCase()+"'":(this.index+=1,e=this.Ff(c,"S",m,a,d)):this.C="HROT expected 'S'");e&&this.index<c.length&&"z"===c[this.index]&&(a.Rf[1]=1,this.index+=1);e&&(this.index!==c.length?(e=!1,this.C="HROT invalid characters after rule"):
(a.Mb=this.Od,a.sa=!0));return e};h.prototype.Je=function(a,c){for(var d=a.length,e=-1,m="",n=0;n<d;)1===a[n]?-1===e&&(e=n):-1!==e&&(""!==m&&(m+=","),m+=e+c,n-1!==e&&(m+="-"+(n-1+c)),e=-1),n+=1;-1!==e&&(""!==m&&(m+=","),m+=e+c,n-1!==e&&(m+="-"+(n-1+c)));return m};h.prototype.Ya=function(a,c,d){var e="",m=!1;var n=AliasManager.wz(c);null!==n&&(e=AliasManager.Er(n),c=n);n=c.indexOf("|");if(-1===n)(m=this.qe(a,c,d,this.Nj))&&a.R&&this.$d(a,this.TB,this.PB);else if(-1===c.substr(n+1).indexOf("|")){if(m=
this.qe(a,c.substr(0,n),d,this.OB)){var q=new g(a.name,this);q.B(a);a.rN();if(m=this.qe(a,c.substr(n+1),d,this.Nj))if(this.C=a.AL(q),""===this.C)if(a.sa&&0!==a.Le[0]||!a.R&&(this.Nj[0]||this.OB[0])||a.R&&0!==(a.mk&1)||0!==(q.mk&1))this.C="Alternate not supported with B0",m=!1;else{a.R&&(this.$d(q,this.PB,null),this.$d(a,this.TB,null));if(""!==e)a.Zf=e;else if(""!==a.Zf||""!==q.Zf)""===a.Zf&&(a.Zf=a.J),""===q.Zf&&(q.Zf=q.J),a.Zf=q.Zf+"|"+a.Zf;a.J=q.J+"|"+a.J;e=AliasManager.Er(a.J);null!==e&&(a.Zf=
e);(a.sa||a.Nd)&&a.CJ(q,d);this.qc=!0}else m=!1}}else this.C="Only one alternate allowed";return m};h.prototype.aj=function(a,c){var d=!0,e=a.length,m=0;if("2pca4"!==a.substr(0,5))this.C="PCA rule must start with 2PCA4",d=!1;else{var n=5;var q=-1;if(","!==a[n])d=!0;else for(n+=1;d&&16>m&&n<e;)if(n<e){var u=a[n];n+=1;"0"<=u&&"9">=u?(-1===q&&(q=0),q=10*q+u.charCodeAt(0)-48):","===u?15<q?(this.C="Value must be from 0 to 15",d=!1):(c[m]=q,m+=1,q=-1):(this.C="Illegal character found in rule",d=!1)}d&&
(-1===q?(this.C=16===m?"Extra characters found after rule":"Need 16 values",d=!1):15<q?(this.C="Value must be from 0 to 15",d=!1):(c[m]=q,16!==m+1&&(this.C="Need 16 values",d=!1)))}return d};h.prototype.Zi=function(a,c){var d=!0,e=0,m=a.length,n,q=0;if("m"!==a[e])this.C="Margolus rule must start with M",d=!1;else{e+=1;"s,d"===a.substr(e,e+2)&&(e+=3);for(n=-1;d&&16>q&&e<m;)if(e<m){var u=a[e];e+=1;"0"<=u&&"9">=u?(-1===n&&(n=0),n=10*n+u.charCodeAt(0)-48):","===u||";"===u?15<n?(this.C="Value must be from 0 to 15",
d=!1):(c[q]=n,q+=1,n=-1):(this.C="Illegal character found in rule",d=!1)}d&&(-1===n?(this.C=16===q?"Extra characters found after rule":"Need 16 values",d=!1):15<n?(this.C="Value must be from 0 to 15",d=!1):(c[q]=n,16!==q+1&&(this.C="Need 16 values",d=!1)))}return d};h.prototype.qe=function(a,c,d,e){var m=!1,n=null,q=null,u=null,y="012345678ceaiknjqrytwz-";var v=this.Cz.length;var r=this.zv.length;var B=this.ut.length;var b=this.tt.length,l=this.vt.length;var f=this.nx.length;var t=this.ox.length,
x=this.vx.length,z="";e[0]=0;var A=AliasManager.wz(c);null!==A&&(""===c&&(a.J="Conway's Life"),c=A);if("map"===c.substr(0,3).toLowerCase()){z=c.substr(3);var C=z.indexOf("/");-1===C?"=="===z.substr(-2)&&(z=z.substr(0,z.length-2)):"=="===z.substr(C-2,2)&&(z=z.substr(0,C-2)+z.substr(C));c=this.ip(z,a);if(0<=c)if(m=!0,u=z.substr(c),z=z.substr(0,c),"/"===u[0]){A=1;a.i=0;A<u.length&&("g"===u[A].toLowerCase()||"c"===u[A].toLowerCase())&&(A+=1);for(C=0;A<u.length&&-1!==C;)C="0123456789".indexOf(u[A]),-1!==
C?a.i=10*a.i+C:(this.C="Illegal character in generations number",a.i=-1,m=!1),A+=1;-1!==a.i&&(2>a.i||256<a.i)&&(this.C="Generations number must be 2-256",a.i=-1,m=!1)}else""!==u&&(A=u.length,this.C="MAP length must be "+this.Qc+", "+this.oc+" or 86 not "+(A+c),m=!1);else this.C=86===z.length||z.length===this.oc||z.length===this.Qc?"MAP contains illegal base64 character":"MAP length must be "+this.Qc+", "+this.oc+" or 86 not "+z.length}else if(c=c.toLowerCase(),c=this.If(c),"2pca4"===c.substr(0,5)){if(m=
this.aj(c,e))a.N=!0,a.i=16}else if("m"===c[0]){if(m=this.Zi(c,e))a.la=!0}else{m=!0;if("g"===c[0]){A=1;for(C=a.i=0;A<c.length&&-1!==C;)C="0123456789".indexOf(c[A]),-1!==C&&(a.i=10*a.i+C,A+=1);1<A&&(2>a.i||256<a.i?(this.C="Generations number must be 2-256",a.i=-1,m=!1):(A<c.length&&"/"===c[A]&&(A+=1),c=c.substr(A),m=!0))}if(m&&(C=c.lastIndexOf("g"),-1!==C&&C!==c.length-1&&!(0<C&&"/"===c[C-1]))){A=C+1;for(C=a.i=0;A<c.length&&-1!==C;)C="0123456789".indexOf(c[A]),-1!==C&&(a.i=10*a.i+C,A+=1);A===c.length?
2>a.i||256<a.i?(this.C="Generations number must be 2-256",a.i=-1,m=!1):(c=c.substr(0,c.lastIndexOf("g")),m=!0):a.i=-1}if(m)if(m=!1,"r"===c[0]||"1"<=c[0]&&"9">=c[0]&&-1!==c.indexOf(",")){if(m="r"===c[0]?-1!==c.indexOf(".")?this.Wi(a,c):-1!==c.indexOf("t")&&-1===c.indexOf("n")?this.Xi(a,c):-1!==c.indexOf(",")?this.mi(a,c,d):this.Ch(a,c,d):this.Yi(a,c))if(a.sa){if(u=15===a.Mb||a.Mb===this.vi?0:-1,a.J="R"+a.mg+",",a.J+="C"+a.i+",",a.J+="S"+this.Je(a.Rf,u)+",",a.J+="B"+this.Je(a.Le,0),a.Mb!==this.Od)switch(a.J+=
",N",a.Mb){case this.wf:a.J+="N";break;case this.sk:a.J+="C";break;case this.lj:a.J+="+";break;case this.Pj:a.J+="X";break;case this.Tj:a.J+="*";break;case this.yk:a.J+="2";break;case this.Ai:a.J+="H";break;case this.jj:a.J+="B";break;case this.vj:a.J+="#";break;case 10:a.J+="@"+a.xe+a.$g;break;case this.ai:a.J+="3";break;case this.Gh:a.J+="A";break;case this.$h:a.J+="L";break;case this.vi:a.J+="G";break;case 15:a.J+="W"+a.xe+a.$g}}else{a.Nd=!0;a.J="R"+a.Ee+",C"+a.i+",M"+a.Bj+",S"+a.ae+".."+a.bf+
",B"+a.pe+".."+a.Xf+",N";switch(a.Th){case this.Od:a.J+="M";break;case this.wf:a.J+="N";break;case this.sk:a.J+="C";break;case this.lj:a.J+="+";break;case this.Pj:a.J+="X";break;case this.Tj:a.J+="*";break;case this.yk:a.J+="2";break;case this.Ai:a.J+="H";break;case this.jj:a.J+="B";break;case this.vj:a.J+="#";break;case 10:a.J+="@"+a.xe+a.$g;break;case this.ai:a.J+="3";break;case this.Gh:a.J+="A";break;case this.$h:a.J+="L";break;case this.vi:a.J+="G";break;case 15:a.J+="W"+a.xe+a.$g}0===a.Bj&&(a.ae+=
1,a.bf+=1)}}else if("w"===c[0])m=this.ek(a,c,e);else if(d=c.lastIndexOf(this.ut),-1!==d&&d===c.length-B&&(a.R=!0,a.Ud=this.sn,c=c.substr(0,c.length-B),y=this.te),d=c.lastIndexOf(this.tt),-1!==d&&d===c.length-b&&(a.R=!0,a.Ud=this.gp,c=c.substr(0,c.length-b),y=this.se),d=c.lastIndexOf(this.vt),-1!==d&&d===c.length-l&&(a.R=!0,a.Ud=this.hp,c=c.substr(0,c.length-l),y=this.ue),d=c.lastIndexOf(this.nx),-1!==d&&d===c.length-f&&(a.R=!0,a.Ud=this.Nq,c=c.substr(0,c.length-f),y=this.ig),d=c.lastIndexOf(this.ox),
-1!==d&&d===c.length-t&&(a.R=!0,a.Ud=this.Oq,c=c.substr(0,c.length-t),y=this.kg),f=c.lastIndexOf(this.Cz),-1!==f&&f===c.length-v&&(a.S=!0,a.Gg=this.Nr,c=c.substr(0,c.length-v),y=this.Ro),f=c.lastIndexOf(this.zv),-1!==f&&f===c.length-r&&(a.S=!0,a.Gg=this.Jp,c=c.substr(0,c.length-r),y=this.hg),f=c.lastIndexOf(this.vx),-1!==f&&f===c.length-x&&(a.ye=!0,c=c.substr(0,c.length-x),y=this.lg),v=c.indexOf("/"),-1===v&&(v=c.indexOf("_")),-1!==v&&(f=c.lastIndexOf("/"),-1===f&&(f=c.lastIndexOf("_")),f!==v&&(u=
c.substring(f+1),c=c.substr(0,f),d=c.lastIndexOf(this.ut),-1!==d&&d===c.length-B&&(a.R=!0,a.Ud=this.sn,c=c.substr(0,c.length-B),y=this.te),d=c.lastIndexOf(this.tt),-1!==d&&d===c.length-b&&(a.R=!0,a.Ud=this.gp,c=c.substr(0,c.length-b),y=this.se),d=c.lastIndexOf(this.vt),-1!==d&&d===c.length-l&&(a.R=!0,a.Ud=this.hp,c=c.substr(0,c.length-l),y=this.ue),f=c.lastIndexOf(this.zv),-1!==f&&f===c.length-r&&(a.S=!0,c=c.substr(0,c.length-r),y=this.hg),f=c.lastIndexOf(this.vx),-1!==f&&f===c.length-x&&(a.ye=!0,
c=c.substr(0,c.length-x),y=this.lg))),c===this.kf)a.Pa=!0,a.i=256,m=!0;else{r=c.indexOf("b");B=c.indexOf("s");-1===v?0===r||0===B?-1===B?(n=c,q=""):-1===r?(q=c,n=""):r<B&&-1!==B?(n=c.substring(r+1,B),q=c.substring(B+1)):(q=c.substring(B+1,r),n=c.substring(r+1)):this.C="Unsupported rule name":(-1===r&&-1!==B?r=v:-1!==r&&-1===B&&(B=v),r<B?(n=c.substring(0,v),q=c.substring(v+1)):(n=c.substring(v+1),q=c.substring(0,v)));-1!==r&&n&&"b"===n[0]&&(n=n.substring(1));-1!==B&&q&&"s"===q[0]&&(q=q.substring(1));
if(null!==u)if(A=0,-1!==a.i)this.C="Generations defined twice",n=null;else{a.i=0;A<u.length&&("g"===u[A].toLowerCase()||"c"===u[A].toLowerCase())&&(A+=1);for(C=0;A<u.length&&-1!==C;)C="0123456789".indexOf(u[A]),-1!==C?a.i=10*a.i+C:(this.C="Illegal character in generations number",a.i=-1,n=null),A+=1;-1!==a.i&&(2>a.i||256<a.i)&&(this.C="Generations number must be 2-256",a.i=-1,n=null)}if(null!==n&&null!==q){m=!0;for(A=0;A<n.length;)C=y.indexOf(n[A]),-1===C?(this.C="Illegal character in birth specification",
m=!1,A=n.length):A+=1;if(m)for(A=0;A<q.length;)C=y.indexOf(q[A]),-1===C?(this.C="Illegal character in survival specification",m=!1,A=q.length):A+=1}}}m&&-1===a.Vd&&!1===a.Nd&&!1===a.sa&&(a.J=this.di(a,n,q,z,e),""!==this.C&&(m=!1),2===a.i&&(a.i=-1));m?this.bi(a,z):(a.lP=!1,a.sa=!1,a.i=-1,a.Pa=!0);return m};h.prototype.xp=function(a,c,d,e){var m=0,n=c.length-1,q=!1,u=!0,y,v=0,r=0,B=0,b=0,l=this.Po;for(y=c[m];!q;){var f=y;y=c[m+1];var t=-1;switch(f){case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":b=
10*b+parseInt(f,10);break;case "b":t=0;break;case "o":t=1;break;case ".":t=0;break;case "z":t=7;a.wc=!0;a.Pp=!0;break;case "$":0===b&&(b=1);B+=b;b=0;r>v&&(v=r);r=0;break;case "!":0===b&&(b=1);B+=b;b=0;r>v&&(v=r);q=!0;break;default:u=!1,"A"<=f&&"X">=f?(u=!0,t=f.charCodeAt(0)-64):"p"<=f&&"y">f?"A"<=y&&"X">=y?(u=!0,t=24*(f.charCodeAt(0)-111)+(y.charCodeAt(0)-64),m+=1,y=c[m+1]):"x"===f&&(u=!0,a.wc=!0,a.Pp=!0,t=3):"y"===f&&("A"<=y&&"O">=y?(u=!0,t=24*(f.charCodeAt(0)-111)+(y.charCodeAt(0)-64),m+=1,y=c[m+
1]):(u=!0,a.wc=!0,a.Pp=!0,t=5))}if(0<=t)if(0===b&&(b=1),d||(0===l[t]&&(a.vs+=1),l[t]+=b,t>=a.vd&&(a.vd=t+1)),0<t&&d)for(;0<b;){a.kh[B][r]=-1===a.i?t:2===a.i?1===t?LifeConstants.Hb:0:t<a.i?t:1;if(!a.wc&&!a.T&&-1===a.i&&1===t||(a.wc||a.T)&&t&1||-1!==a.i&&1===t)a.Ae[B][r>>4]|=1<<(~r&15);r+=1;--b}else r+=b,b=0;u||(" "===f||"\t"===f||"\n"===f?u=!0:(this.C="Illegal character in pattern: "+f,this.U=q=a.ao=!0));m+=1;m===n&&(q||(0===b&&(b=1),B+=b,b=0,r>v&&(v=r)),q=!0)}d||(0===v&&(B=v=1),a.width=v,a.height=
B,16384<v||16384<B?a.tg=!0:(a.Ae=Array.ea(Uint16,B,(v-1>>4)+1,0,e,"Pattern.lifeMap"),a.kh=Array.ea(Uint8,B,v,0,e,"Pattern.multiStateMap")),a.Ej="RLE");a.ao&&(m=-1);return m};h.prototype.wm=function(a,c){var d=c.indexOf("\n");-1===d&&(d=c.length);a.MF=c.substring(0,d).trim()};h.prototype.qd=function(a,c,d){for(var e=!1;c<d&&!e;)" "===a[c]?c+=1:e=!0;return c};h.prototype.im=function(a){var c=a.indexOf("\n"),d=0,e=!1,m=!1,n=0;-1===c&&(c=a.length);for(;n<c&&!e;)"="===a[n]?e=!0:" "!==a[n]?e=!0:n+=1;if(e&&
"="===a[n]){n=this.qd(a,n+1,c);n<c&&"-"===a[n]&&(m=!0,n+=1);for(e=!1;n<c&&!e;){var q="0123456789".indexOf(a[n]);-1!==q?(d=10*d+q,n+=1):e=!0}this.il=!0;m&&(d=-d);this.uz=d}};h.prototype.Gf=function(a,c){var d=a.indexOf("\n"),e=0,m=0,n=!1,q=!1,u=!1,y=0;-1===d&&(d=a.length);if(c){for(;y<d&&!u;)"="===a[y]?u=!0:" "!==a[y]?u=!0:y+=1;u&&"="===a[y]&&(y+=1)}else u=!0;if(u&&(y=this.qd(a,y,d),y<d)){"-"===a[y]&&(n=!0,y+=1);for(u=!1;y<d&&!u;)c="0123456789".indexOf(a[y]),-1!==c?(e=10*e+c,y+=1):u=!0;this.mh=!0;
this.uw=n?-e:e;y=this.qd(a,y,d);if(y<d&&","===a[y]&&(y=this.qd(a,y+1,d),y<d)){"-"===a[y]&&(q=!0,y+=1);for(u=!1;y<d&&!u;)c="0123456789".indexOf(a[y]),-1!==c?(m=10*m+c,y+=1):u=!0;this.vw=q?-m:m}}};h.prototype.ci=function(a){var c=a.indexOf("XRLE");0===c&&(c=a.indexOf("Pos"),-1!==c&&this.Gf(a.substr(c+3),!0),c=a.indexOf("Gen"),-1!==c&&this.im(a.substr(c+3)))};h.prototype.vm=function(a,c){var d=c.indexOf("\n");-1===d&&(d=c.length);a.name=c.substring(0,d).trim()};h.prototype.Yd=function(a,c,d,e){var m=
d.indexOf("\n");-1===m&&(m=d.length);" "===d[0]&&(c+=" ");d=""+d.substring(0,m).trim();a.title+=d+" ";e?a.vg+=c+d+"\n":a.Ac+=c+d+"\n";return m+1};h.prototype.G=function(a){var c=-1;a+=" ";var d="0123456789".indexOf(a[this.index]);if(-1!==d)for(c=0;-1!==d;)c=10*c+d,this.index+=1,d="0123456789".indexOf(a[this.index]);return c};h.prototype.ak=function(a,c){c=this.G(c);a.Qe=c;a.Fg=c};h.prototype.ck=function(a,c){var d=this.G(c),e=-1,m=0,n=0;if(-1!==d){var q=c[this.index];if("-"===q||"+"===q)this.index+=
1,m=this.G(c),-1===m?d=-1:"-"===q&&(m=-m);if(","===c[this.index])if(this.index+=1,e=this.G(c),-1===e)d=-1;else{if(q=c[this.index],"-"===q||"+"===q)this.index+=1,n=this.G(c),-1===n?d=-1:"-"===q&&(n=-n)}else e=d}0!==m&&0!==n&&(d=-1);0===d&&0===e&&(d=-1);0===m&&0===n||0!==d&&0!==e||(d=-1);a.Qe=d;a.Fg=e;a.Gr=m;a.Fp=n};h.prototype.Vi=function(a,c){var d=this.G(c),e=-1,m=0,n=0,q=!1,u=!1;if(-1!==d){var y=c[this.index];"*"===y&&(q=!0,this.index+=1,y=c[this.index]);if("-"===y||"+"===y)m=this.G(c),-1===m?d=
-1:"-"===y&&(m=-m),this.index+=1,y=c[this.index];if(","===y)if(this.index+=1,e=this.G(c),-1===e)d=-1;else{if(y=c[this.index],"*"===y&&(u=!0,this.index+=1,y=c[this.index]),"-"===y||"+"===y)this.index+=1,n=this.G(c),-1===n?d=-1:"-"===y&&(n=-n)}else e=d}q&&u&&(d=-1);0!==m&&0!==n&&(d=-1);if(q&&0!==n||u&&0!==m)d=-1;if(0===d||0===e)d=-1;q||u||(u=!0);a.Qe=d;a.Fg=e;a.Gr=m;a.Fp=n;a.zz=q;a.sv=u};h.prototype.Bh=function(a,c){var d=this.G(c),e=-1;-1!==d&&(","===c[this.index]?(this.index+=1,e=this.G(c),-1===e&&
(d=-1)):e=d);a.Qe=d;a.Fg=e};h.prototype.bj=function(a,c){var d=this.G(c),e=-1;-1!==d&&(","===c[this.index]?(this.index+=1,e=this.G(c),-1===e&&(d=-1)):e=d);0===d&&0===e&&(d=-1);a.Qe=d;a.Fg=e};h.prototype.yh=function(a,c){var d=!1;c=this.If(c).toLowerCase();if(""!==c){a.lc="ptkcs".indexOf(c[0]);if(-1!==a.lc)if(this.index=1,2!==a.lc&&-1!==c.indexOf("*"))a.Qe=-1;else switch(a.lc){case 0:this.bj(a,c);break;case 1:this.ck(a,c);break;case 2:this.Vi(a,c);break;case 3:this.Bh(a,c);break;case 4:this.ak(a,c);
break;default:a.Qe=-1}this.index!==c.length&&(a.Qe=-1);-1!==a.Qe?d=!0:(a.lc=-1,this.C="Invalid bounded grid definition '"+c.toUpperCase()+"'")}return d};h.prototype.$b=function(a,c,d,e){var m,n,q=null;if(d[c]===a){for(c+=1;c<e&&" "===d[c];)c+=1;for(c<e&&"="===d[c]&&(c+=1);c<e&&" "===d[c];)c+=1;a=0;var u=m=!1;"-"===d[c]&&(c+=1,u=!0);for(n=d[c].charCodeAt(0);c<e&&48<=n&&57>=n;)a=10*a+(n-48),c+=1,m=!0,c<e&&(n=d[c].charCodeAt(0));for(m&&(q=u?-a:a);c<e&&" "===d[c];)c+=1;for(c<e&&","===d[c]&&(c+=1);c<e&&
" "===d[c];)c+=1}return[q,c]};h.prototype.cj=function(a,c){this.Nk=this.Ok=-1;var d=this.$b("x",0,a,c);var e=d[1];d[0]&&(this.Ok=d[0]);d=this.$b("y",e,a,c);e=d[1];d[0]&&(this.Nk=d[0]);d=this.$b("h",e,a,c);e=d[1];d[0]&&(this.uw=d[0],this.mh=!0);d=this.$b("v",e,a,c);d[0]&&(this.vw=d[0])};h.prototype.hf=function(a,c,d,e){var m=c.indexOf("\n"),n=c.indexOf("rule"),q="";-1===m&&(m=c.length);this.cj(c,m);-1===n?d?q="":q=c.substring(1,m).trim():(q=c.substring(n+4,m).trim(),"="===q[0]&&(q=q.substring(1).trim()));
a.ws=q;a.J=q;d=q.indexOf(":");c=q.lastIndexOf(":");-1!==c&&d===c&&null!==AliasManager.wz(a.J)&&(c=-1);-1!==c&&(this.yh(a,q.substring(c+1))?q=q.substr(0,c).trim():c=-2);n=q.toLowerCase().lastIndexOf("history");-1!==n&&n===q.length-7&&(a.wc=!0,q=q.substr(0,q.length-7).trim());n=q.indexOf("|");-1!==n&&"history"===q.toLowerCase().substr(0,n).trim().substr(-7)&&(a.wc=!0,d=q.substr(0,n).trim(),q=d.substr(0,d.length-7)+q.substr(n));a.wc||(n=q.toLowerCase().lastIndexOf("super"),-1!==n&&n===q.length-5&&(a.T=
!0,q=q.substr(0,q.length-5).trim()),n=q.indexOf("|"),-1!==n&&"super"===q.toLowerCase().substr(0,n).trim().substr(-5)&&(a.T=!0,d=q.substr(0,n).trim(),q=d.substr(0,d.length-5)+q.substr(n)));-2!==c&&this.Ya(a,q,e)?this.Ba=!0:this.fl=!0;return m+1};h.prototype.RD=function(a){switch(a){case 0:a="Plane";break;case 1:a="Torus";break;case 2:a="Klein bottle";break;case 3:a="Cross-surface";break;case 4:a="Sphere";break;default:a="(unknown)"}return a};h.prototype.ef=function(a,c,d){var e=0,m=c.length,n=!1,q=
!1;var u=this.Po;var y=4;a.la=!1;a.Pa=!1;a.lc=-1;a.width=0;a.height=0;a.tg=!1;a.Ae=null;a.kh=null;a.ao=!1;a.wc=!1;a.T=!1;a.Pp=!1;a.S=!1;a.Vd=-1;a.ye=!1;a.i=-1;a.Nd=!1;a.Ee=-1;a.Bj=1;a.ae=-1;a.bf=-1;a.pe=-1;a.Xf=-1;a.sa=!1;a.Le=null;a.Rf=null;a.mg=-1;a.title="";a.Ac="";a.vg="";a.vd=2;a.vs=0;u.fill(0);for(c+=" ";e<m&&!a.ao;)switch(u=c[e],u){case "#":e+=1;u=c[e];e+=1;switch(u){case "N":this.vm(a,c.substring(e));break;case "O":this.wm(a,c.substring(e));break;case "C":this.ci(c.substring(e));break;case "P":case "R":this.Gf(c.substring(e),
!1);break;case "\n":--e}e="\n"===u?e+this.Yd(a,"#",c.substring(e),n):e+this.Yd(a,"#"+u,c.substring(e),n);break;case "x":e+=this.hf(a,c.substring(e),!0,d);q=!0;break;case "\n":e+=1;break;default:n?e+=this.Yd(a,"",c.substring(e),!0):(n=!0,u=this.xp(a,c.substring(e),!1,d),-1!==u&&(e=a.tg?e+u:e+this.xp(a,c.substring(e),!0,d)))}q||(this.Ya(a,"",d)?this.Ba=!0:this.fl=!0);-1!==a.lc&&(a.sa&&(y=6*a.mg),a.Nd&&(y=6*a.Ee),a.Qe>=16384-y||a.Fg>=16384-y)&&(this.C="Bounded grid is too big",this.Ba=!1,a.lc=-1);!a.Nd||
""!==this.C||(1<a.lc&&(this.C="LtL only supports Plane or Torus",this.Ba=!1,a.lc=-1),a.S&&(this.C="LtL does not support Hex grid",this.Ba=!1,a.S=!1),0===a.pe&&-1===a.lc&&(this.C="LtL does not support B0 unbounded",this.Ba=!1),0!==a.lc&&1!==a.lc)||0!==a.Qe&&0!==a.Fg||(this.C="LtL bounded grid must be finite",this.Ba=!1,a.lc=-1);a.R&&-1!==a.lc&&(0!==(a.Qe&1)?(this.C="Bounded grid width must be even",this.Ba=!1,a.lc=-1):0!==(a.Fg&1)&&(this.C="Bounded grid height must be even",this.Ba=!1,a.lc=-1));a.N&&
0!==this.Nj[0]&&(this.C="PCA first value must be 0",this.Nj[0]=0,this.Ba=!1);a.la&&(15===this.Nj[0]&&0!==this.Nj[15]?(this.C="Margolus last value must be 0 when first is 15",this.Ba=!1):0!==this.Nj[0]&&15!==this.Nj[0]&&(this.C="Margolus first value must be 0 or 15",this.Ba=!1));!a.sa||""!==this.C||(1<a.lc&&(this.C="HROT only supports Plane or Torus",this.Ba=!1,a.lc=-1),a.S&&(this.C="HROT does not support Hex grid",this.Ba=!1,a.S=!1),a.Le&&1===a.Le[0]&&-1===a.lc&&(this.C="HROT does not support B0 unbounded",
this.Ba=!1),0!==a.lc&&1!==a.lc)||0!==a.Qe&&0!==a.Fg||(this.C="HROT bounded grid must be finite",this.Ba=!1,a.lc=-1);a.Pa&&a.wc&&""===this.C&&(this.C="[R]History not valid with none rule",this.Ba=a.wc=!1);a.Pa&&a.T&&""===this.C&&(this.C="[R]Super not valid with none rule",this.Ba=a.wc=!1);a.R&&a.T&&""===this.C&&(this.C="[R]Super not valid with triangular rule",this.Ba=a.wc=!1);-1===a.i||!a.wc||a.Nd||a.sa||(this.C="[R]History not valid with Generations",this.Ba=a.wc=!1);-1===a.i||!a.T||a.Nd||a.sa||
(this.C="[R]Super not valid with Generations",this.Ba=a.T=!1);-1===a.i||!this.Nj[0]||a.Nd||a.sa||(this.C="Generations does not support B0",this.Ba=!1);a.Nd&&a.wc&&(this.C="[R]History not valid with LtL",this.Ba=a.wc=!1);a.Nd&&a.T&&(this.C="[R]Super not valid with LtL",this.Ba=a.T=!1);a.sa&&a.wc&&(this.C="[R]History not valid with HROT",this.Ba=a.wc=!1);a.sa&&a.T&&(this.C="[R]Super not valid with HROT",this.Ba=a.T=!1);a.la&&a.wc&&(this.C="[R]History not valid with Margolus",this.Ba=a.wc=!1);a.la&&
a.T&&(this.C="[R]Super not valid with Margolus",this.Ba=a.T=!1);a.la&&-1!==a.lc&&(-1!==a.Fg&&0!==(a.Fg&1)&&(this.C="Bounded grid height must be even",a.lc=-1,this.Ba=!1),-1!==a.Qe&&0!==(a.Qe&1)&&(this.C="Bounded grid width must be even",a.lc=-1,this.Ba=!1));this.Ba&&(a.Pp?8<a.vd&&(this.C="Illegal state in pattern for Niemiec",this.Ba=!1,this.U=!0):a.wc?7<a.vd&&(this.C="Illegal state in pattern for [R]History",this.Ba=!1,this.U=!0):a.T?26<a.vd&&(this.C="Illegal state in pattern for [R]Super",this.Ba=
!1,this.U=!0):-1!==a.i&&a.vd>a.i&&(this.C=a.Nd?"Illegal state in pattern for LtL":a.sa?"Illegal state in pattern for HROT":a.N?"Illegal state in pattern for PCA":"Illegal state in pattern for Generations",this.U=!0,this.Ba=!1));a.Nd&&this.Jm(a,d);!a.sa||a.Mb!==this.Ai&&a.Mb!==this.ai&&a.Mb!==this.Gh&&(15!==a.Mb&&10!==a.Mb||"H"!==a.$g)||(a.S=!0);!a.sa||a.Mb!==this.$h&&(15!==a.Mb&&10!==a.Mb||"L"!==a.$g)||(a.R=!0);a.T&&(a.i=26)};h.prototype.Ui=function(a,c){var d=!0,e=!1,m=0,n=0,q=0,u=0,y=0,v=!0,r=k.QB,
B=null,b=[],l={},f=null;c.fn();var t=c.V();for(""!==t&&"@"===t[0]&&(t="");d&&""!==t;){for(;d&&!e&&""!==t;){if("/"===t[0])c.fn();else if("xpm"===t.toLowerCase())c.fn();else if('"'===t[0])t=t.substr(1),c.um(t)&&(m=c.ty(t),c.K()&&(n=c.L(),c.K()&&(q=c.L(),t=c.V(),'"'===t[t.length-1]&&(t=t.substr(0,t.length-1),c.um(t)&&(u=c.ty(t)))))),0<m&&0<n&&1<=u&&2>=u&&0===n%m?7!==m&&15!==m&&31!==m?e=!1:(e=!0,y=0,B=new Uint16Array(m*n),f=new Uint32Array(q)):d=!1;else switch(t){case "circles":r=k.zN;l={};B=[];f=[];
break;case "diamonds":r=k.AN;l={};B=[];f=[];break;case "hexagons":r=k.BN;l={};B=[];f=[];break;case "triangles":r=k.DN,l={},B=[],f=[]}for(;c.Zp();)c.V();t=c.V();""!==t&&"@"===t[0]&&(t="")}for(;d&&e&&""!==t;){if("/"===t[0])c.fn();else{if('"'===t[0])if(d=!1,y<q){var x=t.substr(1);if(x.length===u&&void 0===l[x]&&(t=c.V(),"c"===t&&(t=c.V(),'"'===t[t.length-1]))){d=t.substr(0,t.length-1);d=parseInt(d,16);l[x]=y;f[y]=d;if(d>>16!==(d>>8&255)||d>>16!==(d&255))v=!1;d=!0}}else{if(d=!1,'"'===t[t.length-1]&&t.length-
2===m*u){t=t.substr(1,t.length-2);var z=0;for(d=!0;d&&z<m;)x=t[z*u],1<u&&(x+=t[z*u+1]),void 0===l[x]?d=!1:B[(y-q)*m+z]=l[x],z+=1}}else y===n+q?(e=!1,b[b.length]={yy:r,width:m,height:n,HF:q,yu:f.slice(),tL:B.slice(),LE:v},l={},B=null,v=!0,r=k.QB):d=!1,c.cH();y+=1}for(;c.Zp();)c.V();t=c.V();""!==t&&"@"===t[0]&&(t="")}}d?y===n+q?(b[b.length]={yy:r,width:m,height:n,HF:q,yu:f.slice(),tL:B.slice(),LE:v},a.Rd=b):a.Rd=null:a.Rd=null};h.prototype.$i=function(a,c){var d=a.vd,e=[],m=0,n,q=!1;c.fn();c.K()&&(m=
c.L(),0<=m&&m<d&&(q=!0));for(;q;){q=!1;for(n="";!c.Zp();)""===n?n=c.V():n+=" "+c.V();e[m]=n;c.fn();c.K()&&(m=c.L(),0<=m&&m<d&&(q=!0))}a.yq=e};h.prototype.Ah=function(a,c){var d=a.vd;a=a.ke;var e=0,m=0,n=0,q=0,u=!1;c.fn();c.K()&&(e=c.L(),u=!0);for(;u;){u=!1;c.K()&&(m=c.L(),c.K()&&(n=c.L(),c.K()&&(q=c.L(),u=!0)));if(u)if(c.K()&&c.EK()){var y=c.L();var v=c.L();0<=e&&255>=e&&0<=m&&255>=m&&0<=n&&255>=n&&0<=q&&255>=q&&0<=y&&255>=y&&0<=v&&255>=v?this.Ke(a,e,m,n,q,y,v):u=!1}else 0<=e&&e<d&&0<=m&&255>=m&&
0<=n&&255>=n&&0<=q&&255>=q?a[e]=m<<16|n<<8|q:u=!1;u&&(c.fn(),c.K()?e=c.L():u=!1)}};h.prototype.re=function(a,c,d,e,m,n){var q=!1,u=a.length;var y=e.length;var v=y%32;var r=1<<v,B=(y-v)/32;if(null!==n)for(y=0;!q&&y<n.length;){var b=n[y];if(b.fq===c)for(v=0,q=!0;q&&v<a.length;)0!==this.Pb(a[v],b.inputs[v])&&(q=!1),v+=1;y+=1}if(!q){null!==n&&(b={inputs:[],fq:c},b.inputs=a.slice(),n[n.length]=b);e[e.length]=c;if(B>=d.Og){for(y=0;y<u;y+=1)for(v=0;v<d.og;v+=1)m[y][v][m[y][v].length]=0;d.Og+=1}for(y=0;y<
u;y+=1)for(c=a[y],v=0;v<c.length;v+=1)m[y][c[v]][B]|=r}return q};h.prototype.Wk=function(a){var c=a.length,d=c-2,e=c-1,m=!1;if(1<c){for(;0<=d&&0<=this.Pb(a[d],a[d+1]);)--d;if(0<d){for(m=!0;e>=d&&0>=this.Pb(a[e],a[d]);)--e;var n=a[d];a[d]=a[e];a[e]=n;var q=(c-(d+1))/2|0;for(e=0;e<q;e+=1)n=a[c-e-1],a[c-e-1]=a[d+1+e],a[d+1+e]=n}}return m};h.prototype.Pb=function(a,c){var d=0,e=a.length;if(e===c.length){for(;d<e&&a[d]===c[d];)d+=1;return d===e?0:a[d]-c[d]}return e-c.length};h.prototype.Vl=function(a,
c,d,e,m){var n,q,u,y=[],v=[],r=[],B=0;for(n=0;n<d;n+=1)for(r[n]=[],q=0;q<m.og;q+=1)r[n][q]=[];for(n=m.Og=0;n<e.length;n+=1){var b=e[n].inputs;var l=e[n].fq;if(0===a)this.re(b,l,m,v,r,null);else if(a===c-1){y=b.slice(1).sort(this.Pb);for(q=0;q<y.length;q+=1)b[q+1]=y[q];do this.re(b,l,m,v,r,null);while(this.Wk(b))}else{var f=this.Db[m.Oj][a-1];var t=[];for(q=0;q<f.length;q+=1){for(u=0;u<b.length;u+=1)y[u]=b[f[q][u]];this.re(y,l,m,v,r,t)&&(B+=1)}}}m.Pg=[];for(n=0;n<d;n+=1)for(m.Pg[n]=[],q=0;q<m.og;q+=
1)m.Pg[n][q]=new Uint32Array(r[n][q].length),m.Pg[n][q].set(r[n][q]);m.Sd=new Uint8Array(v.length);m.Sd.set(v);m.yl=B};h.prototype.bk=function(a,c){var d=-1,e=-1,m=-1,n=0,q,u="",y={},v=0,r=0,B=[],b=null,l;var f=0;for(l=!0;l&&3>f;){var t=c.EE();switch(t.toLowerCase()){case this.og:l=!1;":"===c.V()?c.K()?(d=c.L(),2<=d&&256>=d?l=!0:this.C=this.og+" must be from 2 to 256"):this.C=this.og+" must be numeric":this.C=this.og+" missing :";break;case "neighborhood":l=!1;if(":"===c.V()){t=c.V();var x=!1;for(q=
0;!x&&q<this.ka.length;)t.toLowerCase()===this.ka[q]?(e=q,n=this.ob[q],x=!0,b=new Int32Array(n+1)):q+=1;l=x;x||(this.C="neighborhood invalid")}else this.C="neighborhood missing :";break;case "symmetries":l=!1;if(-1!==e)if(":"===c.V()){t=c.V();x=!1;for(q=0;!x&&q<this.wa[e].length;)t.toLowerCase()===this.wa[e][q]?(m=q,x=!0):q+=1;l=x;x||(this.C="symmetries invalid")}else this.C="symmetries missing :";else this.C="symmetries must follow neighborhood";break;default:l=!1}f+=1}if(-1===d||-1===e||-1===m)""===
this.C&&(this.C=-1===d?"missing "+this.og:-1===e?"missing neighborhood":"missing symmetries"),l=!1;c.$w();t=c.V();for(""!==t&&"@"===t[0]&&(t="");l&&""!==t;){if("var"===t.toLowerCase()){l=!1;u=c.V();var z=[];if("="===c.V())for(l=!0;l&&!c.Zp();)if(c.K())q=c.L(),0<=q&&q<=d?z[z.length]=q:(l=!1,this.C="out of range value: "+u+"="+q);else{var A=c.V();if(void 0!==y[A])for(f=0;f<y[A].length;f+=1)z[z.length]=y[A][f];else l=!1,this.C="var unknown assignment: "+u+"="+A}else this.C="missing =: "+u;l&&(y[u]=z,
v+=1)}else if(10>=d&&0===v&&c.Zp()){if(z=[],l=!1,t.length===n+1){f=0;for(l=!0;l&&f<n;)A=t.charCodeAt(f),48<=A&&A<48+d?(z[z.length]=[A-48],f+=1):(this.C="expected only digits: "+t,l=!1);l&&(A=t.charCodeAt(f),48<=A&&A<48+d?(r=A-48,B[B.length]={inputs:z,fq:r}):(this.C="expected only digits: "+t,l=!1))}}else{l=!1;A=[];A[0]=t;b[0]=c.um(t)?parseInt(t,10):-1;for(f=1;c.bM();)f<n+1?c.K()?(b[f]=c.L(),A[f]=""):(b[f]=-1,A[f]=c.V()):A[f]=c.V(),f+=1;if(A.length===n+1){t=[];for(u in y){for(f=l=0;f<A.length;f+=1)u===
A[f]&&(l+=1);1<l&&(t[t.length]=u)}z=[];var C={};for(f=0;f<t.length;f+=1)C[t[f]]=0;for(l=!0;;){for(f=0;f<n;f+=1)if(x=!1,q=b[f],-1!==q)q>=d?(this.C="state out of range: "+q,l=!1):z[f]=[q];else{var I=A[f];if(t.length)for(q=0;!x&&q<t.length;)t[q]===I?x=!0:q+=1;0<t.length&&x?z[f]=[y[I][C[I]]]:void 0!==y[I]?z[f]=y[I]:(this.C="unknown variable: "+I,l=!1)}x=!1;q=b[f];if(-1!==q)0>q||q>=d?(this.C="output state out of range: "+q,l=!1):r=q;else{I=A[f];if(0<t.length)for(q=0;!x&&q<t.length;)t[q]===I?x=!0:q+=1;
0<t.length&&x?r=y[I][C[I]]:void 0!==y[I]?r=y[I]:(this.C="unknown output variable: "+I,l=!1)}B[B.length]={inputs:z.slice(),fq:r};for(f=0;f<t.length;f+=1)if(C[t[f]]<y[t[f]].length-1){C[t[f]]+=1;break}else C[t[f]]=0;if(f>=t.length)break}}}c.$w();t=c.V();""!==t&&"@"===t[0]&&(c.cH(),t="")}l&&(null===a.u&&(a.u=new Allocator),a.og=d,a.Oj=e,a.S=e===k.zl?!0:!1,this.Vl(m,this.wa[e].length,n,B,a),a.vd=a.og,this.C="",this.Ba=!0,this.fl=!1,a.Pa=!1,this.cf(a,a.og));return l};h.prototype.Ke=function(a,c,d,e,m,n,
q){var u=a.length,y;a[0]=0;for(y=1;y<u;y+=1){var v=2===u?0:(y-1)/(u-2);a[y]=(m*v+c*(1-v)|0)<<16|(n*v+d*(1-v)|0)<<8|q*v+e*(1-v)|0}};h.prototype.cf=function(a,c){a.ke=new Uint32Array(c);this.Ke(a.ke,255,0,0,255,255,0)};h.prototype.pm=function(a){return(new RegExp("neighborhood *: *"+this.ka[k.zl])).test(a.source)};h.prototype.dk=function(a,c){var d,e=-1,m=-1,n=-1,q=null,u=0,y=null,v=0,r=null,B=0,b=null,l=0,f=0,t=0;var x=0;for(d=!0;d&&3>x;){d=c.EE();switch(d.toLowerCase()){case this.Fe:d=!1;"="===c.V()?
c.K()?(e=c.L(),2<=e&&256>=e?d=!0:this.C=this.Fe+" must be from 2 to 256"):this.C=this.Fe+" must be numeric":this.C=this.Fe+" missing =";break;case this.pg:d=!1;"="===c.V()?c.K()?(m=c.L(),4===m||8===m?d=!0:this.C=this.pg+" must be 4 or 8"):this.C=this.pg+" must be numeric":this.C=this.pg+" missing =";break;case this.Xh:d=!1;"="===c.V()?c.K()?(n=c.L(),n>=m&&1E8>=n?d=!0:this.C=this.Xh+" out of range"):this.C=this.Xh+" must be numeric":this.C=this.Xh+" missing =";break;default:d=!1}x+=1}if(-1===e||-1===
m||-1===n)""===this.C&&(this.C=-1===e?"missing "+this.Fe:-1===m?"missing "+this.pg:"missing "+this.Xh),d=!1;d&&(q=new Uint32Array(n*e),y=new Uint8Array(n*e),r=new Uint32Array(n),b=new Uint32Array(n));for(c.$w();d&&c.K();){B>n?d=!1:(f=c.L(),t=0,r[B]=1===f?v:u,B+=1,b[l]=f,l+=1);for(;d&&c.K();)x=c.L(),1===f?0>x||x>=e?(this.C="bad state value in tree data: "+x,d=!1):(y[v]=x,v+=1):0>x||x>r.length?(this.C="bad node value in tree data: "+x,d=!1):b[x]!==f-1?(this.C="bad node pointer in tree data: "+f,d=!1):
(q[u]=r[x],u+=1),t+=1;d&&t!==e&&(this.C="bad number of values on tree data line",d=!1);c.$w()}d&&(u+v!==n*e?(this.C="bad count of values in tree data",d=!1):f!==m+1?(this.C="bad last node (wrong level)",d=!1):a.vd>e&&(d=!1,this.C="illegal state in pattern"));d&&(null===a.u&&(a.u=new Allocator),a.pg=m,a.Fe=e,a.Xh=n,a.Al=r[r.length-1],a.Jk=q.slice(0,u),a.Kk=y.slice(0,v),a.SB=this.pm(c),a.S=a.SB,a.vd=a.Fe,this.C="",this.Ba=!0,this.fl=!1,a.Pa=!1,this.cf(a,a.Fe));return d};h.prototype.qE=function(a,c){var d=
!1,e=new Script(c,!0);a.D.Rw="";a.D.C="";c=e.Cp("@RULE",-1);if(-1!==c&&!e.Zp()){a.RB=e.V();var m=e.Cp("@TREE",-1);-1!==m?(d=this.dk(a,e))?a.J=a.RB:(""===a.D.C&&(a.D.C="not valid"),a.D.C="@TREE "+a.D.C):(m=e.Cp("@TABLE",0),-1!==m?(d=this.bk(a,e))?a.J=a.RB:(""===a.D.C&&(a.D.C="not valid"),a.D.C="@TABLE "+a.D.C):a.D.C="@TABLE and @TREE not found");m=e.current-1;d&&(d=e.Cp("@COLORS",0),-1!==d&&(this.Ah(a,e),e.current-1>m&&(m=e.current-1)),d=e.Cp("@ICONS",0),-1!==d&&(this.Ui(a,e),e.current-1>m&&(m=e.current-
1)),d=e.Cp("@NAMES",0),-1!==d&&(this.$i(a,e),e.current-1>m&&(m=e.current-1)));""===a.D.C&&(a.D.Rw=e.NK(c,m))}};h.prototype.create=function(a,c,d,e,m,n,q){a=new g(a,this);this.Ba=this.fl=this.tg=this.U=this.Uv=!1;this.C="";this.index=0;this.il=!1;this.uz=0;this.mh=!1;this.vw=this.uw=0;this.Nk=this.Ok=-1;this.qc=!1;if("!"===c.substr(0,1)||"O"===c.substr(0,1)||"."===c.substr(0,1)||"*"===c.substr(0,1)||"o"===c.substr(0,1))this.zh(a,c,d),this.Ba=!0;null===a.Ae&&(this.Ba=!1,"#Life 1.05"===c.substr(0,10)?
this.df(a,c,!0,d):"#Life 1.06"===c.substr(0,10)?(this.li(a,c,d),this.Ba=!0):"#"===c[0]||"x"===c[0]?(this.ef(a,c,d),null!==a.Ae||a.tg||a.ao||(this.df(a,c,!1,d),this.fl=!1,a.kh=null,a.wc=!1,a.T=!1,a.vd=2,a.vs=0)):this.ef(a,c,d));a.tg&&(this.C="Pattern too big (maximum 16384x16384)",this.tg=!0,a.ao=!1,a.width=1,a.height=1,a.Ae=Array.ea(Uint16,a.height,(a.width-1>>4)+1,0,d,"Pattern.lifeMap"));-1!==a.lc?(c=a.J.lastIndexOf(":"),a.qp=a.J.substr(c),a.J=a.J.substr(0,c)):a.qp="";null===a.Ae&&""===this.C&&(this.C=
"Invalid pattern",a=null,this.Ba=!1);a&&a.ao&&!a.tg&&(a=null,this.Ba=!1);a&&(""!==a.Ac&&"\n"!==a.Ac[a.Ac.length-1]&&(a.Ac+="\n"),""!==a.vg&&"\n"!==a.vg[a.vg.length-1]&&(a.vg+="\n"),""!==this.C&&(a.S||a.R)&&null===a.J.match(/[0-9]/)&&(a.S=!1,a.R=!1),""===this.C||this.tg||this.U||(a.J=a.ws,-1!==a.lc?(c=a.J.lastIndexOf(":"),a.qp=a.J.substr(c),a.J=a.J.substr(0,c)):a.qp="",a.la=!1,a.N=!1,a.Pa=!1,a.wc=!1,a.T=!1,a.Pp=!1,a.S=!1,a.R=!1,a.Vd=-1,a.ye=!1,a.Nd=!1,a.NH=a.sa,a.sa=!1,p.cF(a)?(e=null===a.Sd?a.Fe:
a.og,a.vd>e?(this.C="Illegal state in pattern",this.U=!0):(a.vd=e,this.C="",this.Ba=!0,this.fl=!1,a.Pa=!1)):(c=a.vg.indexOf("@RULE"),-1!==c&&(c=a.vg.substr(c),this.qE(a,c)),-1===a.Fe&&null===a.Sd&&this.ik(a,e,m,n,q))));return a};h.prototype.LK=function(a){var c=a.indexOf("@RULE");if(-1===c)a="";else{var d=a.indexOf("\x3c!--",c);a=-1===d?0===c?a:a.substr(c):a.substr(c,d-c);a=a.replace(/<li>/g,"# ");a=a.replace(/<[^<]*>/g,"")}return a};h.prototype.hk=function(a,c,d){if(4===c.readyState)if(200===c.status){c=
a.LK(c.responseText);var e=performance.now()-this.time;this.time=performance.now();if(""===c)d.D.C="@RULE not found",p.Nw(d);else{a.qE(d,c);var m=performance.now()-this.time;-1!==d.Fe||null!==d.Sd?p.add(d,e,m,c.length,a.Rw):p.Nw(d)}}else p.Nw(d)};h.prototype.fk=function(a){p.Nw(a)};h.prototype.ik=function(a,c,d,e,m){var n=this,q=null,u=a.J,y="";u=u.replace(/ /g,"_");y="/wiki/Rule:"+u;this.time=performance.now();this.Uv=!0;m?a.u=m.g.u:a.u=null;p.RI(a,c,d,e,m)||(q=new XMLHttpRequest,""!==DocConfig.KB&&
(y=DocConfig.KB+u+DocConfig.OG),registerEvent(q,"load",function(){n.hk(n,q,a)},!1),registerEvent(q,"error",function(){n.fk(a)},!1),q.open("GET",y,!0),q.send(null))};window.PatternConstants=k;window.PatternManager=h;window.Pattern=g;window.RuleTreeCache=p}(),function(){var w={$y:[48,48,48,0,255,127,127,0,255,148,148,148,128,255,0,255,0,128,0,128,255,1,159,0,159,0,1,255,254,96,0,1,159,96,255,254,254,96,255,126,125,21,21,126,125,125,21,126,255,116,116,116,255,116,116,116,255,228,227,0,28,255,27,255,
27,28,0,228,227,227,0,228,27,28,255,59,59,59,234,195,176,175,196,255,171,194,68,194,68,171,68,171,194,72,184,71,184,71,72,71,72,184,169,255,188,252,179,63,63,252,179,179,63,252,80,9,0,0,80,9,9,0,80,255,175,250,199,134,213,115,100,95,188,163,0,0,188,163,163,0,188,203,73,0,0,203,73,73,0,203,94,189,0,189,0,94,0,94,189,187,243,119,55,125,32,125,32,55,32,55,125,255,102,185,102,185,255,120,209,168,208,166,119,135,96,192,182,255,41,83,153,130,247,88,55,89,247,55,88,55,247,87,75,0,0,87,75,75,0,87,200,135,
59,51,213,127,255,255,162,255,37,182,37,182,255,228,57,117,142,163,210,57,117,228,193,255,246,188,107,123,123,194,107,145,59,5,5,145,59,59,5,145,119,39,198,40,197,23,197,23,40,23,40,197,178,199,158,255,201,121,134,223,223,39,253,84,149,203,15,203,15,149,15,149,203,152,144,90,143,75,139,71,97,132,224,65,219,65,219,224,255,255,40,218,223,69,74,241,0,241,0,74,0,74,241,122,171,51,220,211,227,61,127,87,90,124,176,36,39,13,165,142,255,255,38,255,38,255,255,83,50,107,224,142,165,255,181,9,9,255,181,181,
9,255,140,238,70,255,74,5,74,5,255,138,84,51,31,172,101,177,115,17,221,0,0,0,221,0,0,0,221,220,255,200,0,41,50,255,150,205,178,45,116,113,255,189,47,0,44,40,119,171,205,107,255,177,115,172,133,73,236,109,0,168,168,46,207,188,181,203,212,188,35,90,97,52,39,209,184,41,164,152,227,46,70,46,70,227,211,156,255,98,146,222,136,56,95,102,54,152,86,142,0,142,0,86,0,86,142,86,223,96,246,135,46,4,208,120,212,233,158,177,92,214,104,147,88,149,240,147,227,93,148,72,255,133,209,27,194,147,255,255,44,93,0,160,36,
158,182,233,0,96,94,217,218,103,88,163,154,38,118,114,139,94,0,43,113,164,174,168,188,114,0,23,119,42,86,93,255,226,202,80,191,155,255,158,136,0,247,62,234,146,88,0,183,229,110,212,36,0,143,161,105,191,210,133,164,0,41,30,89,164,0,132,30,89,42,178,222,217,121,22,11,221,107,22,69,151,255,45,158,3,158,3,45,3,45,158,86,42,29,9,122,22,213,209,110,53,221,57,159,101,91,93,140,45,247,213,37,185,34,0,0,185,34,34,0,185,236,0,172,210,180,78,231,107,221,162,49,43,43,162,49,49,43,162,36,248,213,114,0,214,213,
36,248,149,34,243,185,158,167,144,122,224,34,245,149,255,31,98,31,98,255,152,200,193,255,80,95,128,123,63,102,62,72,255,62,148,151,226,108,159,99,255,226,255,126,98,223,136,80,95,255,225,153,15,73,41,211,212,71,41,83,217,187,180,235,79,0,166,127,251,135,243,229,41,0,41,0,229,82,255,216,141,174,249,249,215,255,167,31,79,31,79,167,213,102,185,255,215,83,4,2,40,224,171,220,41,0,4,6,50,90,221,15,113,15,113,221,33,0,115,108,23,90,182,215,36],Zy:[],zg:{aliceblue:["AliceBlue",240,248,255],antiquewhite:["AntiqueWhite",
250,235,215],aqua:["Aqua",0,255,255],aquamarine:["Aquamarine",127,255,212],azure:["Azure",240,255,255],beige:["Beige",245,245,220],bisque:["Bisque",255,228,196],black:["Black",0,0,0],blanchedalmond:["BlanchedAlmond",255,235,205],blue:["Blue",0,0,255],blueviolet:["BlueViolet",138,43,226],brown:["Brown",165,42,42],burlywood:["BurlyWood",222,184,135],cadetblue:["CadetBlue",95,158,160],chartreuse:["Chartreuse",127,255,0],chocolate:["Chocolate",210,105,30],coral:["Coral",255,127,80],cornflowerblue:["CornflowerBlue",
100,149,237],cornsilk:["Cornsilk",255,248,220],crimson:["Crimson",220,20,60],cyan:["Cyan",0,255,255],darkblue:["DarkBlue",0,0,139],darkcyan:["DarkCyan",0,139,139],darkgoldenrod:["DarkGoldenRod",184,134,11],darkgray:["DarkGray",169,169,169],darkgreen:["DarkGreen",0,100,0],darkkhaki:["DarkKhaki",189,183,107],darkmagenta:["DarkMagenta",139,0,139],darkolivegreen:["DarkOliveGreen",85,107,47],darkorange:["DarkOrange",255,140,0],darkorchid:["DarkOrchid",153,50,204],darkred:["DarkRed",139,0,0],darksalmon:["DarkSalmon",
233,150,122],darkseagreen:["DarkSeaGreen",143,188,143],darkslateblue:["DarkSlateBlue",72,61,139],darkslategray:["DarkSlateGray",47,79,79],darkturquoise:["DarkTurquoise",0,206,209],darkviolet:["DarkViolet",148,0,211],deeppink:["DeepPink",255,20,147],deepskyblue:["DeepSkyBlue",0,191,255],dimgray:["DimGray",105,105,105],dodgerblue:["DodgerBlue",30,144,255],firebrick:["FireBrick",178,34,34],floralwhite:["FloralWhite",255,250,240],forestgreen:["ForestGreen",34,139,34],fuchsia:["Fuchsia",255,0,255],gainsboro:["Gainsboro",
220,220,220],ghostwhite:["GhostWhite",248,248,255],gold:["Gold",255,215,0],goldenrod:["GoldenRod",218,165,32],gray:["Gray",128,128,128],green:["Green",0,128,0],greenyellow:["GreenYellow",173,255,47],honeydew:["HoneyDew",240,255,240],hotpink:["HotPink",255,105,180],indianred:["IndianRed",205,92,92],indigo:["Indigo",75,0,130],ivory:["Ivory",255,255,240],khaki:["Khaki",240,230,140],lavender:["Lavender",230,230,250],lavenderblush:["LavenderBlush",255,240,245],lawngreen:["LawnGreen",124,252,0],lemonchiffon:["LemonChiffon",
255,250,205],lightblue:["LightBlue",173,216,230],lightcoral:["LightCoral",240,128,128],lightcyan:["LightCyan",224,255,255],lightgoldenrodyellow:["LightGoldenRodYellow",250,250,210],lightgray:["LightGray",211,211,211],lightgreen:["LightGreen",144,238,144],lightpink:["LightPink",255,182,193],lightsalmon:["LightSalmon",255,160,122],lightseagreen:["LightSeaGreen",32,178,170],lightskyblue:["LightSkyBlue",135,206,250],lightslategray:["LightSlateGray",119,136,153],lightsteelblue:["LightSteelBlue",176,196,
222],lightyellow:["LightYellow",255,255,224],lime:["Lime",0,255,0],limegreen:["LimeGreen",50,205,50],linen:["Linen",250,240,230],magenta:["Magenta",255,0,255],maroon:["Maroon",128,0,0],mediumaquamarine:["MediumAquaMarine",102,205,170],mediumblue:["MediumBlue",0,0,205],mediumorchid:["MediumOrchid",186,85,211],mediumpurple:["MediumPurple",147,112,219],mediumseagreen:["MediumSeaGreen",60,179,113],mediumslateblue:["MediumSlateBlue",123,104,238],mediumspringgreen:["MediumSpringGreen",0,250,154],mediumturquoise:["MediumTurquoise",
72,209,204],mediumvioletred:["MediumVioletRed",199,21,133],midnightblue:["MidnightBlue",25,25,112],mintcream:["MintCream",245,255,250],mistyrose:["MistyRose",255,228,225],moccasin:["Moccasin",255,228,181],navajowhite:["NavajoWhite",255,222,173],navy:["Navy",0,0,128],oldlace:["OldLace",253,245,230],olive:["Olive",128,128,0],olivedrab:["OliveDrab",107,142,35],orange:["Orange",255,165,0],orangered:["OrangeRed",255,69,0],orchid:["Orchid",218,112,214],palegoldenrod:["PaleGoldenRod",238,232,170],palegreen:["PaleGreen",
152,251,152],paleturquoise:["PaleTurquoise",175,238,238],palevioletred:["PaleVioletRed",219,112,147],papayawhip:["PapayaWhip",255,239,213],peachpuff:["PeachPuff",255,218,185],peru:["Peru",205,133,63],pink:["Pink",255,192,203],plum:["Plum",221,160,221],powderblue:["PowderBlue",176,224,230],purple:["Purple",128,0,128],rebeccapurple:["RebeccaPurple",102,51,153],red:["Red",255,0,0],rosybrown:["RosyBrown",188,143,143],royalblue:["RoyalBlue",65,105,225],saddlebrown:["SaddleBrown",139,69,19],salmon:["Salmon",
250,128,114],sandybrown:["SandyBrown",244,164,96],seagreen:["SeaGreen",46,139,87],seashell:["SeaShell",255,245,238],sienna:["Sienna",160,82,45],silver:["Silver",192,192,192],skyblue:["SkyBlue",135,206,235],slateblue:["SlateBlue",106,90,205],slategray:["SlateGray",112,128,144],snow:["Snow",255,250,250],springgreen:["SpringGreen",0,255,127],steelblue:["SteelBlue",70,130,180],tan:["Tan",210,180,140],teal:["Teal",0,128,128],thistle:["Thistle",216,191,216],tomato:["Tomato",255,99,71],turquoise:["Turquoise",
64,224,208],violet:["Violet",238,130,238],wheat:["Wheat",245,222,179],white:["White",255,255,255],whitesmoke:["WhiteSmoke",245,245,245],yellow:["Yellow",255,255,0],yellowgreen:["YellowGreen",154,205,50]},hP:function(){return this.Zy},qf:function(){var h,g;if(!this.vL)for(this.vL=!0,h=g=0;256>h;h+=1)w.Zy[h]=w.$y[g]<<16|w.$y[g+1]<<8|w.$y[g+2],g+=3}};window.ColourManager=w}(),function(){function w(h,g,p,k){this.l=h;this.o=g;this.v=p;this.A=k}w.prototype.set=function(h){this.l=h.l;this.o=h.o;this.v=h.v;
this.A=h.A};window.BoundingBox=w}(),function(){function w(g,p,k){this.index=p;this.ia=g.Uo[p];this.Ka=g.Hn[p];this.ys=g.ro[p];this.U=g.pv[p];this.G=g.xu[p];k?this.B=g.xs[p]:this.B=null;this.M=new BoundingBox(0,0,0,0);this.Na=new BoundingBox(0,0,0,0);this.ba=this.zj=this.$f=this.counter=this.Ub=this.Qb=this.oa=0;this.D=g}function h(g,p){this.u=g;this.Xe=[];this.ij=[];this.Uo=[];this.Hn=[];this.ro=[];this.pv=[];this.xu=[];this.xs=[];this.G=0;this.index=-1;this.QL=51;this.vy=p;this.B=null}w.prototype.uN=
function(g,p,k){var a=p.length,c=p[0].length,d,e,m=0,n,q=k.Vo;k=k.Wo;var u,y=0,v=this.U,r=0,B=v[r],b=B.length;Array.Ih(this.ia,p);for(d=0;d<a;d+=1){var l=this.ia[d];for(p=u=0;p<c;p+=1)if(n=l[p])for(e=15;0<=e;--e){if(0!==(n&1<<e)){var f=y;var t=u;var x=B[m];m+=1;g[f][t]=x&255;g[f][t+1]=x>>8&255;g[f+1][t]=x>>16&255;g[f+1][t+1]=x>>24;f+=2;x=B[m];m+=1;g[f][t]=x&255;g[f][t+1]=x>>8&255;g[f+1][t]=x>>16&255;g[f+1][t+1]=x>>24;f+=2;x=B[m];m+=1;g[f][t]=x&255;g[f][t+1]=x>>8&255;g[f+1][t]=x>>16&255;g[f+1][t+1]=
x>>24;f+=2;x=B[m];m+=1;g[f][t]=x&255;g[f][t+1]=x>>8&255;g[f+1][t]=x>>16&255;g[f+1][t+1]=x>>24;f+=2;x=B[m];m+=1;g[f][t]=x&255;g[f][t+1]=x>>8&255;g[f+1][t]=x>>16&255;g[f+1][t+1]=x>>24;f+=2;x=B[m];m+=1;g[f][t]=x&255;g[f][t+1]=x>>8&255;g[f+1][t]=x>>16&255;g[f+1][t+1]=x>>24;f+=2;x=B[m];m+=1;g[f][t]=x&255;g[f][t+1]=x>>8&255;g[f+1][t]=x>>16&255;g[f+1][t+1]=x>>24;f+=2;x=B[m];m+=1;g[f][t]=x&255;g[f][t+1]=x>>8&255;g[f+1][t]=x>>16&255;g[f+1][t+1]=x>>24;m>=b&&(r+=1,B=v[r],m=0)}u+=q}else u+=q<<4;y+=k}};w.prototype.JN=
function(g,p,k){var a=p.length,c=p[0].length,d,e=0,m;var n=0;var q=k.Vo,u=k.Wo,y,v=0,r=this.U,B=0,b=r[B],l=b.length,f=r.length;var t=this.D.vy;Array.Ih(p,this.ia);for(d=0;d<a;d+=1){var x=p[d];for(k=0;k<c;k+=1)(m=x[k])&&(n+=t[m])}if(n)for(d=0;d<a;d+=1){x=p[d];for(k=y=0;k<c;k+=1)if(m=x[k])for(n=15;0<=n;--n){if(0!==(m&1<<n)){var z=v;t=y;b[e]=g[z][t]|g[z][t+1]<<8|g[z+1][t]<<16|g[z+1][t+1]<<24;e+=1;z+=2;b[e]=g[z][t]|g[z][t+1]<<8|g[z+1][t]<<16|g[z+1][t+1]<<24;e+=1;z+=2;b[e]=g[z][t]|g[z][t+1]<<8|g[z+1][t]<<
16|g[z+1][t+1]<<24;e+=1;z+=2;b[e]=g[z][t]|g[z][t+1]<<8|g[z+1][t]<<16|g[z+1][t+1]<<24;e+=1;z+=2;b[e]=g[z][t]|g[z][t+1]<<8|g[z+1][t]<<16|g[z+1][t+1]<<24;e+=1;z+=2;b[e]=g[z][t]|g[z][t+1]<<8|g[z+1][t]<<16|g[z+1][t+1]<<24;e+=1;z+=2;b[e]=g[z][t]|g[z][t+1]<<8|g[z+1][t]<<16|g[z+1][t+1]<<24;e+=1;z+=2;b[e]=g[z][t]|g[z][t+1]<<8|g[z+1][t]<<16|g[z+1][t+1]<<24;e+=1;e>=l&&(B+=1,e=0,B>=f&&(Array.mp(r,"Snapshot.gridBufferRow"),f+=1));b=r[B]}y+=q}else y+=q<<4;v+=u}};w.prototype.vN=function(g,p,k){var a=p.length,c=
p[0].length,d,e,m,n=0,q,u=k.Vo<<3,y=k.Wo,v,r=0,B=this.B,b=0,l=B[b],f=l.length;Array.Ih(this.ys,p);for(d=0;d<a;d+=1){var t=p[d];for(k=v=0;k<c;k+=1)if(q=t[k])for(e=15;0<=e;--e){if(0!==(q&1<<e))for(m=v;m<v+u;m+=4){var x=r;var z=l[n];n+=1;g[x][m]=z&255;g[x][m+1]=z>>8&255;g[x][m+2]=z>>16&255;g[x][m+3]=z>>24;x+=1;z=l[n];n+=1;g[x][m]=z&255;g[x][m+1]=z>>8&255;g[x][m+2]=z>>16&255;g[x][m+3]=z>>24;x+=1;z=l[n];n+=1;g[x][m]=z&255;g[x][m+1]=z>>8&255;g[x][m+2]=z>>16&255;g[x][m+3]=z>>24;x+=1;z=l[n];n+=1;g[x][m]=
z&255;g[x][m+1]=z>>8&255;g[x][m+2]=z>>16&255;g[x][m+3]=z>>24;x+=1;z=l[n];n+=1;g[x][m]=z&255;g[x][m+1]=z>>8&255;g[x][m+2]=z>>16&255;g[x][m+3]=z>>24;x+=1;z=l[n];n+=1;g[x][m]=z&255;g[x][m+1]=z>>8&255;g[x][m+2]=z>>16&255;g[x][m+3]=z>>24;x+=1;z=l[n];n+=1;g[x][m]=z&255;g[x][m+1]=z>>8&255;g[x][m+2]=z>>16&255;g[x][m+3]=z>>24;x+=1;z=l[n];n+=1;g[x][m]=z&255;g[x][m+1]=z>>8&255;g[x][m+2]=z>>16&255;g[x][m+3]=z>>24;x+=1;z=l[n];n+=1;g[x][m]=z&255;g[x][m+1]=z>>8&255;g[x][m+2]=z>>16&255;g[x][m+3]=z>>24;x+=1;z=l[n];
n+=1;g[x][m]=z&255;g[x][m+1]=z>>8&255;g[x][m+2]=z>>16&255;g[x][m+3]=z>>24;x+=1;z=l[n];n+=1;g[x][m]=z&255;g[x][m+1]=z>>8&255;g[x][m+2]=z>>16&255;g[x][m+3]=z>>24;x+=1;z=l[n];n+=1;g[x][m]=z&255;g[x][m+1]=z>>8&255;g[x][m+2]=z>>16&255;g[x][m+3]=z>>24;x+=1;z=l[n];n+=1;g[x][m]=z&255;g[x][m+1]=z>>8&255;g[x][m+2]=z>>16&255;g[x][m+3]=z>>24;x+=1;z=l[n];n+=1;g[x][m]=z&255;g[x][m+1]=z>>8&255;g[x][m+2]=z>>16&255;g[x][m+3]=z>>24;x+=1;z=l[n];n+=1;g[x][m]=z&255;g[x][m+1]=z>>8&255;g[x][m+2]=z>>16&255;g[x][m+3]=z>>
24;x+=1;z=l[n];n+=1;g[x][m]=z&255;g[x][m+1]=z>>8&255;g[x][m+2]=z>>16&255;g[x][m+3]=z>>24;n>=f&&(b+=1,l=B[b],n=0)}v+=u}else v+=u<<4;r+=y}};w.prototype.tN=function(g,p,k){var a=p.length,c=p[0].length,d,e,m,n=0,q,u=k.Vo<<3,y=k.Wo,v,r=0,B=this.G,b=0,l=B[b],f=l.length;Array.Ih(this.Ka,p);for(d=0;d<a;d+=1){var t=p[d];for(k=v=0;k<c;k+=1)if(q=t[k])for(e=15;0<=e;--e){if(0!==(q&1<<e))for(m=v;m<v+u;m+=4){var x=r;var z=l[n];n+=1;g[x][m]=z&255;g[x][m+1]=z>>8&255;g[x][m+2]=z>>16&255;g[x][m+3]=z>>24;x+=1;z=l[n];
n+=1;g[x][m]=z&255;g[x][m+1]=z>>8&255;g[x][m+2]=z>>16&255;g[x][m+3]=z>>24;x+=1;z=l[n];n+=1;g[x][m]=z&255;g[x][m+1]=z>>8&255;g[x][m+2]=z>>16&255;g[x][m+3]=z>>24;x+=1;z=l[n];n+=1;g[x][m]=z&255;g[x][m+1]=z>>8&255;g[x][m+2]=z>>16&255;g[x][m+3]=z>>24;x+=1;z=l[n];n+=1;g[x][m]=z&255;g[x][m+1]=z>>8&255;g[x][m+2]=z>>16&255;g[x][m+3]=z>>24;x+=1;z=l[n];n+=1;g[x][m]=z&255;g[x][m+1]=z>>8&255;g[x][m+2]=z>>16&255;g[x][m+3]=z>>24;x+=1;z=l[n];n+=1;g[x][m]=z&255;g[x][m+1]=z>>8&255;g[x][m+2]=z>>16&255;g[x][m+3]=z>>
24;x+=1;z=l[n];n+=1;g[x][m]=z&255;g[x][m+1]=z>>8&255;g[x][m+2]=z>>16&255;g[x][m+3]=z>>24;x+=1;z=l[n];n+=1;g[x][m]=z&255;g[x][m+1]=z>>8&255;g[x][m+2]=z>>16&255;g[x][m+3]=z>>24;x+=1;z=l[n];n+=1;g[x][m]=z&255;g[x][m+1]=z>>8&255;g[x][m+2]=z>>16&255;g[x][m+3]=z>>24;x+=1;z=l[n];n+=1;g[x][m]=z&255;g[x][m+1]=z>>8&255;g[x][m+2]=z>>16&255;g[x][m+3]=z>>24;x+=1;z=l[n];n+=1;g[x][m]=z&255;g[x][m+1]=z>>8&255;g[x][m+2]=z>>16&255;g[x][m+3]=z>>24;x+=1;z=l[n];n+=1;g[x][m]=z&255;g[x][m+1]=z>>8&255;g[x][m+2]=z>>16&255;
g[x][m+3]=z>>24;x+=1;z=l[n];n+=1;g[x][m]=z&255;g[x][m+1]=z>>8&255;g[x][m+2]=z>>16&255;g[x][m+3]=z>>24;x+=1;z=l[n];n+=1;g[x][m]=z&255;g[x][m+1]=z>>8&255;g[x][m+2]=z>>16&255;g[x][m+3]=z>>24;x+=1;z=l[n];n+=1;g[x][m]=z&255;g[x][m+1]=z>>8&255;g[x][m+2]=z>>16&255;g[x][m+3]=z>>24;n>=f&&(b+=1,l=B[b],n=0)}v+=u}else v+=u<<4;r+=y}};w.prototype.KN=function(g,p,k){var a=p.length,c=p[0].length,d,e=0,m;var n=0;var q=k.Vo<<3,u=k.Wo,y,v=0,r=this.B,B=0,b=r[B],l=b.length,f=r.length;var t=this.D.vy;Array.Ih(p,this.ys);
for(d=0;d<a;d+=1){var x=p[d];for(k=0;k<c;k+=1)(m=x[k])&&(n+=t[m])}if(n)for(d=0;d<a;d+=1){x=p[d];for(k=y=0;k<c;k+=1)if(m=x[k])for(n=15;0<=n;--n){if(0!==(m&1<<n))for(t=y;t<y+q;t+=4){var z=v;b[e]=g[z][t]|g[z][t+1]<<8|g[z][t+2]<<16|g[z][t+3]<<24;e+=1;z+=1;b[e]=g[z][t]|g[z][t+1]<<8|g[z][t+2]<<16|g[z][t+3]<<24;e+=1;z+=1;b[e]=g[z][t]|g[z][t+1]<<8|g[z][t+2]<<16|g[z][t+3]<<24;e+=1;z+=1;b[e]=g[z][t]|g[z][t+1]<<8|g[z][t+2]<<16|g[z][t+3]<<24;e+=1;z+=1;b[e]=g[z][t]|g[z][t+1]<<8|g[z][t+2]<<16|g[z][t+3]<<24;e+=
1;z+=1;b[e]=g[z][t]|g[z][t+1]<<8|g[z][t+2]<<16|g[z][t+3]<<24;e+=1;z+=1;b[e]=g[z][t]|g[z][t+1]<<8|g[z][t+2]<<16|g[z][t+3]<<24;e+=1;z+=1;b[e]=g[z][t]|g[z][t+1]<<8|g[z][t+2]<<16|g[z][t+3]<<24;e+=1;z+=1;b[e]=g[z][t]|g[z][t+1]<<8|g[z][t+2]<<16|g[z][t+3]<<24;e+=1;z+=1;b[e]=g[z][t]|g[z][t+1]<<8|g[z][t+2]<<16|g[z][t+3]<<24;e+=1;z+=1;b[e]=g[z][t]|g[z][t+1]<<8|g[z][t+2]<<16|g[z][t+3]<<24;e+=1;z+=1;b[e]=g[z][t]|g[z][t+1]<<8|g[z][t+2]<<16|g[z][t+3]<<24;e+=1;z+=1;b[e]=g[z][t]|g[z][t+1]<<8|g[z][t+2]<<16|g[z][t+
3]<<24;e+=1;z+=1;b[e]=g[z][t]|g[z][t+1]<<8|g[z][t+2]<<16|g[z][t+3]<<24;e+=1;z+=1;b[e]=g[z][t]|g[z][t+1]<<8|g[z][t+2]<<16|g[z][t+3]<<24;e+=1;z+=1;b[e]=g[z][t]|g[z][t+1]<<8|g[z][t+2]<<16|g[z][t+3]<<24;e+=1;e>=l&&(B+=1,e=0,B>=f&&(Array.mp(r,"Snapshot.overlayGridBufferRow"),f+=1),b=r[B])}y+=q}else y+=q<<4;v+=u}};w.prototype.GN=function(g,p,k){var a=p.length,c=p[0].length,d,e=0,m;var n=0;var q=k.Vo<<3,u=k.Wo,y,v=0,r=this.G,B=0,b=r[B],l=b.length,f=r.length;var t=this.D.vy;Array.Ih(p,this.Ka);for(d=0;d<
a;d+=1){var x=p[d];for(k=0;k<c;k+=1)(m=x[k])&&(n+=t[m])}if(n)for(d=0;d<a;d+=1){x=p[d];for(k=y=0;k<c;k+=1)if(m=x[k])for(n=15;0<=n;--n){if(0!==(m&1<<n))for(t=y;t<y+q;t+=4){var z=v;b[e]=g[z][t]|g[z][t+1]<<8|g[z][t+2]<<16|g[z][t+3]<<24;e+=1;z+=1;b[e]=g[z][t]|g[z][t+1]<<8|g[z][t+2]<<16|g[z][t+3]<<24;e+=1;z+=1;b[e]=g[z][t]|g[z][t+1]<<8|g[z][t+2]<<16|g[z][t+3]<<24;e+=1;z+=1;b[e]=g[z][t]|g[z][t+1]<<8|g[z][t+2]<<16|g[z][t+3]<<24;e+=1;z+=1;b[e]=g[z][t]|g[z][t+1]<<8|g[z][t+2]<<16|g[z][t+3]<<24;e+=1;z+=1;b[e]=
g[z][t]|g[z][t+1]<<8|g[z][t+2]<<16|g[z][t+3]<<24;e+=1;z+=1;b[e]=g[z][t]|g[z][t+1]<<8|g[z][t+2]<<16|g[z][t+3]<<24;e+=1;z+=1;b[e]=g[z][t]|g[z][t+1]<<8|g[z][t+2]<<16|g[z][t+3]<<24;e+=1;z+=1;b[e]=g[z][t]|g[z][t+1]<<8|g[z][t+2]<<16|g[z][t+3]<<24;e+=1;z+=1;b[e]=g[z][t]|g[z][t+1]<<8|g[z][t+2]<<16|g[z][t+3]<<24;e+=1;z+=1;b[e]=g[z][t]|g[z][t+1]<<8|g[z][t+2]<<16|g[z][t+3]<<24;e+=1;z+=1;b[e]=g[z][t]|g[z][t+1]<<8|g[z][t+2]<<16|g[z][t+3]<<24;e+=1;z+=1;b[e]=g[z][t]|g[z][t+1]<<8|g[z][t+2]<<16|g[z][t+3]<<24;e+=1;
z+=1;b[e]=g[z][t]|g[z][t+1]<<8|g[z][t+2]<<16|g[z][t+3]<<24;e+=1;z+=1;b[e]=g[z][t]|g[z][t+1]<<8|g[z][t+2]<<16|g[z][t+3]<<24;e+=1;z+=1;b[e]=g[z][t]|g[z][t+1]<<8|g[z][t+2]<<16|g[z][t+3]<<24;e+=1;e>=l&&(B+=1,e=0,B>=f&&(Array.mp(r,"Snapshot.colourGridBufferRow"),f+=1),b=r[B])}y+=q}else y+=q<<4;v+=u}};h.prototype.bufferSize=function(){for(var g=0,p=0;p<this.ij.length;)g+=this.Uo[p].length*this.Uo[p][0].length*2,g+=this.Hn[p].length*this.Hn[p][0].length*2,g+=this.pv[p].length*this.pv[p][0].length*4,g+=this.xu[p].length*
this.xu[p][0].length*4,this.xs[p]&&(g+=this.ro[p].length*this.ro[p][0].length*2,g+=this.xs[p].length*this.xs[p][0].length*4),p+=1;return g};h.prototype.OO=function(){for(var g=0,p=0;p<this.ij.length;)this.ij[p]&&(g+=1),p+=1;return g};h.prototype.reset=function(){this.Xe=[];this.ij=[];this.G=0;this.index=-1};h.prototype.fO=function(g){var p=null;if(0<this.Xe.length)for(p=this.Xe[this.index];p&&p.counter>g;)p=null,0<this.index&&(this.U(this.Xe[this.index].index),this.Xe.pop(),--this.index,0<=this.index&&
(p=this.Xe[this.index]));return p};h.prototype.Zs=function(g,p,k,a,c,d,e,m,n,q,u,y,v,r,B,b,l,f,t){var x=null!==c;if(f)B=this.B;else if(51>this.Xe.length)B=this.Oy(B,b,!1,x),this.index+=1;else{this.index+=1;if(51<=this.index){this.index=50;this.U(this.Xe[0].index);for(f=0;50>f;f+=1)this.Xe[f]=this.Xe[f+1];this.Xe.pop();this.Oy(B,b,!1,x)}B=this.Xe[this.index]}B.ba=t;B.JN(g,p,l);B.GN(k,a,l);x&&B.KN(c,d,l);B.M.l=e.l;B.M.v=e.v;B.M.o=e.o;B.M.A=e.A;B.Na.l=m.l;B.Na.v=m.v;B.Na.o=m.o;B.Na.A=m.A;B.oa=n;B.Qb=
q;B.Ub=u;B.counter=y;B.$f=v;B.zj=r};h.prototype.U=function(g){this.ij[g]=!1};h.prototype.ka=function(g,p,k){for(var a=0,c=!1;a<this.G&&!c;)this.ij[a]?a+=1:c=!0;c?(g=a,this.ij[a]=!0):(this.Uo[a]=Array.ea(Uint16,p,g,0,this.u,"Snapshot.tileGrid"+a),this.Hn[a]=Array.ea(Uint16,p,g,0,this.u,"Snapshot.colourTileGrid"+a),this.pv[a]=Array.ea(Uint32,1,1024,0,this.u,"Snapshot.gridBuffer"+a),this.xu[a]=Array.ea(Uint32,1,8192,0,this.u,"Snapshot.colourGridBuffer"+a),k&&(this.ro[a]=Array.ea(Uint16,p,g,0,this.u,
"Snapshot.overlayTileGrid"+a),this.xs[a]=Array.ea(Uint32,1,8192,0,this.u,"Snapshot.overlayGridBuffer"+a)),this.ij[a]=!0,this.G+=1,g=a);return g};h.prototype.Oy=function(g,p,k,a){g=this.ka(g,p,a);k?this.B=k=new w(this,g,a):(k=new w(this,g,a),this.Xe[this.Xe.length]=k);return k};h.prototype.$=function(g,p,k,a,c){var d=g.ia,e=g.Ka,m=g.ys,n=g.ia.length,q=n>>1,u=g.ia[0].length>>1,y=0,v=g.index;this.Uo[v]=Array.ea(Uint16,k,p,0,this.u,"Snapshot.tileGrid"+v);this.Hn[v]=Array.ea(Uint16,k,p,0,this.u,"Snapshot.colourTileGrid"+
v);c&&(this.ro[v]=Array.ea(Uint16,k,p,0,this.u,"Snapshot.overlayTileGrid"+v));g.ia=this.Uo[v];g.Ka=this.Hn[v];c&&(g.ys=this.ro[v]);if(0<a){for(;y<n;)g.ia[y+q].set(d[y],u),g.Ka[y+q].set(e[y],u),c&&g.ys[y+q].set(m[y],u),y+=1;g.M.l+=a;g.M.v+=a;g.M.o+=a;g.M.A+=a;g.Na.l+=a;g.Na.v+=a;g.Na.o+=a;g.Na.A+=a}};h.prototype.HG=function(g,p,k,a){var c;this.B&&this.$(this.B,g,p,k,a);var d=0;for(c=this.Xe.length;d<c;)this.$(this.Xe[d],g,p,k,a),d+=1;for(d=0;d<this.ij.length;)this.ij[d]||(this.Uo[d]=Array.ea(Uint16,
p,g,0,this.u,"Snapshot.tileGrid"+d),this.Hn[d]=Array.ea(Uint16,p,g,0,this.u,"Snapshot.colourTileGrid"+d),a&&(this.ro[d]=Array.ea(Uint16,p,g,0,this.u,"Snapshot.overlayTileGrid"+d))),d+=1};window.SnapshotManager=h;window.Snapshot=w}(),function(){function w(h,g,p){this.u=h;this.g=g;this.D=p;this.Xg=this.hi=1;this.Go=2;this.Qb=h.P(Uint8,0,"HROT.births");this.ex=h.P(Uint8,0,"HROT.survivals");this.ku=h.P(Uint8,0,"HROT.altBirths");this.lu=h.P(Uint8,0,"HROT.altSurvivals");this.type=p.Od;this.io=Array.ea(Uint8,
1,1,0,h,"HROT.neighbourhood");this.La=h.P(Int16,0,"HROT.neighbourList");this.Kh=Array.ea(Int32,1,1,0,h,"HROT.counts");this.$=h.P(Uint32,0,"HROT.widths");this.wu=h.P(Uint8,0,"HROT.colUsed");this.$e=h.P(Int8,0,"HROT.weightedNeighbourhood");this.wh=null;this.wa=this.G=this.U=this.ka=0;this.qc=!1;this.xe="";this.si=-1;this.R=!1}w.prototype.resize=function(h,g){this.Kh=Array.ea(Int32,g,h,0,this.u,"HROT.counts");this.wu=this.u.P(Uint8,h,"HROT.colUsed")};w.prototype.$N=function(h,g,p,k,a,c,d){var e=2*g+
1,m=g*g,n=m+g,q,u,y=p.length>>1,v;this.type=h;this.Xg=g;this.hi=a&&h!=this.D.bm&&h!=this.D.kp?g+g:g;this.$=this.u.P(Uint32,e,"HROT.widths");this.xe=p;this.si=k;this.R=a;if(c)for(this.$e=this.u.P(Int8,c.length,"HROT.weightedNeighbourhood"),k=0;k<c.length;k+=1)this.$e[k]=c[k];else this.$e=null;if(d)for(this.wh=this.u.P(Uint8,d.length,"HROT.weightedStates"),k=0;k<d.length;k+=1)this.wh[k]=d[k];else this.wh=null;switch(h){case this.D.Od:for(k=0;k<e;k+=1)this.$[k]=g;break;case this.D.wf:for(k=0;k<g;k+=
1)this.$[k]=k,this.$[e-k-1]=k;this.$[k]=g;break;case this.D.$h:h=2*g;for(k=-1;k>=-g;--k)this.$[k+g]=h,--h;h=2*g;for(k=0;k<=g;k+=1)this.$[k+g]=h,--h;break;case this.D.sk:for(k=-g;k<=g;k+=1){for(h=0;(h+1)*(h+1)+k*k<=n;)h+=1;this.$[k+g]=h}break;case this.D.yk:for(k=-g;k<=g;k+=1){for(h=0;(h+1)*(h+1)+k*k<=m;)h+=1;this.$[k+g]=h}break;case this.D.bm:this.io=Array.ea(Uint8,e,e,0,this.u,"HROT.neighbourhood");m=new Uint16Array(e);d=u=a=k=n=c=0;for(v=this.io[n];n<e;)for(h="0123456789abcdef".indexOf(p[c]),c===
y&&(v[k]=1,k+=1,a+=1,u+=1),c+=1,q=3;0<=q;--q)0!==(h&1<<q)&&(v[k]=1,a+=1,u+=1),k+=1,k===e&&(m[d]=u,u=0,d+=1,k=0,n+=1,n<e&&(v=this.io[n]));p=new Uint32Array(a);for(n=a=0;n<e;n+=1)for(v=this.io[n],k=0;k<e;k+=1)0<v[k]&&(p[a]=n<<16|k,a+=1);for(k=e=0;k<m.length;k+=1)0<m[k]&&(e+=m[k]+2);this.La=this.u.P(Int16,e,"HROT.neighbourList");for(k=a=c=0;k<m.length;k+=1)if(0<m[k]){d=p[c];this.La[a]=g-(d>>16);this.La[a+1]=m[k];a+=2;for(n=0;n<m[k];n+=1)this.La[a+n]=g-(p[c]&65535),c+=1;a+=m[k]}}};w.prototype.B=function(h,
g,p){return 0>h||0>h+g||g-h>=this.U?0:0>g&&h+g<this.G?this.Kh[h+g][0]:g>=this.U&&g-h>=this.U-this.G?this.Kh[h+this.U-1-g][this.U-1]:h<this.G?p[g]:h-this.G+1+g<=this.wa?this.Kh[this.G-1][h-this.G+1+g]:g-(h-this.G+1)>=this.wa?this.Kh[this.G-1][g-(h-this.G+1)]:this.Kh[this.G-1][this.wa+(h+g+this.G+this.wa+1)%2]};w.prototype.ob=function(h,g,p,k){var a=this.g.ca,c=null,d=this.hi,e=this.Xg,m;for(m=0;m<e;m+=1){c=a[g+m];var n=a[k+m+1];n.set(c.slice(h,p+1),h)}for(m=0;m<e;m+=1)c=a[k-m],n=a[g-m-1],n.set(c.slice(h,
p+1),h);if(copyWithin)for(m=g;m<=k;m+=1)c=a[m],c.copyWithin(p+1,h,h+d+1),c.copyWithin(h-d-1,p-d,p+1);else for(m=g;m<=k;m+=1)for(n=0;n<d;n+=1)c[p+n+1]=c[h+n],c[h-n-1]=c[p-n];for(m=0;m<e;m+=1)c=a[g+m],n=a[k+m+1],n.set(c.slice(h,h+d+1),p+1),n.set(c.slice(p-d,p+1),h-d-1);for(m=0;m<e;m+=1)c=a[k-m],n=a[g-m-1],n.set(c.slice(h,h+d+1),p+1),n.set(c.slice(p-d,p+1),h-d-1)};w.prototype.Ya=function(h,g,p,k){var a=this.g.ca,c=this.hi,d=this.Xg,e;for(e=0;e<d;e+=1)a[k+e+1].fill(0,h,p+1);for(e=0;e<d;e+=1)a[g-e-1].fill(0,
h,p+1);for(e=g;e<=k;e+=1){var m=a[e];m.fill(0,p+1,p+c+2);m.fill(0,h-c-1,h)}for(e=0;e<d;e+=1)m=a[k+e+1],m.fill(0,p+1,p+c+2),m.fill(0,h-c-1,h);for(e=0;e<d;e+=1)m=a[g-e-1],m.fill(0,p+1,p+c+2),m.fill(0,h-c-1,h)};w.prototype.cb=function(h,g,p,k,a){var c,d,e=this.g.ca,m=this.g.Da,n=this.g.width,q=0,u=this.g.height,y=0,v=n,r=q,B=u,b=y,l=this.g.M,f=this.g.Na,t=this.hi,x=this.Xg,z=a?this.ku:this.Qb,A=a?this.lu:this.ex,C=this.Kh;var I=this.Go-1;var G=LifeConstants.Hb,F=LifeConstants.bl,E=this.g.rp;var D=this.g.i+
this.g.O-1;var H=this.g.O,N=0<this.g.O?1:0;var K=c=a=0;if(1===I)for(I=g-x;I<=k+x;I+=1){var P=e[I];var J=C[I];var S=m[I>>4];var X=d=!1;for(g=h-t;g<=p+t;g+=1){var U=P[g];var L=J[g];D=0;U<G?0<=L&&1===z[L]&&(c+=1,D=128):0<=L&&1===A[L]?D=128:K+=1;U=E[U+D];P[g]=U;U>F&&(d=!0,S[g>>8]|=1<<(~(g>>4)&15),g<n&&(n=g),g>q&&(q=g),U>=G&&(a+=1,g<v&&(v=g),g>r&&(r=g),X=!0))}d&&(I<u&&(u=I),I>y&&(y=I));X&&(I<B&&(B=I),I>b&&(b=I))}else for(I=g-x;I<=k+x;I+=1){P=e[I];J=C[I];S=m[I>>4];X=d=!1;for(g=h-t;g<=p+t;g+=1){U=P[g];L=
J[g];if(U<=H)0<=L&&1===z[L]?(U=D,c+=1):U>N&&--U;else if(U===D){if(0>L||0===A[L])--U,K+=1}else U>N&&--U;P[g]=U;0<U&&(d=!0,S[g>>8]|=1<<(~(g>>4)&15),g<n&&(n=g),g>q&&(q=g),U===D&&(a+=1,g<v&&(v=g),g>r&&(r=g),X=!0))}d&&(I<u&&(u=I),I>y&&(y=I));X&&(I<B&&(B=I),I>b&&(b=I))}this.g.oa=a;this.g.Qb=c;this.g.Ub=K;0<a?(l.l=n,l.v=q,l.o=u,l.A=y,f.l=v,f.v=r,f.o=B,f.A=b):this.g.ba=0};w.prototype.$b=function(h,g,p,k,a){var c,d=this.g.i+this.g.O,e=this.g.O,m=this.$e,n=this.g.ca,q=this.Kh,u=this.wh,y=u[0],v=m[0],r=m[1],
B=m[2],b=m[3],l=m[4],f=m[5],t=m[6],x=m[7];m=m[8];for(h-=a;h<=g+a;h+=1){var z=q[h];var A=p-a;var C=A-1;for(c=A+1;A<=k+a;){var I=0;var G=n[h-1];var F=G[C];F>e?I+=v*u[d-F]:0<y&&(I+=v*y);F=G[A];F>e?I+=r*u[d-F]:0<y&&(I+=r*y);F=G[c];F>e?I+=B*u[d-F]:0<y&&(I+=B*y);G=n[h];F=G[C];F>e?I+=b*u[d-F]:0<y&&(I+=b*y);F=G[A];F>e?I+=l*u[d-F]:0<y&&(I+=l*y);F=G[c];F>e?I+=f*u[d-F]:0<y&&(I+=f*y);G=n[h+1];F=G[C];F>e?I+=t*u[d-F]:0<y&&(I+=t*y);F=G[A];F>e?I+=x*u[d-F]:0<y&&(I+=x*y);F=G[c];F>e?I+=m*u[d-F]:0<y&&(I+=m*y);z[A]=I;
A+=1;C+=1;c+=1}}};w.prototype.Pb=function(h,g,p,k,a){var c,d=LifeConstants.Hb,e=this.$e,m=this.g.ca,n=this.Kh,q=e[0],u=e[1],y=e[2],v=e[3],r=e[4],B=e[5],b=e[6],l=e[7];e=e[8];for(h-=a;h<=g+a;h+=1){var f=n[h];var t=p-a;var x=t-1;for(c=t+1;t<=k+a;){var z=0;var A=m[h-1];A[x]>=d&&(z+=q);A[t]>=d&&(z+=u);A[c]>=d&&(z+=y);A=m[h];A[x]>=d&&(z+=v);A[t]>=d&&(z+=r);A[c]>=d&&(z+=B);A=m[h+1];A[x]>=d&&(z+=b);A[t]>=d&&(z+=l);A[c]>=d&&(z+=e);f[t]=z;t+=1;x+=1;c+=1}}};w.prototype.Db=function(h){var g,p=this.g.M.l,k=this.g.M.v,
a=this.g.M.o,c=this.g.M.A,d=this.hi,e=this.Xg;var m=h?this.ku:this.Qb;var n=h?this.lu:this.ex;var q=d+d,u=e+e;var y=d+1;var v=e+1;var r=this.Kh,B=this.type,b=this.Go-1,l=this.g.width,f=0,t=this.g.height,x=0,z=l,A=f,C=t,I=x,G=this.g.ca,F=this.g.Da,E=this.$;var D=this.g.Ca;var H=this.g.xa;var N=0,K=0,P=0,J=0,S=0,X=0,U=0,L=LifeConstants.Hb,ja=LifeConstants.bl,W=this.g.rp,ma=this.wu;var sa=this.La;-1!==this.g.ya&&(N=Math.round((this.g.width-D)/2),P=Math.round((this.g.height-H)/2),K=N+D-1,J=P+H-1,1===
m[0]&&(p=N+d,k=K-d,c=J-e,a=P+e),1===this.g.ya&&(p-N<d&&(k=K),K-k<d&&(p=N),J-c<e&&(a=P),a-P<e&&(c=J),this.ob(N,P,K,J)),0===this.g.ya&&1===b&&this.g.jz(G,0),p-N<d&&(p=N+d),K-k<d&&(k=K-d),J-c<e&&(c=J-e),a-P<e&&(a=P+e),B===this.D.Od?(p-=q,a-=u,k+=q,c+=u):B===this.D.wf&&6<d&&(p-=d,a-=e,k+=d,c+=e));if(B===this.D.Od){p-=q;a-=u;k+=q;c+=u;for(H=a;H<a+u;H+=1)r[H].fill(0,p,k+1);for(H=a+u;H<=c;H+=1)r[H].fill(0,p,p+q+1);var ca=r[a+u-1];for(H=a+u;H<=c;H+=1){var V=r[H];b=G[H];D=0;for(g=p+q;g+8<=k;)b[g]>=L&&(D+=
1),V[g]=ca[g]+D,g+=1,b[g]>=L&&(D+=1),V[g]=ca[g]+D,g+=1,b[g]>=L&&(D+=1),V[g]=ca[g]+D,g+=1,b[g]>=L&&(D+=1),V[g]=ca[g]+D,g+=1,b[g]>=L&&(D+=1),V[g]=ca[g]+D,g+=1,b[g]>=L&&(D+=1),V[g]=ca[g]+D,g+=1,b[g]>=L&&(D+=1),V[g]=ca[g]+D,g+=1,b[g]>=L&&(D+=1),V[g]=ca[g]+D,g+=1;for(;g<=k;)b[g]>=L&&(D+=1),V[g]=ca[g]+D,g+=1;ca=V}p+=d;a+=e;k-=d;c-=e;-1!==this.g.ya&&(p+=q,a+=u,k-=q,c-=u);E=G[a][p];D=r[a+e][p+d];var ea=0;E<L?1===m[D]&&(X+=1,ea=128):0===n[D]?U+=1:ea=128;E=W[E+ea];G[a][p]=E;E>ja&&(ma[p]|=1,x=t=a,F[a>>4][p>>
8]|=1<<(~(p>>4)&15),E>=L&&(S+=1,ma[p]|=2,I=C=a));u=q=!1;V=r[a+e];ca=r[a+e];b=G[a];sa=F[a>>4];for(g=p+1;g<=k;g+=1)E=b[g],D=V[g+d]-ca[g-y],ea=0,E<L?1===m[D]&&(X+=1,ea=128):0===n[D]?U+=1:ea=128,E=W[E+ea],b[g]=E,E>ja&&(ma[g]|=1,q=!0,sa[g>>8]|=1<<(~(g>>4)&15),E>=L&&(S+=1,ma[g]|=2,u=!0));q&&(x=t=a);u&&(I=C=a);g=b=!1;V=p+d;for(H=a+1;H<=c;H+=1)E=G[H][p],D=r[H+e][V]-r[H-v][V],ea=0,E<L?1===m[D]&&(X+=1,ea=128):0===n[D]?U+=1:ea=128,E=W[E+ea],G[H][p]=E,E>ja&&(H<t&&(t=H),H>x&&(x=H),b=!0,F[H>>4][p>>8]|=1<<(~(p>>
4)&15),E>=L&&(S+=1,H<C&&(C=H),H>I&&(I=H),g=!0));b&&(ma[p]|=1);g&&(ma[p]|=2);for(H=a+1;H<=c;H+=1){b=G[H];sa=F[H>>4];ca=r[H+e];var fa=r[H-v];V=p+1+d;var qa=p+1-y;u=q=!1;for(g=p+1;g<=k;g+=1)E=b[g],D=ca[V]+fa[qa]-ca[qa]-fa[V],ea=0,E<L?1===m[D]&&(ea=128,X+=1):0===n[D]?U+=1:ea=128,E=W[E+ea],b[g]=E,E>ja&&(q=!0,sa[g>>8]|=1<<(~(g>>4)&15),ma[g]|=1,E>=L&&(S+=1,u=!0,ma[g]|=2)),V+=1,qa+=1;q&&(H<t&&(t=H),H>x&&(x=H));u&&(H<C&&(C=H),H>I&&(I=H))}for(g=p;g<=k;g+=1)ma[g]&&(g<l&&(l=g),g>f&&(f=g),0!==(ma[g]&2)&&(g<z&&
(z=g),g>A&&(A=g)),ma[g]=0);this.g.oa=S;this.g.Qb=X;this.g.Ub=U;0<S?(this.g.M.l=l,this.g.M.v=f,this.g.M.o=t,this.g.M.A=x,this.g.Na.l=z,this.g.Na.v=A,this.g.Na.o=C,this.g.Na.A=I):this.g.ba=0}else if(B===this.D.wf&&6<d){p-=d;k+=d;a-=e;c+=e;-1===this.g.ya&&(p-=d,k+=d,a-=e,c+=e);this.ka=c-a+1;this.U=k-p+1;this.G=this.ka+(this.U-1)/2|0;this.wa=this.U/2|0;for(y=0;y<this.G;y+=1)for(V=r[y],b=G[y+a],H=y-1,D=H-1,g=r[H],sa=r[D],v=0;v<=this.U;v+=1)V[v]=this.B(H,v-1,g)+this.B(H,v+1,g)-this.B(D,v,sa),y<this.ka&&
b[v+p]>=L&&(V[v]+=1);for(y=e;y<=this.ka-e;y+=1){H=y-1;g=r[H];qa=y+e;var na=r[qa];V=qa-1;var T=r[V];ma=y-e-1;var Q=r[ma];ca=ma-1;var Y=r[ca];fa=y+a;b=G[fa];sa=F[fa>>4];u=q=!1;for(v=d;v<=this.U-d;v+=1){D=v+d;E=v-d;D=this.B(qa,v,na)-this.B(H,D+1,g)-this.B(H,E-1,g)+this.B(ca,v,Y)+this.B(V,v,T)-this.B(H,D,g)-this.B(H,E,g)+this.B(ma,v,Q);var ia=v+p;E=b[ia];ea=0;E<L?1===m[D]&&(ea=128,X+=1):0===n[D]?U+=1:ea=128;E=W[E+ea];b[ia]=E;E>ja&&(ia<l&&(l=ia),ia>f&&(f=ia),q=!0,sa[ia>>8]|=1<<(~(ia>>4)&15),E>=L&&(S+=
1,u=!0,ia<z&&(z=ia),ia>A&&(A=ia)))}q&&(fa<t&&(t=fa),fa>x&&(x=fa));u&&(fa<C&&(C=fa),fa>I&&(I=fa))}this.g.oa=S;this.g.Qb=X;this.g.Ub=U;0<S?(this.g.M.l=l,this.g.M.v=f,this.g.M.o=t,this.g.M.A=x,this.g.Na.l=z,this.g.Na.v=A,this.g.Na.o=C,this.g.Na.A=I):this.g.ba=0}else switch(B){case this.D.Gh:for(H=a-e;H<=c+e;H+=1)for(V=r[H],g=p-d;g<=k+d;){D=0;for(v=-e;0>v;v+=1)b=G[H+v],b[g]>=L&&(D+=1),b[g+v]>=L&&(D+=1);b=G[H];for(y=-d;y<=d;y+=1)b[g+y]>=L&&(D+=1);for(v=1;v<=d;v+=1)b=G[H+v],b[g]>=L&&(D+=1),b[g+v]>=L&&(D+=
1);V[g]=D;g+=1}break;case this.D.ai:for(H=a-e;H<=c+e;H+=1)for(V=r[H],g=p-d;g<=k+d;){D=0;for(v=-e;0>v;v+=1)b=G[H+v],b[g]>=L&&(D+=1);b=G[H];for(y=-d;0>=y;y+=1)b[g+y]>=L&&(D+=1);for(v=1;v<=d;v+=1)G[H+v][g+v]>=L&&(D+=1);V[g]=D;g+=1}break;case this.D.kp:if(null===this.wh)if(1!==d||1!==e||this.R)for(H=a-e;H<=c+e;H+=1)for(V=r[H],g=p-d;g<=k+d;){this.R&&0!==(g+H&1)?(n=-(d+d+1),m=this.$e.length+n,n+=n):n=m=0;D=0;for(v=-e;v<=e;v+=1){b=G[H+v];for(y=-d;y<=d;y+=1)b[g+y]>=L&&(D+=this.$e[m]),m+=1;m+=n}V[g]=D;g+=
1}else this.Pb(a,c,p,k,d);else for(f=this.wh[0],l=this.wh[1],H=a-e;H<=c+e;H+=1)for(V=r[H],g=p-d;g<=k+d;){this.R&&0!==(g+H&1)?(n=-(d+d+1),m=this.$e.length+n,n+=n):n=m=0;D=0;for(v=-e;v<=e;v+=1){b=G[H+v];for(y=-d;y<=d;y+=1)D=b[g+y]>=L?D+this.$e[m]*l:D+this.$e[m]*f,m+=1;m+=n}V[g]=D;g+=1}break;case this.D.bm:for(H=a-e;H<=c+e;H+=1)for(V=r[H],g=p-d;g<=k+d;){for(v=D=0;v<sa.length;){y=sa[v];this.R&&0===(g+H&1)&&(y=-y);v+=1;b=G[H+y];m=sa[v];for(n=v+=1;n<v+m;n+=1)b[g+sa[n]]>=L&&(D+=1);v+=m}V[g]=D;g+=1}break;
case this.D.vj:for(H=a-e;H<=c+e;H+=1){V=r[H];g=p-d;n=m=D=0;for(v=-e;v<=e;v+=1)if(b=G[H+v],1===v)for(y=-d;y<=d;y+=1)b[g+y]>=L&&(m+=1);else if(-1===v)for(y=-d;y<=d;y+=1)b[g+y]>=L&&(n+=1);else b[g-1]>=L&&(D+=1),b[g+1]>=L&&(D+=1);G[H][g]>=L&&(D+=1);V[g]=D+m+n;for(g+=1;g<=k+d;){D=0;for(v=-e;v<=e;v+=1)b=G[H+v],1===v?(b[g-d-1]>=L&&--m,b[g+d]>=L&&(m+=1)):-1===v?(b[g-d-1]>=L&&--n,b[g+d]>=L&&(n+=1)):(b[g-1]>=L&&(D+=1),b[g+1]>=L&&(D+=1));G[H][g]>=L&&(D+=1);V[g]=D+m+n;g+=1}}break;case this.D.jj:for(H=a-e;H<=
c+e;H+=1)for(V=r[H],g=p-d;g<=k+d;){D=0;m=1;for(v=-e;v<=e;v+=1){b=G[H+v];for(y=-d+m;y<=d-m;y+=2)b[g+y]>=L&&(D+=1);m=1-m}G[H][g]>=L&&(D+=1);V[g]=D;g+=1}break;case this.D.Ai:for(H=a-e;H<=c+e;H+=1){V=r[H];g=p-d;D=0;for(v=-e;0>v;v+=1)for(b=G[H+v],y=-d;y<=d+v;y+=1)b[g+y]>=L&&(D+=1);for(v=0;v<=e;v+=1)for(b=G[H+v],y=-d+v;y<=d;y+=1)b[g+y]>=L&&(D+=1);V[g]=D;for(g+=1;g<=k+d;){for(v=-e;0>v;v+=1)b=G[H+v],b[g-d-1]>=L&&--D,b[g+d+v]>=L&&(D+=1);for(v=0;v<=e;v+=1)b=G[H+v],b[g-d+v-1]>=L&&--D,b[g+d]>=L&&(D+=1);V[g]=
D;g+=1}}break;case this.D.Pj:for(H=a-e;H<=c+e;H+=1)for(V=r[H],g=p-d;g<=k+d;){D=0;for(v=1;v<=e;v+=1)b=G[H+v],b[g-v]>=L&&(D+=1),b[g+v]>=L&&(D+=1),b=G[H-v],b[g-v]>=L&&(D+=1),b[g+v]>=L&&(D+=1);b=G[H];b[g]>=L&&(D+=1);V[g]=D;g+=1}break;case this.D.Tj:for(H=a-e;H<=c+e;H+=1)for(V=r[H],g=p-d;g<=k+d;){D=0;for(v=1;v<=e;v+=1)b=G[H+v],b[g-v]>=L&&(D+=1),b[g+v]>=L&&(D+=1),b[g]>=L&&(D+=1),b=G[H-v],b[g-v]>=L&&(D+=1),b[g+v]>=L&&(D+=1),b[g]>=L&&(D+=1);b=G[H];for(y=-d;y<=d;y+=1)b[g+y]>=L&&(D+=1);V[g]=D;g+=1}break;case this.D.lj:for(H=
a-e;H<=c+e;H+=1){V=r[H];g=p-d;m=D=0;for(v=1;v<=e;v+=1)b=G[H+v],b[g]>=L&&(D+=1),b=G[H-v],b[g]>=L&&(D+=1);b=G[H];for(y=-d;y<=d;y+=1)b[g+y]>=L&&(m+=1);V[g]=D+m;for(g+=1;g<=k+d;){D=0;for(v=1;v<=e;v+=1)G[H+v][g]>=L&&(D+=1),G[H-v][g]>=L&&(D+=1);b=G[H];b[g-d-1]>=L&&--m;b[g+d]>=L&&(m+=1);V[g]=D+m;g+=1}}break;case this.D.$h:for(H=a-e;H<=c+e;H+=1)for(V=r[H],g=p-d;g<=k+d;){D=0;for(v=-e;v<=e;v+=1)for(m=0===(g+H&1)?E[v+e]:E[e-v],b=G[H+v],y=-m;y<=m;y+=1)b[g+y]>=L&&(D+=1);V[g]=D;g+=1}break;case this.D.vi:for(H=
a-e;H<=c+e;H+=1)for(V=r[H],g=p-d;g<=k+d;){D=0;for(v=-e;0>v;v+=1){m=n=v+e+1;b=G[H+v];for(y=-d;0>=y;y+=1)b[g+y]>=L&&(D+=m),m+=n;m-=n+n;for(y=1;y<=d;y+=1)b[g+y]>=L&&(D+=m),m-=n;m=n=v+e+1;b=G[H-v];for(y=-d;0>=y;y+=1)b[g+y]>=L&&(D+=m),m+=n;m-=n+n;for(y=1;y<=d;y+=1)b[g+y]>=L&&(D+=m),m-=n}m=n=d+1;b=G[H];for(y=-d;0>=y;y+=1)b[g+y]>=L&&(D+=m),m+=n;m-=n+n;for(y=1;y<=d;y+=1)b[g+y]>=L&&(D+=m),m-=n;V[g]=D;g+=1}break;default:for(H=a-e;H<=c+e;H+=1){V=r[H];g=p-d;D=0;for(v=-e;v<=e;v+=1)for(m=E[v+e],b=G[H+v],y=-m;y<=
m;y+=1)b[g+y]>=L&&(D+=1);V[g]=D;for(g+=1;g<=k+d;){for(v=-e;v<=e;v+=1)m=E[v+e],b=G[H+v],b[g-m-1]>=L&&--D,b[g+m]>=L&&(D+=1);V[g]=D;g+=1}}}-1!==this.g.ya&&(p<N+d&&(p=N+d),k>K-d&&(k=K-d),a<P+e&&(a=P+e),c>J-e&&(c=J-e));B===this.D.Od||B===this.D.wf&&6<d||this.cb(p,a,k,c,h);1===this.g.ya&&this.Ya(N,P,K,J)};w.prototype.Gb=function(h){var g,p,k=this.g.M.l,a=this.g.M.v,c=this.g.M.o,d=this.g.M.A,e=this.hi,m=this.Xg;var n=h?this.ku:this.Qb;var q=h?this.lu:this.ex;var u=e+e,y=m+m;var v=e+1;var r=m+1;var B=this.Kh,
b=this.type,l=this.g.width,f=0,t=this.g.height,x=0,z=l,A=f,C=t,I=x,G=this.g.ca,F=this.g.Da;var E=this.$;var D=this.g.Ca;var H=this.g.xa;var N=0,K=0,P=0,J=0,S=0,X=0,U=0;var L=this.La;var ja=this.g.i+this.g.O-1;var W=this.g.O;var ma=0<this.g.O?1:0;-1!==this.g.ya&&(N=Math.round((this.g.width-D)/2),P=Math.round((this.g.height-H)/2),K=N+D-1,J=P+H-1,1===n[0]&&(k=N+e,a=K-e,d=J-m,c=P+m),1===this.g.ya&&(k-N<e&&(a=K),K-a<e&&(k=N),J-d<m&&(c=P),c-P<m&&(d=J),this.ob(N,P,K,J)),k-N<e&&(k=N+e),K-a<e&&(a=K-e),J-d<
m&&(d=J-m),c-P<m&&(c=P+m),b===this.D.Od?(k-=u,c-=y,a+=u,d+=y):b===this.D.wf&&6<e&&(k-=e,c-=m,a+=e,d+=m));if(b===this.D.Od){k-=u;c-=y;a+=u;d+=y;for(p=c;p<c+y;p+=1)B[p].fill(0,k,a+1);for(p=c+y;p<=d;p+=1)B[p].fill(0,k,k+u);for(p=c+y;p<=d;p+=1){var sa=B[p-1];var ca=B[p];D=G[p];H=0;for(g=k+u;g<=a;g+=1)D[g]===ja&&(H+=1),ca[g]=sa[g]+H}k+=e;c+=m;a-=e;d-=m;-1!==this.g.ya&&(k+=u,c+=y,a-=u,d-=y);L=G[c][k];H=B[c+m][k+e];L<=W?1===n[H]?(L=ja,X+=1):L>ma&&--L:L===ja?0===q[H]&&(--L,U+=1):L>ma&&--L;G[c][k]=L;0<L&&
(f=l=k,x=t=c,F[c>>4][k>>8]|=1<<(~(k>>4)&15),L===ja&&(S+=1,A=z=k,I=C=c));y=u=!1;ca=B[c+m];sa=B[c+m];D=G[c];E=F[c>>4];for(g=k+1;g<=a;g+=1)L=D[g],H=ca[g+e]-sa[g-v],L<=W?1===n[H]?(L=ja,X+=1):L>ma&&--L:L===ja?0===q[H]&&(--L,U+=1):L>ma&&--L,D[g]=L,0<L&&(g<l&&(l=g),g>f&&(f=g),u=!0,E[g>>8]|=1<<(~(g>>4)&15),L===ja&&(S+=1,g<z&&(z=g),g>A&&(A=g),y=!0));u&&(x=t=c);y&&(I=C=c);E=D=!1;ca=k+e;for(p=c+1;p<=d;p+=1)L=G[p][k],H=B[p+m][ca]-B[p-r][ca],L<=W?1===n[H]?(L=ja,X+=1):L>ma&&--L:L===ja?0===q[H]&&(--L,U+=1):L>ma&&
--L,G[p][k]=L,0<L&&(p<t&&(t=p),p>x&&(x=p),D=!0,F[p>>4][k>>8]|=1<<(~(k>>4)&15),L===ja&&(S+=1,p<C&&(C=p),p>I&&(I=p),E=!0));D&&(k<l&&(l=k),k>f&&(f=k));E&&(k<z&&(z=k),k>A&&(A=k));for(p=c+1;p<=d;p+=1){D=G[p];E=F[p>>4];sa=B[p+m];var V=B[p-r];y=u=!1;ca=k+1+e;var ea=k+1-v;for(g=k+1;g<=a;g+=1)L=D[g],H=sa[ca]+V[ea]-sa[ea]-V[ca],L<=W?1===n[H]?(L=ja,X+=1):L>ma&&--L:L===ja?0===q[H]&&(--L,U+=1):L>ma&&--L,D[g]=L,0<L&&(E[g>>8]|=1<<(~(g>>4)&15),g<l&&(l=g),g>f&&(f=g),u=!0,L===ja&&(S+=1,y=!0,g<z&&(z=g),g>A&&(A=g))),
ca+=1,ea+=1;u&&(p<t&&(t=p),p>x&&(x=p));y&&(p<C&&(C=p),p>I&&(I=p))}this.g.oa=S;this.g.Qb=X;this.g.Ub=U;0<S?(this.g.M.l=l,this.g.M.v=f,this.g.M.o=t,this.g.M.A=x,this.g.Na.l=z,this.g.Na.v=A,this.g.Na.o=C,this.g.Na.A=I):this.g.ba=0}else if(b===this.D.wf&&6<e){k-=e;a+=e;c-=m;d+=m;-1===this.g.ya&&(k-=e,a+=e,c-=m,d+=m);this.ka=d-c+1;this.U=a-k+1;this.G=this.ka+(this.U-1)/2|0;this.wa=this.U/2|0;for(v=0;v<this.G;v+=1)for(ca=B[v],D=G[v+c],p=v-1,H=p-1,g=B[p],L=B[H],r=0;r<=this.U;r+=1)ca[r]=this.B(p,r-1,g)+this.B(p,
r+1,g)-this.B(H,r,L),v<this.ka&&D[r+k]===ja&&(ca[r]+=1);for(v=m;v<=this.ka-m;v+=1){p=v-1;g=B[p];var fa=v+m;var qa=B[fa];ca=fa-1;var na=B[ca];sa=v-m-1;var T=B[sa];V=sa-1;var Q=B[V];ea=v+c;D=G[ea];E=F[ea>>4];y=u=!1;for(r=e;r<=this.U-e;r+=1){H=r+e;L=r-e;H=this.B(fa,r,qa)-this.B(p,H+1,g)-this.B(p,L-1,g)+this.B(V,r,Q)+this.B(ca,r,na)-this.B(p,H,g)-this.B(p,L,g)+this.B(sa,r,T);var Y=r+k;L=D[Y];L<=W?1===n[H]?(L=ja,X+=1):L>ma&&--L:L===ja?0===q[H]&&(--L,U+=1):L>ma&&--L;D[Y]=L;0<L&&(E[Y>>8]|=1<<(~(Y>>4)&15),
Y<l&&(l=Y),Y>f&&(f=Y),u=!0,L===ja&&(S+=1,y=!0,Y<z&&(z=Y),Y>A&&(A=Y)))}u&&(ea<t&&(t=ea),ea>x&&(x=ea));y&&(ea<C&&(C=ea),ea>I&&(I=ea))}this.g.oa=S;this.g.Qb=X;this.g.Ub=U;0<S?(this.g.M.l=l,this.g.M.v=f,this.g.M.o=t,this.g.M.A=x,this.g.Na.l=z,this.g.Na.v=A,this.g.Na.o=C,this.g.Na.A=I):this.g.ba=0}else switch(b){case this.D.Gh:for(p=c-m;p<=d+m;p+=1)for(ca=B[p],g=k-e;g<=a+e;){H=0;for(r=-m;0>r;r+=1)D=G[p+r],D[g]===ja&&(H+=1),D[g+r]===ja&&(H+=1);D=G[p];for(v=-e;v<=e;v+=1)D[g+v]===ja&&(H+=1);for(r=1;r<=m;r+=
1)D=G[p+r],D[g]===ja&&(H+=1),D[g+r]===ja&&(H+=1);ca[g]=H;g+=1}break;case this.D.ai:for(p=c-m;p<=d+m;p+=1)for(ca=B[p],g=k-e;g<=a+e;){H=0;for(r=-m;0>r;r+=1)D=G[p+r],D[g]===ja&&(H+=1);D=G[p];for(v=-e;0>=v;v+=1)D[g+v]===ja&&(H+=1);for(r=1;r<=m;r+=1)G[p+r][g+r]===ja&&(H+=1);ca[g]=H;g+=1}break;case this.D.kp:if(null===this.wh)for(p=c-m;p<=d+m;p+=1)for(ca=B[p],g=k-e;g<=a+e;){this.R&&0!==(g+p&1)?(q=-(e+e+1),n=this.$e.length+q,q+=q):q=n=0;H=0;for(r=-m;r<=m;r+=1){D=G[p+r];for(v=-e;v<=e;v+=1)D[g+v]===ja&&(H+=
this.$e[n]),n+=1;n+=q}ca[g]=H;g+=1}else if(1!==e||1!==m||this.R)for(l=this.wh[0],p=c-m;p<=d+m;p+=1)for(ca=B[p],g=k-e;g<=a+e;){this.R&&0!==(g+p&1)?(q=-(e+e+1),n=this.$e.length+q,q+=q):q=n=0;H=0;for(r=-m;r<=m;r+=1){D=G[p+r];for(v=-e;v<=e;v+=1)L=D[g+v],L>W?H+=this.$e[n]*this.wh[ja+1-L]:0<l&&(H+=l*this.$e[n]),n+=1;n+=q}ca[g]=H;g+=1}else this.$b(c,d,k,a,e);break;case this.D.bm:for(p=c-m;p<=d+m;p+=1)for(ca=B[p],g=k-e;g<=a+e;){for(r=H=0;r<L.length;){v=L[r];this.R&&0===(g+p&1)&&(v=-v);r+=1;D=G[p+v];n=L[r];
for(q=r+=1;q<r+n;q+=1)D[g+L[q]]===ja&&(H+=1);r+=n}ca[g]=H;g+=1}break;case this.D.vj:for(p=c-m;p<=d+m;p+=1){ca=B[p];g=k-e;W=H=0;for(r=-m;r<=m;r+=1)if(D=G[p+r],1===r||-1===r)for(v=-e;v<=e;v+=1)D[g+v]===ja&&(W+=1);else D[g-1]===ja&&(H+=1),D[g+1]===ja&&(H+=1);G[p][g]===ja&&(H+=1);ca[g]=H+W;for(g+=1;g<=a+e;){H=0;for(r=-m;r<=m;r+=1)D=G[p+r],1===r||-1===r?(D[g-e-1]===ja&&--W,D[g+e]===ja&&(W+=1)):(D[g-1]===ja&&(H+=1),D[g+1]===ja&&(H+=1));G[p][g]===ja&&(H+=1);ca[g]=H+W;g+=1}}break;case this.D.jj:for(p=c-m;p<=
d+m;p+=1)for(ca=B[p],g=k-e;g<=a+e;){H=0;W=1;for(r=-m;r<=m;r+=1){D=G[p+r];for(v=-e+W;v<=e-W;v+=2)D[g+v]===ja&&(H+=1);W=1-W}G[p][g]===ja&&(H+=1);ca[g]=H;g+=1}break;case this.D.Ai:for(p=c-m;p<=d+m;p+=1){ca=B[p];g=k-e;H=0;for(r=-m;0>r;r+=1)for(D=G[p+r],v=-e;v<=e+r;v+=1)D[g+v]===ja&&(H+=1);for(r=0;r<=m;r+=1)for(D=G[p+r],v=-e+r;v<=e;v+=1)D[g+v]===ja&&(H+=1);ca[g]=H;for(g+=1;g<=a+e;){for(r=-m;0>r;r+=1)D=G[p+r],D[g-e-1]===ja&&--H,D[g+e+r]===ja&&(H+=1);for(r=0;r<=m;r+=1)D=G[p+r],D[g-e+r-1]===ja&&--H,D[g+e]===
ja&&(H+=1);ca[g]=H;g+=1}}break;case this.D.Pj:for(p=c-m;p<=d+m;p+=1)for(ca=B[p],g=k-e;g<=a+e;){H=0;for(r=1;r<=m;r+=1)D=G[p+r],D[g-r]===ja&&(H+=1),D[g+r]===ja&&(H+=1),D=G[p-r],D[g-r]===ja&&(H+=1),D[g+r]===ja&&(H+=1);D=G[p];D[g]===ja&&(H+=1);ca[g]=H;g+=1}break;case this.D.Tj:for(p=c-m;p<=d+m;p+=1)for(ca=B[p],g=k-e;g<=a+e;){H=0;for(r=1;r<=m;r+=1)D=G[p+r],D[g-r]===ja&&(H+=1),D[g+r]===ja&&(H+=1),D[g]===ja&&(H+=1),D=G[p-r],D[g-r]===ja&&(H+=1),D[g+r]===ja&&(H+=1),D[g]===ja&&(H+=1);D=G[p];for(v=-e;v<=e;v+=
1)D[g+v]===ja&&(H+=1);ca[g]=H;g+=1}break;case this.D.lj:for(p=c-m;p<=d+m;p+=1){ca=B[p];g=k-e;W=H=0;for(r=1;r<=m;r+=1)D=G[p+r],D[g]===ja&&(H+=1),D=G[p-r],D[g]===ja&&(H+=1);D=G[p];for(v=-e;v<=e;v+=1)D[g+v]===ja&&(W+=1);ca[g]=H+W;for(g+=1;g<=a+e;){H=0;for(r=1;r<=m;r+=1)G[p+r][g]===ja&&(H+=1),G[p-r][g]===ja&&(H+=1);D=G[p];D[g-e-1]===ja&&--W;D[g+e]===ja&&(W+=1);ca[g]=H+W;g+=1}}break;case this.D.$h:for(p=c-m;p<=d+m;p+=1)for(ca=B[p],g=k-e;g<=a+e;){H=0;for(r=-m;r<=m;r+=1)for(W=0===(g+p&1)?E[r+m]:E[m-r],D=
G[p+r],v=-W;v<=W;v+=1)D[g+v]===ja&&(H+=1);ca[g]=H;g+=1}break;case this.D.vi:for(p=c-m;p<=d+m;p+=1)for(ca=B[p],g=k-e;g<=a+e;){H=0;for(r=-m;0>r;r+=1){W=n=r+m+1;D=G[p+r];for(v=-e;0>=v;v+=1)D[g+v]===ja&&(H+=W),W+=n;W-=n+n;for(v=1;v<=e;v+=1)D[g+v]===ja&&(H+=W),W-=n;W=n=r+m+1;D=G[p-r];for(v=-e;0>=v;v+=1)D[g+v]===ja&&(H+=W),W+=n;W-=n+n;for(v=1;v<=e;v+=1)D[g+v]===ja&&(H+=W),W-=n}W=n=e+1;D=G[p];for(v=-e;0>=v;v+=1)D[g+v]===ja&&(H+=W),W+=n;W-=n+n;for(v=1;v<=e;v+=1)D[g+v]===ja&&(H+=W),W-=n;ca[g]=H;g+=1}break;
default:for(p=c-m;p<=d+m;p+=1){ca=B[p];g=k-e;H=0;for(r=-m;r<=m;r+=1)for(W=E[r+m],D=G[p+r],v=-W;v<=W;v+=1)D[g+v]===ja&&(H+=1);ca[g]=H;for(g+=1;g<=a+e;){for(r=-m;r<=m;r+=1)W=E[r+m],D=G[p+r],D[g-W-1]===ja&&--H,D[g+W]===ja&&(H+=1);ca[g]=H;g+=1}}}-1!==this.g.ya&&(k<N+e&&(k=N+e),a>K-e&&(a=K-e),c<P+m&&(c=P+m),d>J-m&&(d=J-m));b===this.D.Od||b===this.D.wf&&6<e||this.cb(k,c,a,d,h);1===this.g.ya&&this.Ya(N,P,K,J)};w.prototype.gM=function(h){var g=!1;this.qc&&1===(h&1)&&(g=!0);2===this.Go?this.Db(g):this.Gb(g)};
window.HROT=w}(),function(){function w(a,c,d,e,m,n,q,u){this.name=a;this.kl=!1;this.nm=10;this.Qh=this.Ph=0;this.hb=e;this.yb=d;this.mb=c;this.wg=m;this.ac=n;this.Jc=q;this.Si=u;this.hm=!1;-1===this.ac.aa.red&&(this.hm=!0);128<=(this.hb.red+this.hb.green+this.hb.blue)/3?(this.Ph=ViewConstants.OE,this.Qh=ViewConstants.NE):(this.Ph=ViewConstants.rv,this.Qh=ViewConstants.qv)}function h(a,c,d){this.red=a;this.green=c;this.blue=d}function g(a,c){this.Z=a;this.aa=c}function p(a,c,d,e,m,n){this.D=n;this.u=
new Allocator;this.ak=[];this.Ch=[];this.Bf=this.u.P(Uint8,256,"Life.URLEStateMap");this.Yf=0;this.Gb=1;this.Qd=!1;this.ek=!0;this.nh=!1;this.Cv=this.Rq=this.Tq=this.Sq=this.ik=this.cj=this.bj=this.rd=null;this.Wb=new Random;this.Wb.qf(Date.now().toString());this.ga=!1;this.pg=8;this.Fe=2;this.Xh=0;this.Al=-1;this.ke=this.Kk=this.Jk=null;this.Pg=[];this.Sd=null;this.yl=this.Oj=this.Og=0;this.Lf=this.$b=this.Vi=this.Ui=this.Zi=this.wi=this.Hf=this.Rd=null;this.Ya=this.lg=0;this.kg=this.uk=null;this.fg=
!0;this.Xi=new BoundingBox(0,0,0,0);this.zh=this.Jf=-1;this.Jt=this.By=0;this.Cy=!1;this.Pl=!0;this.kj=this.Sg=this.qc=this.cd=this.bd=!1;this.ts=0;this.vm=[];this.wm=[];this.ym=[];this.Cm=[];this.jm=[];this.lm=[];this.pm=[];this.sm=[];this.Ao=[];this.Fo=[];this.Ro=[];this.ip=[];this.Jm=[];this.po=[];this.xo=[];this.yo=[];this.ci=[];this.vg=this.Ac="";this.Pb=255;this.ec=null;this.Wf=this.u.P(Uint8,65536,"Life.bitCounts16");this.hy();this.Vt=this.u.P(Uint8,65536,"Life.firstBit16");this.DI();this.gi=
this.bi=this.Qc=null;this.Zb=this.bc=this.qd=this.Bh=0;this.xc=1;this.ba=0;this.xa=this.Ca=this.ya=-1;this.En=this.Dn=0;this.xy=this.tu=!1;this.Ws=ViewConstants.rE;this.df=[];this.af=[];this.df[0]=this.u.P(Int32,k.Lw,"Life.boundaryX0");this.af[0]=this.u.P(Int32,k.Lw,"Life.boundaryY0");this.bk=0;this.Sl=4294967295;this.Tl=4286611584;this.ZB="rgb(0,255,0)";this.HA="rgb(255,0,0)";this.hu="rgb(255,255,0)";this.N=this.la=this.Pa=!1;this.Vd=-1;this.R=!1;this.Ud=this.D.sn;this.S=!1;this.Gg=this.D.Jp;this.ye=
this.mw=this.sc=!1;this.i=-1;this.T=this.Ea=!1;this.dj=this.O=0;this.Cg=this.sa=!1;this.Tg=new SnapshotManager(this.u,this.Wf);this.jo=k.dt;this.td=this.ic=this.Il=!1;this.Ad=this.Kf=this.Na=this.M=null;this.title="LifeViewer";this.width=e;this.height=m;this.Vo=2;this.Wo=16;this.pa=this.width>>4;this.ua=this.height>>4;this.Gt=null;this.I=c;this.H=d;this.Ub=this.Qb=this.oa=0;this.Hb=k.Hb;this.ff=k.ff;this.Ne=k.Ne;this.bl=k.bl;this.Sv=this.hb=0;this.W=1;this.Df=-1;this.Gn=1;this.Xl=30;this.angle=this.counter=
this.zj=this.$f=0;this.zoom=6;this.va=this.Aa=0;this.ze=.1;this.rb=0;this.na=1;this.we=this.ve=0;this.B=.1;this.ie=littleEndian;this.lb=[];this.Qg=this.ef=this.se=this.dg=this.Ke=this.Yd=this.oc=this.mi=this.Gf=this.hf=this.uh=this.lf=this.cf=this.Xc=null;this.Ue=-1;this.pd=this.fe=this.Yk=null;this.context=a;this.Kb=this.Fb=0;this.ia=Array.ea(Uint16,this.ua,(this.pa-1>>4)+1,0,this.u,"Life.tileGrid");this.qa=Array.ea(Uint16,this.ua,(this.pa-1>>4)+1,0,this.u,"Life.nextTileGrid");this.uf=Array.ea(Uint16,
this.ua,(this.pa-1>>4)+1,0,this.u,"Life.staticTileGrid");this.jd=Array.ea(Uint8,this.height,(this.width-1>>3)+1,0,this.u,"Life.grid");this.Lg=Array.ea(Uint8,this.height,(this.width-1>>3)+1,0,this.u,"Life.nextGrid");this.fb=Array.Lc(Uint16,this.jd,"Life.grid16");this.Vb=Array.Lc(Uint16,this.Lg,"Life.nextGrid16");this.Vk=this.u.P(Uint32,this.I,"Life.blankPixelRow");this.jf=this.u.P(Uint8,(this.width-1>>3)+1,"Life.blankRow");this.ar=this.u.P(Uint16,(this.width-1>>4)+1,"Life.blankRow16");this.sd=this.u.P(Uint16,
this.pa>>4,"Life.blankTileRow");this.rc=this.u.P(Uint8,this.width,"Life.blankColourRow");this.ca=Array.ea(Uint8,this.height,this.width,this.hb,this.u,"Life.colourGrid");this.Ma=null;this.Fc=Array.ea(Uint8,this.height,this.width,this.hb,this.u,"Life.smallColourGrid");this.tk=Array.Lc(Uint16,this.ca,"Life.colourGrid16");this.de=Array.Lc(Uint32,this.ca,"Life.colourGrid32");this.tl=this.qo=this.me=this.cc=null;this.Ka=Array.ea(Uint16,this.ua,(this.pa-1>>4)+1,0,this.u,"Life.colourTileGrid");this.Da=Array.ea(Uint16,
this.ua,(this.pa-1>>4)+1,0,this.u,"Life.colourTileHistoryGrid");this.Qf=this.Uj=this.Ni=this.Ye=null;this.Sa=this.u.P(Uint8,256,"Life.redChannel");this.Ra=this.u.P(Uint8,256,"Life.greenChannel");this.Qa=this.u.P(Uint8,256,"Life.blueChannel");this.De=this.u.P(Uint32,256,"Life.pixelColours");this.Je=null;this.Vu=0;this.ue=this.Kc=this.If=this.te=this.Yi=this.yh=this.ig=this.li=null;this.rp=this.u.P(Uint16,2*(this.ff+1)<<8,"Life.colourLookup");this.Kt=this.u.P(Uint8,2048,"Life.colourReset");this.Md=
ViewConstants.rv;this.hg=-1;this.cg=ViewConstants.qv;this.gg=-1;this.pf=10;this.ll=!0;this.YJ=10;this.ka=this.u.P(Uint16,(this.width-1>>4)+1,"Life.columnOccupied16");this.cb=this.u.P(Uint16,(this.height-1>>4)+1,"Life.rowOccupied16");this.ma=8192;this.iL=[0,0,48];this.hL=[255,255,255];this.gL=[255,255,255];this.jL=[0,255,0];this.kL=[255,0,0];this.sj=[0,0,48];this.rj=[255,255,255];this.qj=[255,255,255];this.tj=[0,255,0];this.uj=[255,0,0];this.Ja=new HROT(this.u,this,n);this.coords=this.u.P(Float32,
1,"Life.coords");this.La=this.u.P(Uint32,1,"Life.cellColours");this.ob=0}var k={oI:"ghijklmnopqrstuvwxyzWXYZ".split(""),Xt:"ABCDEF".split(""),ay:["_","]",")","("],DD:"ghijklmnopqrstuvGHIJKLMNOPQRSTUV".split(""),ED:"CDEFWXYZ".split(""),Bf:"'",uI:".",vI:":",wI:";",xI:"#",Zx:"$",$x:"^",pI:"%",Yf:"=",sI:"+",qI:"-",tI:"*",rI:"/",lp:"0",rA:0,tA:1,sA:2,aM:3,km:5E4,$k:0,Me:1,ce:2,WL:0,ew:0,dw:1,nA:2,oA:3,EF:4,pA:5,qA:6,YL:6,XL:7,ZL:8,PL:20,$L:"RotCCW RotCW FlipX FlipY FlipXY RotCWFlipX RotCWFlipY FlipXorY RotCWorCCW".split(" "),
pl:1048576,TD:"Buffer Full",zu:[[0,0,0],[0,255,0],[0,0,160],[255,216,255],[255,0,0],[255,255,0],[96,96,96],[255,105,180],[128,0,128],[0,191,255],[0,64,128],[64,224,208],[0,128,64],[255,255,255],[255,99,71],[250,128,114],[219,112,147],[255,165,0],[245,222,179],[0,255,255],[192,192,192],[192,255,128],[255,182,193],[0,255,127],[1,1,1],[255,0,127]],fw:"dead;on;off;marked on trail;marked off trail;marked on alt;boundary;marked on no-trail;marked off no-trail;on trail 1;off trail 1;on trail;off trail 2;on no-trail 1;off disappearing;on no-trail 2;off vanishing;on no-trail 3;off cycling 1;on no-trail 4;off cycling 2;on no-trail 5;off cycling 3;on no-trail 6;hidden;on no-trail 7".split(";"),
sp:[[0,0,0],[255,0,0],[0,255,0],[128,128,0],[16,16,255],[128,0,128],[0,128,128],[96,96,96],[255,255,0],[255,128,0],[128,255,0],[170,170,0],[144,144,144],[170,85,85],[85,128,43],[128,128,64],[0,0,0],[255,0,0],[0,255,0],[128,128,0]],VK:[[1,1,1],[1,0,0],[0,1,0]],WK:[[0,1,0],[1,1,0],[1,0,1]],XK:[[1,1,0],[1,0,1],[1,0,0]],YK:[[0,1,1],[1,1,0],[0,0,1]],RK:[[1,1,1],[0,0,1],[0,1,0]],SK:[[0,1,0],[0,1,1],[1,0,1]],TK:[[0,1,1],[1,0,1],[0,0,1]],UK:[[1,1,0],[0,1,1],[1,0,0]],cL:[[0,1,0],[1,0,0],[1,1,1]],dL:[[1,0,
1],[1,1,0],[0,1,0]],eL:[[1,0,0],[1,0,1],[1,1,0]],fL:[[0,0,1],[1,1,0],[0,1,1]],ZK:[[0,1,0],[0,0,1],[1,1,1]],$K:[[1,0,1],[0,1,1],[0,1,0]],aL:[[0,0,1],[1,0,1],[0,1,1]],bL:[[1,0,0],[0,1,1],[1,1,0]],Bc:4096,ri:16,Lw:4096,nL:512,uv:262144,om:65536,Yn:65536,QE:8192,PE:131072,dt:64,sF:524288,Ij:12,Hb:64,ff:127,Ne:63,bl:1,Lb:1,kb:2,xb:4,Ib:8,Xb:16,wb:32,Sb:64,Tb:128};w.prototype.set=function(a){this.kl=a.kl;this.nm=a.nm;this.Ph=a.Ph;this.Qh=a.Qh;this.hb=a.hb;this.yb=a.yb;this.mb=a.mb;this.wg=a.wg;this.ac=
a.iP;this.Jc=a.Jc;this.Si=a.Si;this.ac=a.ac;this.hm=a.hm};w.prototype.Ko=function(a,c,d){this.kl=!0;this.nm=a;this.Ph=c.red<<16|c.green<<8|c.blue;this.Qh=d.red<<16|d.green<<8|d.blue};w.prototype.PN=function(a,c){this.Ph=-1!==a?a:128<=(this.hb.red+this.hb.green+this.hb.blue)/3?ViewConstants.OE:ViewConstants.rv;this.Qh=-1!==c?c:128<=(this.hb.red+this.hb.green+this.hb.blue)/3?ViewConstants.NE:ViewConstants.qv};w.prototype.mL=function(a){var c=!0;a||this.yb.Z.Pz(this.yb.aa)&&this.mb.Z.Pz(this.mb.aa)&&
this.mb.Z.Pz(this.hb)&&(c=!1);return c};h.prototype.set=function(a){this.red=a.red;this.green=a.green;this.blue=a.blue};h.prototype.Pz=function(a){var c=!1;this.red===a.red&&this.green===a.green&&this.blue===a.blue&&(c=!0);return c};g.prototype.set=function(a){this.Z.set(a.Z);this.aa.set(a.aa)};p.prototype.Mz=function(){var a=ViewConstants.$a,c=this.I+a+a<<1;a=this.H+a+a<<1;this.nh?(null===this.rd&&(window.OffscreenCanvas?this.rd=new OffscreenCanvas(c,a):this.rd=document.createElement("canvas")),
this.rd.width=c,this.rd.height=a,this.bj=this.rd.getContext("2d",{alpha:!1}),this.cj=this.bj.getImageData(0,0,this.rd.width,this.rd.height),this.ik=new Uint32Array(this.cj.data.buffer)):this.ik=this.cj=this.bj=null};p.prototype.UE=function(){var a,c,d,e=this.I,m=20*this.H,n=-m,q=this.Wb;this.Sq=new Uint16Array(k.km);this.Tq=new Float32Array(k.km);this.Rq=new Float32Array(k.km);this.Cv=new Uint32Array(k.km);var u=this.Sq;var y=this.Tq;var v=this.Rq;for(a=0;a<k.km;a+=1){u[a]=q.random()*e|0;for(c=d=
0;10>c;c+=1)d+=q.random()*m;y[a]=-d/10;y[a]>n&&(n=y[a]);v[a]=q.random()/5+.8;if(a<k.km-4&&.2>q.random()){c=u[a];d=y[a];var r=v[a];a+=1;u[a]=c;y[a]=d-2;v[a]=r;a+=1;u[a]=c;y[a]=d+2;v[a]=r;1<c&&(a+=1,u[a]=c-2,y[a]=d,v[a]=r);c<e-2&&(a+=1,u[a]=c+2,y[a]=d,v[a]=r)}}for(a=0;a<k.km;a+=1)y[a]-=n};p.prototype.qe=function(){var a,c=0,d=this.I,e=this.H,m=this.De[0],n=this.fe,q=this.Wb,u=this.Sq,y=this.Tq,v=this.Rq,r=this.Cv;for(a=0;a<k.km;a+=1){var B=u[a];var b=y[a];var l=v[a];var f=B;var t=b;if(0<=b&&b<e-1)if((b|
0)===(b+l|0))t=b+l,n[(t|0)*d+f]=-1;else{if(n[(b+l|0)*d+B]===m)t=b+l;else{var x=q.random();if(.05>x){var z=1;.025>x&&(z=-1);0<=B+z&&B+z<d&&n[(b+l|0)*d+B+z]===m&&n[(b|0)*d+B+z]===m&&(f=B+z,t=b+l)}}n[(t|0)*d+f]=-1}else 0>b&&(t=b+l);t>=e-1&&(r[c]=a,c+=1);u[a]=f;y[a]=t}if(5<c)for(a=0;a<c;a+=1).25>q.random()&&(x=r[a],t=-(q.random()*e),f=q.random()*d|0,u[x]=f,y[x]=t,l=v[x],a<c-4&&.2>q.random()&&(a+=1,x=r[a],u[x]=f,y[x]=t-2,v[x]=l,a+=1,x=r[a],u[x]=f,y[x]=t+2,v[x]=l,1<f&&(a+=1,x=r[a],u[x]=f-2,y[x]=t,v[x]=
l),f<d-2&&(a+=1,x=r[a],u[x]=f+2,y[x]=t,v[x]=l)))};p.prototype.KM=function(a){this.Rd=a};p.prototype.Kv=function(a){this.Ya=0;a?null===this.Hf&&(this.Hf=this.u.P(Int32,k.pl,"Life.hashList"),this.wi=this.u.P(Uint32,k.pl,"Life.genList"),this.Zi=this.u.P(Uint32,k.pl,"Life.popList"),this.Ui=this.u.P(Uint32,k.pl,"Life.bornList"),this.Vi=this.u.P(Uint32,k.pl,"Life.diedList"),this.$b=this.u.P(Uint32,2*k.pl,"Life.boxList"),this.Lf=this.u.P(Int32,k.pl,"Life.nextList"),this.uk=Array.ea(Uint8,this.height,this.width,
k.$k,this.u,"Life.countList"),2<this.i&&(this.kg=Array.ea(Uint8,this.height,this.width,0,this.u,"Life.initList")),this.fg=!0,this.Xi.l=this.width,this.Xi.o=this.height,this.Xi.v=0,this.Xi.A=0,this.lg=this.zh=this.Jf=-1,this.Lf.fill(-1)):(this.kg=this.uk=this.Lf=this.$b=this.Vi=this.Ui=this.Zi=this.wi=this.Hf=null,this.lg=this.zh=this.Jf=-1)};p.prototype.CI=function(a,c,d){c="Spaceship ("+(c+","+d)+")c";1<a&&(c+="/"+a);return c};p.prototype.im=function(a,c){var d=31415962,e=a.l,m=a.o,n=a.v-e+1;a=a.A-
m+1;var q=n-1,u=a-1,y=a,v=2>=this.i&&!this.ga,r,B,b=0,l=0,f=0,t=0,x=this.ca,z=k.Hb;(this.N||this.ga||this.T)&&0!==(this.counter&1)&&(x=this.Ma);if(c===k.ew||c===k.dw||c===k.pA||c===k.qA){var A=n;n=y;y=A}for(B=0;B<y;B+=1)for(r=0;r<n;r+=1){switch(c){case k.ew:b=f;l=u-t;break;case k.EF:b=q-r;l=u-B;break;case k.dw:b=q-f;l=t;break;case k.nA:b=q-r;l=B;break;case k.oA:b=r;l=u-B;break;case k.pA:b=f;l=t;break;case k.qA:b=q-f,l=u-t}if(v)x[l+m][b+e]>=z&&(d=1000003*d^B,d=1000003*d^r);else if(A=x[l+m][b+e],A>
this.O){A-=this.O;if(this.N)switch(c){case k.ew:A=A<<1&15|(A&8)>>3;break;case k.EF:A=A&12|A&3;break;case k.dw:A=A>>1&15|(A&1)<<3;break;case k.nA:A=A&5|(A&2)<<2|(A&8)>>2;break;case k.oA:A=A&10|(A&1)<<2|(A&4)>>2;break;case k.pA:A=(A&8)>>3|(A&4)>>1|(A&2)<<1|(A&1)<<3;break;case k.qA:A=(A&4)<<1|(A&8)>>1|(A&1)<<1|(A&2)>>1}d=1000003*d^B;d=1000003*d^r;d=1000003*d^A}t+=1;t===a&&(t=0,f+=1)}return d|0};p.prototype.It=function(a,c){for(var d,e=k.WL,m=-1,n,q;e<=k.YL&&-1===m;){n=this.im(a,e);if(c)for(d=this.lg;-1!==
d&&-1===m;)n===this.Hf[d]&&this.wi[d]!==this.counter?(m=d,c&&(this.zh=e,e===k.nA&&(q=this.im(a,k.oA),q===n&&(this.zh=k.XL)),e===k.ew&&(q=this.im(a,k.dw),q===n&&(this.zh=k.ZL)))):d=this.Lf[d];else n===this.Jt&&(m=1);e+=1}return m};p.prototype.Yt=function(a,c){var d=31415962,e=a.l,m=a.o,n=a.v,q=a.A,u,y=2>=this.i&&!this.ga,v=this.ca,r=this.uk,B=this.kg,b=k.Hb,l=this.Xi;(this.N||this.ga||this.T)&&0!==(this.counter&1)&&(v=this.Ma);e<l.l&&(l.l=e);m<l.o&&(l.o=m);n>l.v&&(l.v=n);q>l.A&&(l.A=q);for(u=m;u<=
q;u+=1){var f=u-m;var t=v[u];if(y)for(a=e;a<=n;a+=1)t[a]>=b&&(d=1000003*d^f,d=1000003*d^a-e);else if(this.T)for(a=e;a<=n;a+=1)1===(t[a]&1)&&(d=1000003*d^f,d=1000003*d^a-e);else for(a=e;a<=n;a+=1){var x=t[a];x>this.O&&(x-=this.O,d=1000003*d^f,d=1000003*d^a-e,d=1000003*d^x)}}if(!c){for(u=l.o;u<=l.A;u+=1)if(t=v[u],c=r[u],y)if(this.fg)for(a=l.l;a<=l.v;a+=1)t[a]>=b&&(c[a]=k.Me);else for(a=l.l;a<=l.v;a+=1)t[a]>=b?c[a]===k.$k&&(c[a]=k.ce):c[a]===k.Me&&(c[a]=k.ce);else if(this.N)if(this.fg)for(a=l.l;a<=l.v;a+=
1)x=t[a],x>this.O?x-=this.O:x=0,e=0,0!==(x&1)&&(e=k.Me),m=0,0!==(x&2)&&(m=k.Me),n=0,0!==(x&4)&&(n=k.Me),q=0,0!==(x&8)&&(q=k.Me),c[a]=e|m<<2|n<<4|q<<6;else for(a=l.l;a<=l.v;a+=1)q=c[a],x=t[a],x>this.O?x-=this.O:x=0,e=q&3,0!==(x&1)?e===k.$k&&(e=k.ce):e===k.Me&&(e=k.ce),m=q>>2&3,0!==(x&2)?m===k.$k&&(m=k.ce):m===k.Me&&(m=k.ce),n=q>>4&3,0!==(x&4)?n===k.$k&&(n=k.ce):n===k.Me&&(n=k.ce),q=q>>6&3,0!==(x&8)?q===k.$k&&(q=k.ce):q===k.Me&&(q=k.ce),c[a]=e|m<<2|n<<4|q<<6;else if(this.T)for(x=B[u],a=l.l;a<=l.v;a+=
1)this.fg?(x[a]=t[a]&1,t[a]&1&&(c[a]=k.Me)):t[a]&1?c[a]===k.$k?c[a]=k.ce:(t[a]&1)!==x[a]&&(c[a]=k.ce):c[a]===k.Me&&(c[a]=k.ce);else for(x=B[u],a=l.l;a<=l.v;a+=1)this.fg?(x[a]=t[a],t[a]>this.O&&(c[a]=k.Me)):t[a]>this.O?c[a]===k.$k?c[a]=k.ce:t[a]!==x[a]&&(c[a]=k.ce):c[a]===k.Me&&(c[a]=k.ce);this.fg=!1}return d|0};p.prototype.Wi=function(a,c){for(var d;0!==c;)d=c,c=a%c,a=d;return a};p.prototype.Wx=function(a,c){var d="Oblique";if(a>c){var e=a;a=c;c=e}e=this.Wi(a,c);switch(a/e*10+c/e){case 12:d+=" Knightwise";
break;case 13:d+=" Camelwise";break;case 14:d+=" Giraffewise";break;case 15:d+=" Ibiswise";break;case 16:d+=" Flamingowise";break;case 23:d+=" Zebrawise";break;case 34:d+=" Antelopewise"}return d};p.prototype.gy=function(a,c,d,e,m,n,q,u,y){var v="",r=String(this.counter-e),B="",b="",l=this.oa,f=l,t=16384,x=0,z=16384,A=0,C=this.Ya,I=c,G=16384,F=0,E=0,D,H=D="",N=this.uk,K=0,P=0,J="",S=this.Jf,X="",U="";var L=this.sa?this.Na:this.M;0<e&&(r+=" and "+this.counter);m=Math.abs(m);n=Math.abs(n);if(0<m||0<
n){var ja="Spaceship";0===m||0===n?b="0":(m>n?(b=m,B=n):(b=n,B=m),v=this.Wi(b,B),b=String(b/v),1!==B/v&&(b+="/"+String(B/v)));m===n||0===m||0===n?(B=m===n&&0!==m?"Diagonal":"Orthogonal",0===m&&(m=n),1<m?1===e?v=m+"c":(v=this.Wi(m,e),L=m/v,a=e/v,1!==v?(v=1===L?"c":L+"c",1<a&&(v+="/"+a),v+=" | "+m+"c/"+e):v=m+"c/"+e):(v="c",1<e&&(v+="/"+e))):(v=this.Wi(m,this.Wi(n,e)),L=m/v,B=n/v,a=e/v,1!==v?(v=L>B?"("+L+","+B+")c":"("+B+","+L+")c",1<a&&(v+="/"+a),v=m>n?v+(" | ("+m+","+n+")c"):v+(" | ("+n+","+m+")c")):
v=m>n?"("+m+","+n+")c":"("+n+","+m+")c",1<e&&(v+="/"+e),B=this.Wx(m,n))}else if(1===e||this.qc&&2===e)ja="Still Life";else if(ja="Oscillator",!y)for(this.fg=!0,this.uk.Wa.fill(0),m=0;m<e;m+=1)this.Be(!1,a.Pd,a.Dc,a.Rb),this.ee(),a.Uh(),this.Yt(L,y),this.Ui[c+m]=this.Qb,this.Vi[c+m]=this.Ub;for(n=0;c<C;)m=this.Zi[c],n+=m,m<l&&(l=m),m>f&&(f=m),c+=1;l=l===f?String(l):String(l)+" | "+String(f)+" | "+String((n/(C-I)).toFixed(1));c=I;if("Spaceship"===ja)for(;c<C;)m=this.$b[c<<1],f=m>>16,n=m&65535,f>q&&
(q=f),n>u&&(u=n),c+=1;else{for(;c<C;)m=this.$b[c<<1],f=m>>16,n=m&65535,m=this.$b[(c<<1)+1],q=m>>16,u=m&65535,q<t&&(t=q),u<z&&(z=u),q+f-1>x&&(x=q+f-1),u+n-1>A&&(A=u+n-1),c+=1;q=x-t+1;u=A-z+1}q=String(q+" x "+u+" = "+q*u);if(0<e){D=0;for(c=I;c<C;)E=this.Ui[c]+this.Vi[c],E<G&&(G=E),E>F&&(F=E),D+=E,c+=1;G===F?(E=G,D=String(E.toFixed(1))):(E=D/(C-I),D=String(G.toFixed(1)+" | "+F.toFixed(1)+" | "+E.toFixed(1)))}if("Oscillator"===ja&&!y){for(C=z;C<=A;C+=1)if(c=N[C],this.N)for(m=t;m<=x;m+=1)z=c[m],(z&3)===
k.ce?K+=1:(z&3)===k.Me&&(P+=1),z>>=2,(z&3)===k.ce?K+=1:(z&3)===k.Me&&(P+=1),z>>=2,(z&3)===k.ce?K+=1:(z&3)===k.Me&&(P+=1),z>>=2,(z&3)===k.ce?K+=1:(z&3)===k.Me&&(P+=1);else for(m=t;m<=x;m+=1)c[m]===k.ce?K+=1:c[m]===k.Me&&(P+=1);H=String((K/(K+P)).toFixed(2))}"Oscillator"!==ja||y||(U=String((E/(K+P)).toFixed(2)+" | "+(E/K).toFixed(2)));y||(J=String(K+" | "+P+" | "+(K+P)));y||this.S||this.R||(X=0>=S?String(e):0===e%S?String(S)+" ("+k.$L[this.zh]+")":String(e));return[d,ja,B,v,q,r,l,b,e,D,H,X,J,U]};p.prototype.oM=
function(a,c){var d=this.sa?this.Na:this.M,e=d.l,m=d.o,n=d.v-e+1,q=d.A-m+1,u=n<<16|q,y=e<<16|m,v=!1,r,B=0,b=0;var l=[];if((this.la||this.qc)&&0!==(this.counter&1))return l;if(this.Ya<k.pl)if(0===this.oa)l=["Empty Pattern","Empty"];else{var f=this.Yt(d,a);var t=!1;var x=this.lg;for(r=-1;-1!==x&&!t;){var z=this.Hf[x];f>z?(r=x,x=this.Lf[x]):f<this.Hf[x]?t=!0:f===this.Hf[x]&&(z=x<<1,this.oa===this.Zi[x]&&u===this.$b[z]?(l=this.counter-this.wi[x],this.$b[z+1]===y?1===l||(this.qc||this.la)&&2===l?(z="Still Life",
l=1):z="Oscillator period "+l:(B=e-(this.$b[z+1]>>16),b=m-(this.$b[z+1]&65535),z=this.CI(l,B,b)),v=t=!0,l=this.gy(c,x,z,l,B,b,n,q,a)):(r=x,x=this.Lf[x]))}v||(this.Hf[this.Ya]=f,this.wi[this.Ya]=this.counter,this.Zi[this.Ya]=this.oa,this.Ui[this.Ya]=this.Qb,this.Vi[this.Ya]=this.Ub,this.$b[this.Ya<<1]=u,this.$b[(this.Ya<<1)+1]=e<<16|m,this.Lf[this.Ya]=-1,-1===this.lg?this.lg=0:-1===r?this.lg=this.Ya:this.Lf[r]=this.Ya,-1!==this.Jf||a||this.S||this.R?-1===this.Jf||this.Cy||this.counter!==this.By||(a=
this.It(d,!1),-1!==a?this.Cy=!0:this.Jf=-1):(a=this.It(d,!0),-1!==a&&(this.Jf=this.counter-this.wi[a],this.By=this.counter+this.Jf,this.Jt=f)),this.Ya+=1,this.Ya===k.pl&&(this.Ya=0,l=[k.TD]))}return l};p.prototype.Tx=function(a,c,d,e,m,n,q){var u=this.I/2,y=this.H/2,v=0,r=this.width/2-.25,B=this.height/2,b=this.coords,l=this.La,f=this.height/2-this.va-this.Zb+.5,t=this.width/2-this.Aa-this.bc+.5,x=this.zoom*this.xc;if(a>d){var z=d;d=a;a=z}c>e&&(z=e,e=c,c=z);a+=m;d+=m;c+=n;e+=n;l.length!==k.Bc&&(this.coords=
this.u.P(Float32,12*k.Bc,"Life.coords"),this.La=this.u.P(Uint32,k.Bc,"Life.cellColours"),b=this.coords,l=this.La);this.context.lineWidth=1.6;this.context.lineCap="butt";this.context.lineJoin="bevel";for(n=m=0;c<=e;c+=1)if(z=(c-B+f)*x+y,z>=-x&&z<this.H+x){var A=c-B;var C=t-r;for(z=a;z<=d;z+=1){if(0<q[v]){var I=(z+C)*x+u;if(I>=-x&&I<this.I+2*x){l[m]=(0<<k.ri)+n;I=z-r;var G=z+c&1;b[n]=I-1;b[n+1]=A+G;b[n+2]=I+1;b[n+3]=A+G;b[n+4]=I;b[n+5]=A+1-G;n+=6;m+=1;m===k.Bc&&(this.ob=m,this.re(!0,!1,!0),n=m=0)}}v+=
1}}else v+=d-a+1;this.ob=m;0<m&&this.re(!0,!1,!0)};p.prototype.St=function(a,c,d,e,m,n){var q=this.I/2,u=this.H/2,y=this.width/2-.25,v=this.height/2,r=this.coords,B=this.La,b=this.height/2-this.va-this.Zb+.5,l=this.width/2-this.Aa-this.bc+.5,f=this.zoom*this.xc;if(a>d){var t=d;d=a;a=t}c>e&&(t=e,e=c,c=t);a+=m;d+=m;c+=n;e+=n;B.length!==k.Bc&&(this.coords=this.u.P(Float32,12*k.Bc,"Life.coords"),this.La=this.u.P(Uint32,k.Bc,"Life.cellColours"),r=this.coords,B=this.La);this.context.lineWidth=1.6;this.context.lineCap=
"butt";this.context.lineJoin="bevel";for(n=m=0;c<=e;c+=1)if(t=(c-v+b)*f+u,t>=-f&&t<this.H+f){var x=c-v;var z=l-y;for(t=a;t<=d;t+=1){var A=(t+z)*f+q;if(A>=-f&&A<this.I+2*f){B[m]=(0<<k.ri)+n;A=t-y;var C=t+c&1;r[n]=A-1;r[n+1]=x+C;r[n+2]=A+1;r[n+3]=x+C;r[n+4]=A;r[n+5]=x+1-C;n+=6;m+=1;m===k.Bc&&(this.ob=m,this.re(!0,!1,!0),n=m=0)}}}this.ob=m;0<m&&this.re(!0,!1,!0)};p.prototype.oK=function(){var a=this.ca,c=this.cc,d=null,e=this.Ad,m=this.I/2,n=this.H/2,q,u,y=this.width/2-.25,v=this.height/2,r=ViewConstants.Za[3]+
128,B=ViewConstants.Za[4]+128,b=ViewConstants.Za[5]+128,l=ViewConstants.Za[6]+128,f=this.Hb,t=this.coords,x=this.La,z=e.l,A=e.v;var C=e.o;var I=e.A,G=this.height/2-this.va-this.Zb+.5,F=this.width/2-this.Aa-this.bc+.5,E=this.zoom*this.xc,D=!this.ic&&!this.td;(this.T||this.ga)&&0!==(this.counter&1)&&(a=this.Ma);x.length!==k.Bc&&(this.coords=this.u.P(Float32,12*k.Bc,"Life.coords"),this.La=this.u.P(Uint32,k.Bc,"Life.cellColours"),t=this.coords,x=this.La);-1!==this.ya&&(0!==this.Ca?(z=Math.round((this.width-
this.Ca)/2)-1,A=z+this.Ca-1+2):(z=0,A=this.width-1),0!==this.xa?(C=Math.round((this.height-this.xa)/2)-1,I=C+this.xa-1+2):(C=0,I=this.height-1));this.context.lineWidth=1.6;this.context.lineCap="butt";this.context.lineJoin="bevel";for(u=e=0;C<=I;C+=1){var H=(C-v+G)*E+n;if(H>=-E&&H<this.H+E){H=a[C];c&&(d=c[C]);var N=C-v;var K=F-y;for(q=z;q<=A;q+=1){var P=(q+K)*E+m;if(P>=-E&&P<this.I+2*E){P=H[q];if(d){var J=d[q];if(J===B||J===l)P=P>f?r:J;else if(J===r||J===b)P=P<f?B:J}0<P&&(x[e]=(P<<k.ri)+u,P=q-y,J=
q+C&1,t[u]=P-1,t[u+1]=N+J,t[u+2]=P+1,t[u+3]=N+J,t[u+4]=P,t[u+5]=N+1-J,u+=6,e+=1);e===k.Bc&&(this.ob=e,this.re(!0,D,!1),this.td&&!this.ic&&(this.context.strokeStyle="rgb("+this.Sa[0]+","+this.Qa[0]+","+this.Ra[0]+")",this.re(!1,!1,!1)),u=e=0)}}}}this.ob=e;0<e&&(this.re(!0,D,!1),this.td&&!this.ic&&(this.context.strokeStyle="rgb("+this.Sa[0]+","+this.Qa[0]+","+this.Ra[0]+")",this.re(!1,!1,!1)),u=0);if(this.ic){this.context.strokeStyle="rgb("+(this.Md>>16)+","+(this.Md>>8&255)+","+(this.Md&255)+")";this.context.lineWidth=
1;I=n/E-G+v|0;e=0;for(C=-n/E-G+v|0;C<=I;C+=1)if(H=(C-v+G)*E+n,H>=-E&&H<this.H+E)for(N=C-v,K=F-y,z=-m/E-K-E|0,A=m/E-K+E|0,q=z;q<=A;q+=1)P=(q+K)*E+m,P>=-E&&P<this.I+E&&(P=q-y,J=q+C&1,t[u]=P-1,t[u+1]=N+J,t[u+2]=P+1,t[u+3]=N+J,t[u+4]=P,t[u+5]=N+1-J,u+=6,e+=1),e===k.Bc&&(this.ob=e,this.re(!1,!1,!1),u=e=0);this.ob=e;0<e&&this.re(!1,!1,!1)}};p.prototype.re=function(a,c,d){var e,m=this.context,n=this.width/2-this.Aa-this.bc,q=this.height/2-this.va-this.Zb,u=this.zoom*this.xc,y=this.zoom*this.xc*ViewConstants.ne,
v=this.I/2,r=this.H/2,B=0,b=0,l=-1,f=this.coords,t=this.ob,x=this.La,z=(1<<k.ri)-1;if(a&&!d&&x.sort){b=(k.Bc<<k.ri)+256;for(e=t;e<k.Bc;e+=1)x[e]=b;x.sort()}m.beginPath();a||(l=b=B=0);for(e=0;e<t;e+=1){a&&(b=x[e],B=b&z,b>>=k.ri);var A=f[B];var C=f[B+1];B+=2;var I=(C+q)*y+r;var G=(A+n)*u+v;var F=(f[B+1]-C)*y;var E=(f[B]-A)*u;B+=2;b!==l&&(l=b,0<e&&(a?(c&&m.stroke(),m.fill()):m.stroke(),m.beginPath()),a&&!d&&(m.fillStyle=this.ci[b],c&&(m.strokeStyle=this.ci[b])));m.moveTo(G|0,I|0);m.lineTo(E+G|0,F+I|
0);m.lineTo(E+G|0,I|0);F=(f[B+1]-C)*y;E=(f[B]-A)*u;m.lineTo(E+G|0,F+I|0);B+=2}a?(c&&m.stroke(),m.fill()):m.stroke()};p.prototype.Sx=function(a,c,d,e,m,n,q){var u=0,y=this.width/2-.25,v=this.height/2,r=Math.PI/3,B=.5/Math.cos(r/2)*1.16,b=ViewConstants.ne/4/Math.cos(r/2)*1.16,l=[],f=[],t=this.coords,x=this.La,z=this.I/2,A=this.H/2,C=this.width/2-this.Aa-this.bc,I=this.height/2-this.va-this.Zb,G=this.na;C=C+I/2+-(this.height>>2)+.5;I+=.5;if(a>d){var F=d;d=a;a=F}c>e&&(F=e,e=c,c=F);a+=m;d+=m;c+=n;e+=n;
x.length!==k.Bc&&(this.coords=this.u.P(Float32,12*k.Bc,"Life.coords"),this.La=this.u.P(Uint32,k.Bc,"Life.cellColours"),t=this.coords,x=this.La);n=r/2;for(m=0;5>=m;m+=1)l[m]=Math.cos(n)*b,f[m]=Math.sin(n)*B,l[m]+=f[m]/2,n+=r;r=l[0];B=f[0];b=l[1];F=f[1];var E=l[2];var D=f[2];var H=l[3];var N=f[3];var K=l[4];var P=f[4];l=l[5];f=f[5];this.context.lineWidth=1;this.context.lineCap="round";this.context.lineJoin="round";for(n=m=0;c<=e;c+=1){var J=c-v;var S=(J+I)*G+A;if(S>=-G&&S<this.H+G)for(S=a;S<=d;S+=1){if(0<
q[u]){var X=S-y;var U=(X+C-(J+I)/2)*G+z;U>=-G&&U<this.I+G&&(x[m]=(0<<k.ri)+n,t[n]=r+X,t[n+1]=B+J,t[n+2]=b+X,t[n+3]=F+J,t[n+4]=E+X,t[n+5]=D+J,t[n+6]=H+X,t[n+7]=N+J,t[n+8]=K+X,t[n+9]=P+J,t[n+10]=l+X,t[n+11]=f+J,n+=12,m+=1,m===k.Bc&&(this.ob=m,this.$d(!0,!1,!1,!0),n=m=0))}u+=1}else u+=d-a+1}this.ob=m;0<m&&this.$d(!0,!1,!1,!0)};p.prototype.Rt=function(a,c,d,e,m,n){var q=this.width/2-.25,u=this.height/2,y=Math.PI/3,v=.5/Math.cos(y/2)*1.16,r=ViewConstants.ne/4/Math.cos(y/2)*1.16,B=[],b=[],l=this.coords,
f=this.La,t=this.I/2,x=this.H/2,z=this.width/2-this.Aa-this.bc,A=this.height/2-this.va-this.Zb,C=this.na;z=z+A/2+-(this.height>>2)+.5;A+=.5;if(a>d){var I=d;d=a;a=I}c>e&&(I=e,e=c,c=I);a+=m;d+=m;c+=n;e+=n;f.length!==k.Bc&&(this.coords=this.u.P(Float32,12*k.Bc,"Life.coords"),this.La=this.u.P(Uint32,k.Bc,"Life.cellColours"),l=this.coords,f=this.La);n=y/2;for(m=0;5>=m;m+=1)B[m]=Math.cos(n)*r,b[m]=Math.sin(n)*v,B[m]+=b[m]/2,n+=y;y=B[0];v=b[0];r=B[1];I=b[1];var G=B[2];var F=b[2];var E=B[3];var D=b[3];var H=
B[4];var N=b[4];B=B[5];b=b[5];this.context.lineWidth=1;this.context.lineCap="round";this.context.lineJoin="round";for(n=m=0;c<=e;c+=1){var K=c-u;var P=(K+A)*C+x;if(P>=-C&&P<this.H+C)for(P=a;P<=d;P+=1){var J=P-q;var S=(J+z-(K+A)/2)*C+t;S>=-C&&S<this.I+C&&(f[m]=(0<<k.ri)+n,l[n]=y+J,l[n+1]=v+K,l[n+2]=r+J,l[n+3]=I+K,l[n+4]=G+J,l[n+5]=F+K,l[n+6]=E+J,l[n+7]=D+K,l[n+8]=H+J,l[n+9]=N+K,l[n+10]=B+J,l[n+11]=b+K,n+=12,m+=1,m===k.Bc&&(this.ob=m,this.$d(!0,!1,!1,!0),n=m=0))}}this.ob=m;0<m&&this.$d(!0,!1,!1,!0)};
p.prototype.kK=function(){var a=this.ca,c=this.cc,d=null,e=this.Ad,m=this.I/2,n=this.H/2,q,u=this.width/2-.25,y=this.height/2,v=Math.PI/3,r=.5/Math.cos(v/2)*1.16,B=ViewConstants.ne/4/Math.cos(v/2)*1.16,b=[],l=[],f=ViewConstants.Za[3]+128,t=ViewConstants.Za[4]+128,x=ViewConstants.Za[5]+128,z=ViewConstants.Za[6]+128,A=this.Hb,C=this.coords,I=this.La,G=e.l,F=e.v;var E=e.o;var D=e.A,H=this.height/2-this.va-this.Zb+.5,N=this.width/2-this.Aa-this.bc+.5-(this.height>>2)+H/2,K=this.zoom*this.xc,P=!this.ic&&
!this.td;(this.T||this.ga)&&0!==(this.counter&1)&&(a=this.Ma);I.length!==k.Bc&&(this.coords=this.u.P(Float32,12*k.Bc,"Life.coords"),this.La=this.u.P(Uint32,k.Bc,"Life.cellColours"),C=this.coords,I=this.La);-1!==this.ya&&(0!==this.Ca?(G=Math.round((this.width-this.Ca)/2)-1,F=G+this.Ca-1+2):(G=0,F=this.width-1),0!==this.xa?(E=Math.round((this.height-this.xa)/2)-1,D=E+this.xa-1+2):(E=0,D=this.height-1));var J=v/2;for(e=0;5>=e;e+=1)b[e]=Math.cos(J)*B,l[e]=Math.sin(J)*r,b[e]+=l[e]/2,J+=v;v=b[0];r=l[0];
B=b[1];var S=l[1];var X=b[2];var U=l[2];var L=b[3];var ja=l[3];var W=b[4];var ma=l[4];b=b[5];l=l[5];this.context.lineWidth=1;this.context.lineCap="round";this.context.lineJoin="round";for(J=e=0;E<=D;E+=1){var sa=(E+H-y)*K+n;if(sa>=-K&&sa<this.H+K){sa=a[E];c&&(d=c[E]);var ca=E-y;var V=N-u-(ca+H)/2;for(q=G;q<=F;q+=1){var ea=(q+V)*K+m;if(ea>=-K&&ea<this.I+K){ea=sa[q];if(d){var fa=d[q];if(fa===t||fa===z)ea=ea>A?f:fa;else if(fa===f||fa===x)ea=ea<A?t:fa}0<ea&&(I[e]=(ea<<k.ri)+J,ea=q-u,C[J]=v+ea,C[J+1]=
r+ca,C[J+2]=B+ea,C[J+3]=S+ca,C[J+4]=X+ea,C[J+5]=U+ca,C[J+6]=L+ea,C[J+7]=ja+ca,C[J+8]=W+ea,C[J+9]=ma+ca,C[J+10]=b+ea,C[J+11]=l+ca,J+=12,e+=1);e===k.Bc&&(this.ob=e,this.$d(!0,P,!1,!1),this.td&&!this.ic&&(this.context.strokeStyle="rgb("+this.Sa[0]+","+this.Qa[0]+","+this.Ra[0]+")",this.$d(!1,!1,!1,!1)),J=e=0)}}}}this.ob=e;0<e&&(this.$d(!0,P,!1,!1),this.td&&!this.ic&&(this.context.strokeStyle="rgb("+this.Sa[0]+","+this.Qa[0]+","+this.Ra[0]+")",this.$d(!1,!1,!1,!1)),J=0);if(this.ic){this.context.strokeStyle=
"rgb("+(this.Md>>16)+","+(this.Md>>8&255)+","+(this.Md&255)+")";this.context.lineWidth=1;e=0;D=n/K-H+y|0;for(E=-n/K-H+y|0;E<=D;E+=1)if(sa=(E+H-y)*K+n,sa>=-K&&sa<this.H+K)for(ca=E-y,V=N-u-(ca+H)/2,G=-m/K-V-K|0,F=m/K-V+K|0,q=G;q<=F;q+=1)ea=(q+V)*K+m,ea>=-K&&ea<this.I+K&&(ea=q-u,C[J]=v+ea,C[J+1]=r+ca,C[J+2]=B+ea,C[J+3]=S+ca,C[J+4]=X+ea,C[J+5]=U+ca,C[J+6]=L+ea,C[J+7]=ja+ca,J+=8,e+=1),e===k.Bc&&(this.ob=e,this.$d(!1,!1,!0,!1),J=e=0);this.ob=e;0<e&&this.$d(!1,!1,!0,!1)}};p.prototype.$d=function(a,c,d,e){var m=
this.context,n=this.width/2-this.Aa-this.bc,q=this.height/2-this.va-this.Zb,u=this.zoom*this.xc,y=this.I/2,v=this.H/2,r=0,B=0,b=12,l=0,f=-1,t=this.coords,x=this.ob,z=this.La,A=(1<<k.ri)-1;n=n+q/2+-(this.height>>2)+.5;q+=.5;a&&!e&&z.sort&&(l=(k.Bc<<k.ri)+256,z.fill(l,x),z.sort());m.beginPath();a||(B=b=d?8:12,f=l=r=0);for(d=0;d<x;d+=1){a&&(l=z[d],r=l&A,B=r+b,l>>=k.ri);var C=t[r];var I=t[r+1];var G=I+q;var F=C+n-G/2;r+=2;G=G*u+v;F=F*u+y;var E=(t[r+1]-I)*u;var D=(t[r]-C)*u-E/2;r+=2;l!==f&&(f=l,0<d&&(a?
(c&&m.stroke(),m.fill()):m.stroke(),m.beginPath()),a&&!e&&(m.fillStyle=this.ci[l],c&&(m.strokeStyle=this.ci[l])));m.moveTo(F,G);for(m.lineTo(D+F,E+G);r<B;)E=(t[r+1]-I)*u,D=(t[r]-C)*u-E/2,r+=2,m.lineTo(D+F,E+G);B+=b}a?(c&&m.stroke(),m.fill()):m.stroke()};p.prototype.$t=function(a,c,d,e){var m,n=0;(m=this.Bf[e[a-c]])&&(n=m<<2);a+=1;a<=d&&(m=this.Bf[e[a-c]])&&(n|=m);return n};p.prototype.Wt=function(a,c,d,e){var m=0;var n=this.Bf[e[a-c]];0<n&&(m=8);a+=1;a<=d&&(n=this.Bf[e[a-c]],0<n&&(m|=4),a+=1,a<=d&&
(n=this.Bf[e[a-c]],0<n&&(m|=2),a+=1,a<=d&&(n=this.Bf[e[a-c]],0<n&&(m|=1))));return m};p.prototype.Ut=function(a,c,d,e){var m="",n=k.oI,q=k.DD,u=k.ED,y=!1;d&&0===c||(1<a&&0===c&&(8===this.Gb?(2<=a&&5>=a?(c=14+a,a=1):(c=16+(a&1),a>>=1),y=!0):2<=a&&10>a?(c=14+a,a=1):(c=16+(a&1),a>>=1)),1<a&&(16<=a&&e?a===this.Yf?m+=k.Yf:a===this.Yf+1?(m+=k.sI,this.Yf+=1):a===this.Yf-1?(m+=k.qI,--this.Yf):a===this.Yf+2?(m+=k.tI,this.Yf+=2):a===this.Yf-2?(m+=k.rI,this.Yf-=2):(m+=a.toString(16),this.Yf=a):m+=a.toString(16)),
8!==this.Gb||y?m+=n[c]:(0!==c>>5&&(m+=u[c>>5]),m+=q[c&31]));return m};p.prototype.ji=function(a,c,d,e,m){var n="",q=a,u=0,y=0;e=this.ak[e-d];switch(this.Gb){case 1:u=this.Wt(q,a,c,e);q+=4;break;case 2:u=this.$t(q,a,c,e);q+=2;break;case 4:u=this.Bf[e[q-a]];q+=1;break;case 8:u=this.Bf[e[q-a]],q+=1}for(d=1;q<=c;){switch(this.Gb){case 1:y=this.Wt(q,a,c,e);q+=4;break;case 2:y=this.$t(q,a,c,e);q+=2;break;case 4:y=this.Bf[e[q-a]];q+=1;break;case 8:y=this.Bf[e[q-a]],q+=1}y===u?d+=1:(n+=this.Ut(d,u,!1,m),
d=1,u=y)}n+=this.Ut(d,u,!0,m);""!==n&&8!==this.Gb&&(n=n.substr(0,n.length-1)+n.substr(n.length-1).toUpperCase());return n};p.prototype.gk=function(a,c,d,e){var m="";""===c?8===this.Gb?(a+=1,4>a?m+=k.Xt[a-2]:(c=k.Xt[a&1],m+=(a>>1).toString(16),m+=c)):1<a?8>a?m+=k.Xt[a-2]:(c=k.Xt[a&1],m+=(a>>1).toString(16),m+=c):m+=k.Zx:(8!==this.Gb||e||(m+=k.Zx),m+=c,1<a&&(2<a&&(m+=(a-1).toString(16)),m+=d));return m};p.prototype.Ht=function(a){return 2>=a?1:4>=a?2:16>=a?4:8};p.prototype.bP=function(a,c){var d="";
var e=!1;var m=k.DD,n=k.ED;if(c)d+=k.Bf,e=a[1],0!==e>>5?(d+=n[e>>5],d+=m[e&31]):d+=m[e];else{for(c=0;c<a.length;c+=1)a[c]!==c&&(e=!0);if(e)for(d+=k.Bf,c=0;c<a.length;c+=1)e=a[c],0!==e>>5?(d+=n[e>>5],d+=m[e&31]):d+=m[e]}1===this.Gb&&(d+=k.uI);return d};p.prototype.Tt=function(a,c,d,e,m,n,q){var u="",y,v=[],r=[],B=!0,b=!0;var l=this.Ht(a);var f=this.Ht(n.length);if(f<l)for(this.Gb=f,this.Bf.fill(0),y=0;y<n.length;y+=1)this.Bf[n[y]]=y;else for(this.Gb=l,this.Bf.fill(0),y=0;y<a;y+=1)this.Bf[y]=y;for(y=
this.Yf=0;y<m;y+=1)v[y]=this.ji(c,d,e,y+e,!1),r[y]=0,""!==v[y]&&(B=!1);l!==f&&(u+=this.bP(n,q));if(!B){2===this.Gb?u+=k.vI:4===this.Gb?u+=k.wI:8===this.Gb&&(u+=k.xI);for(y=0;y<m-3;y+=1)if(v[y]===v[y+2]&&v[y+1]===v[y+3]&&v[y]!==v[y+1]){a=1;n=2;do n+=2,a+=1;while(v[y]==v[y+n]&&v[y+1]==v[y+1+n]);r[y]=a}y=0;q=y+e;n=k.lp;for(a=0;y<m;)0<r[y]?(n!==k.lp&&(n=this.ji(c,d,e,q,!0),u+=this.gk(a,n,k.$x,b),b=""===n),n=this.ji(c,d,e,y+e,!0),""===n&&(n=k.Zx),n+=this.ji(c,d,e,y+1+e,!0),u+=this.gk(r[y],n,k.pI,b),b=
""===n,y+=2*r[y],y<m?0<r[y]?n=k.lp:(n=v[y],q=y+e,a=1,y+=1):n=k.lp):(v[y]===n?a+=1:(n!==k.lp&&(n=this.ji(c,d,e,q,!0),u+=this.gk(a,n,k.$x,b),b=""===n),n=v[y],q=y+e,a=1),y+=1);n!=k.lp&&(n=this.ji(c,d,e,q,!0),u+=this.gk(a,n,k.$x,b))}return u};p.prototype.by=function(a,c,d,e,m){var n,q=new Uint8Array(a+1),u=[];for(n=e;n<=m;n+=1)for(e=c;e<=d;e+=1){var y=this.getState(e,n,!1);q[y]=1}for(e=0;e<a;e+=1)q[e]&&u.push(e);return u};p.prototype.dP=function(a,c,d,e){var m,n;this.ak=Array.ea(Uint8,e-d+1,c-a+1,0,this.u,
"URLEGrid");for(n=d;n<=e;n+=1){var q=this.ak[n-d];for(m=a;m<=c;m+=1)q[m-a]=this.getState(m,n,!1)}};p.prototype.fJ=function(a,c){var d=c.Ea?c.Ad:c.M,e=d.l,m=d.v;var n=d.A;d=d.o;var q=m-e+1,u=n-d+1,y=-1===c.i?2:c.i;var v=(c.width>>1)-(a.gb>>1);var r=(c.height>>1)-(a.jb>>1),B=[],b=a.Cb;a.tb&&(e=b.l+v,d=b.o+r,m=b.v+v,n=b.A+r,e>m&&(v=e,e=m,m=v),d>n&&(v=d,d=n,n=v),q=m-e+1,u=n-d+1);c.R&&(0<e&&0!==(e&1)&&(--e,q+=1),0<d&&0!==(d&1)&&(--d,u+=1));c.la&&(0<e&&0===(e&1)&&(--e,q+=1),0<d&&0===(d&1)&&(--d,u+=1));
c=""!==a.Vc?a.Vc:a.Ab;"Conway's Life"===c&&(c="Life");"B3/S23History"===c&&(c="LifeHistory");a="x = "+q+", y = "+u+", rule = "+c+a.ul;a+="\n";this.Ea&&(y=7);this.dP(e,m,d,n);2<y?B=this.by(y,e,m,d,n):B=[0,1];n=this.Tt(y,e,m,d,u,B,!1);if(2<B.length){c="";for(v=0;v<B.length;v+=1)0!==B[v]&&(c+=this.Tt(y,e,m,d,u,[0,B[v]],!0));c.length<n.length&&(n=c)}a+=n;a=1===this.Gb?a+(k.ay[4-q&3]+"\n"):2===this.Gb?a+(k.ay[q&1]+"\n"):a+(k.ay[0]+"\n");this.ak=null;return a};p.prototype.Yq=function(a,c,d,e,m,n,q){var u=
"",y=c.Ea?c.Ad:c.M,v=y.l,r=y.v,B=y.A,b=y.o,l=r-v+1,f=B-b+1;y=0;var t=[],x=this.ca,z=null;var A=(c.width>>1)-(a.gb>>1);var C=(c.height>>1)-(a.jb>>1),I=a.Cb;2>e&&(e=2);2>m&&(m=2);e===m&&this.Ea&&(m=e=7);a.tb&&(v=I.l+A,b=I.o+C,r=I.v+A,B=I.A+C,v>r&&(A=v,v=r,r=A),b>B&&(A=b,b=B,B=A),l=r-v+1,f=B-b+1);c.R&&(0<v&&0!==(v&1)&&(--v,l+=1),0<b&&0!==(b&1)&&(--b,f+=1));c.la&&(0<v&&0===(v&1)&&(--v,l+=1),0<b&&0===(b&1)&&(--b,f+=1));if(0===n.length)for(A=0;A<e;A+=1)n[A]=A;if(2>=m)t[0]="b",t[1]="o";else for(t[0]=".",
A=0;A<m-1;A+=1)t[A+1]=24<=A?String.fromCharCode(112+(A/24|0)-1)+String.fromCharCode(65+A%24):String.fromCharCode(65+A);d&&(u+=c.Ac);A=q&&""!==a.Vc?a.Vc:a.Ab;"Conway's Life"===A&&(A="Life");"B3/S23History"===A&&(A="LifeHistory");u=u+("x = "+l+", y = "+f+", rule = "+A)+a.ul;u+="\n";for(a=u.length;b<=B;){A=v;2>=e&&!this.ga?(z=x[b],l=z[A],m=l<=this.Ne||l===this.Pb?0:1):m=c.getState(A,b,!1);q=1;for(A+=1;A<=r+1;)A>r?l=-1:2>=e&&!this.ga?(l=z[A],l=l<=this.Ne||l===this.Pb?0:1):l=c.getState(A,b,!1),l!==m?((-1!==
l||0!==m)&&0<y&&(1<y&&(u+=y),u+="$",69<=u.length-a&&(u+="\n",a=u.length),y=0),0<m?(1<q&&(u+=q),u+=t[n[m]]):A<=r&&(1<q&&(u+=q),u+=t[n[m]]),69<=u.length-a&&(u+="\n",a=u.length),q=1,m=l):q+=1,A+=1;y+=1;b+=1}u+="!\n";d&&(u+=c.vg);return u};p.prototype.mI=function(a,c,d,e){var m=this.fb,n=this.ia,q=this.ca,u=this.Ka,y=this.Da,v=this.uf,r=this.M,B=this.Ad;var b=!0;var l=this.R?1:0,f=this.R?14:15;if(a!==(a&this.Fb)||c!==(c&this.Kb)){for(b=!1;this.width<this.ma&&(a!==(a&this.Fb)||c!==(c&this.Kb));)this.Jr(),
a+=this.width>>2,c+=this.height>>2;a===(a&this.Fb)&&c===(c&this.Kb)&&(b=!0,m=this.fb,n=this.ia,q=this.ca,u=this.Ka,y=this.Da,v=this.uf)}if(b){0!==(this.counter&1)&&(m=this.Vb,n=this.qa);b=1<<(~a&15);var t=1<<(~(a>>4)&15);1===(d&1)?(this.ba=1,0===(m[c][a>>4]&b)&&(this.oa+=1),q[c][a]=this.Qd?(a+c&127)+64:this.Hb,u[c>>4][a>>8]|=t,y[c>>4][a>>8]|=t,m[c][a>>4]|=b,n[c>>4][a>>8]|=t,v[c>>4][a>>8]&=~t,e=a&15,0<a&&e<=l?(a-=e+1,n[c>>4][a>>8]|=1<<(~(a>>4)&15),a+=e+1):a<this.width-1&&e>=f&&(a+=16-e,n[c>>4][a>>
8]|=1<<(~(a>>4)&15),a-=16-e),0<c&&0===(c&15)?(--c,n[c>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&e<=l?(a-=e+1,n[c>>4][a>>8]|=1<<(~(a>>4)&15),a+=e+1):a<this.width-1&&e>=f&&(a+=16-e,n[c>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-e),c+=1):c<this.height-1&&15===(c&15)&&(c+=1,n[c>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&e<=l?(a-=e+1,n[c>>4][a>>8]|=1<<(~(a>>4)&15),a+=e+1):a<this.width-1&&e>=f&&(a+=16-e,n[c>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-e),--c)):(0!==(m[c][a>>4]&b)&&--this.oa,q[c][a]=e?this.hb:this.Ne,u[c>>4][a>>8]|=t,y[c>>4][a>>
8]|=t,m[c][a>>4]&=~b);if(0<d)1===this.oa?(r.l=a,r.v=a,r.o=c,r.A=c):(a<r.l&&(r.l=a),a>r.v&&(r.v=a),c<r.o&&(r.o=c),c>r.A&&(r.A=c)),a<B.l&&(B.l=a),a>B.v&&(B.v=a),c<B.o&&(B.o=c),c>B.A&&(B.A=c);else if(a===r.l||a===r.v||c===r.A||c===r.o)this.Sg=!0}return 0};p.prototype.nI=function(a,c,d,e){var m=this.fb,n=this.ia,q=this.ca,u=this.Ka,y=this.Da,v=this.uf,r=this.cc,B=this.M,b=this.Ad;var l=!0;var f=0,t=this.R?1:0,x=this.R?14:15;if(a!==(a&this.Fb)||c!==(c&this.Kb)){for(l=!1;this.width<this.ma&&(a!==(a&this.Fb)||
c!==(c&this.Kb));)this.Jr(),a+=this.width>>2,c+=this.height>>2;a===(a&this.Fb)&&c===(c&this.Kb)&&(l=!0,m=this.fb,n=this.ia,q=this.ca,u=this.Ka,y=this.Da,r=this.cc,v=this.uf)}if(l){0!==(this.counter&1)&&(m=this.Vb,n=this.qa);l=1<<(~a&15);var z=1<<(~(a>>4)&15);1===(d&1)?(this.ba=1,0===(m[c][a>>4]&l)&&(this.oa+=1),q[c][a]=this.Hb,u[c>>4][a>>8]|=z,y[c>>4][a>>8]|=z,m[c][a>>4]|=l,n[c>>4][a>>8]|=z,v[c>>4][a>>8]&=~z,e=a&15,0<a&&e<=t?(a-=e+1,n[c>>4][a>>8]|=1<<(~(a>>4)&15),a+=e+1):a<this.width-1&&e>=x&&(a+=
16-e,n[c>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-e),0<c&&0===(c&15)?(--c,n[c>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&e<=t?(a-=e+1,n[c>>4][a>>8]|=1<<(~(a>>4)&15),a+=e+1):a<this.width-1&&e>=x&&(a+=16-e,n[c>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-e),c+=1):c<this.height-1&&15===(c&15)&&(c+=1,n[c>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&e<=t?(a-=e+1,n[c>>4][a>>8]|=1<<(~(a>>4)&15),a+=e+1):a<this.width-1&&e>=x&&(a+=16-e,n[c>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-e),--c)):(0!==(m[c][a>>4]&l)&&--this.oa,q[c][a]=e?this.hb:this.Ne,u[c>>4][a>>8]|=
z,y[c>>4][a>>8]|=z,m[c][a>>4]&=~l);if(r){n=r[c][a];0<n&&(n=ViewConstants.Za.indexOf(n-128));if(6===d&&6!==n||6!==d&&6===n)f=1;2===d&&(q[c][a]=k.bl);r[c][a]=0===d?0:ViewConstants.Za[d]+128}if(0<d)1===this.oa?(B.l=a,B.v=a,B.o=c,B.A=c):(a<B.l&&(B.l=a),a>B.v&&(B.v=a),c<B.o&&(B.o=c),c>B.A&&(B.A=c)),a<b.l&&(b.l=a),a>b.v&&(b.v=a),c<b.o&&(b.o=c),c>b.A&&(b.A=c);else if(a===B.l||a===B.v||c===B.A||c===B.o)this.Sg=!0}return f};p.prototype.vv=function(a,c,d,e){var m=this.fb,n=this.ia,q=this.ca,u=this.Ka,y=this.Da,
v=this.uf,r=this.cc,B=this.M,b=this.Na,l=this.Ad,f=0,t=this.la?-1:0;var x=Math.round((this.width-this.Ca)/2)+t;var z=Math.round((this.height-this.xa)/2)+t,A=x+this.Ca-1,C=z+this.xa-1,I=!0;t=0;var G=this.R?1:0,F=this.R?14:15;(this.N||this.ga||this.T)&&0!==(this.counter&1)&&(q=this.Ma);-1!==this.ya&&(0===this.Ca&&(x=0,A=this.width-1),0===this.xa&&(z=0,C=this.height-1));if(a!==(a&this.Fb)||c!==(c&this.Kb)){for(I=!1;this.width<this.ma&&(a!==(a&this.Fb)||c!==(c&this.Kb));)this.Jr(),a+=this.width>>2,c+=
this.height>>2;a===(a&this.Fb)&&c===(c&this.Kb)&&(I=!0,m=this.fb,n=this.ia,q=this.ca,u=this.Ka,y=this.Da,r=this.cc,v=this.uf)}if(I&&(-1===this.ya||a>=x&&a<=A&&c>=z&&c<=C)){if(this.N||this.ga)m=q[c][a],q[c][a]=e&&0===d?0:this.O+d,y[c>>4][a>>8]=65535,this.ga&&(0!==(this.counter&1)&&(n=this.qa),f=1<<(~(a>>4)&15)),0===d?m>this.O&&(this.N?this.oa-=this.Wf[m-this.O]:--this.oa):(this.ba=1,this.N?(m<=this.O||(this.oa-=this.Wf[m-this.O]),this.oa+=this.Wf[d]):(n[c>>4][a>>8]|=f,v[c>>4][a>>8]&=~f,0===m&&(this.oa+=
1),u=a&15,0<a&&u<=G?(a-=u+1,n[c>>4][a>>8]|=1<<(~(a>>4)&15),a+=u+1):a<this.width-1&&u>=F&&(a+=16-u,n[c>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-u),0<c&&0===(c&15)?(--c,n[c>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&u<=G?(a-=u+1,n[c>>4][a>>8]|=1<<(~(a>>4)&15),a+=u+1):a<this.width-1&&u>=F&&(a+=16-u,n[c>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-u),c+=1):c<this.height-1&&15===(c&15)&&(c+=1,n[c>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&u<=G?(a-=u+1,n[c>>4][a>>8]|=1<<(~(a>>4)&15),a+=u+1):a<this.width-1&&u>=F&&(a+=16-u,n[c>>4][a>>8]|=1<<(~(a>>
4)&15),a-=16-u),--c)));else if(0!==(this.counter&1)&&(m=this.Vb,n=this.qa),x=1<<(~a&15),f=1<<(~(a>>4)&15),this.sa)m=q[c][a],2===this.i?(n=this.Hb,1===d&&(d=this.Hb,this.ba=1)):(n=this.i-1+this.O,0<d&&(d=this.O+d,this.ba=1)),q[c][a]=d,u[c>>4][a>>8]|=f,y[c>>4][a>>8]|=f,m!==n&&d===n?this.oa+=1:m===n&&d!==n&&--this.oa;else{(z=2>=this.i||this.T?1===(d&1):d===this.i-1)?(this.ba=1,0===(m[c][a>>4]&x)&&(this.oa+=1),q[c][a]=this.Hb,u[c>>4][a>>8]|=f,y[c>>4][a>>8]|=f,m[c][a>>4]|=x,n[c>>4][a>>8]|=f,v[c>>4][a>>
8]&=~f,u=a&15,0<a&&u<=G?(a-=u+1,n[c>>4][a>>8]|=1<<(~(a>>4)&15),a+=u+1):a<this.width-1&&u>=F&&(a+=16-u,n[c>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-u),0<c&&0===(c&15)?(--c,n[c>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&u<=G?(a-=u+1,n[c>>4][a>>8]|=1<<(~(a>>4)&15),a+=u+1):a<this.width-1&&u>=F&&(a+=16-u,n[c>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-u),c+=1):c<this.height-1&&15===(c&15)&&(c+=1,n[c>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&u<=G?(a-=u+1,n[c>>4][a>>8]|=1<<(~(a>>4)&15),a+=u+1):a<this.width-1&&u>=F&&(a+=16-u,n[c>>4][a>>8]|=1<<
(~(a>>4)&15),a-=16-u),--c)):(0!==(m[c][a>>4]&x)&&--this.oa,q[c][a]=e?this.hb:this.Ne,u[c>>4][a>>8]|=f,y[c>>4][a>>8]|=f,m[c][a>>4]&=~x);if(this.Ea&&r){m=r[c][a];0<m&&(m=ViewConstants.Za.indexOf(m-128));if(6===d&&6!==m||6!==d&&6===m)t=1;2===d?q[c][a]=k.bl:r[c][a]=0===d?0:ViewConstants.Za[d]+128}2<this.i&&(0<d&&(d=this.O+d),q[c][a]=d)}if(0<d)a<B.l&&(B.l=a),a>B.v&&(B.v=a),c<B.o&&(B.o=c),c>B.A&&(B.A=c),a<l.l&&(l.l=a),a>l.v&&(l.v=a),c<l.o&&(l.o=c),c>l.A&&(l.A=c),this.sa&&d===this.i-1+this.O&&(1===this.oa?
(b.l=a,b.v=a,b.o=c,b.A=c):(a<b.l&&(b.l=a),a>b.v&&(b.v=a),c<b.o&&(b.o=c),c>b.A&&(b.A=c)));else if(a===B.l||a===B.v||c===B.A||c===B.o)this.Sg=!0}return t};p.prototype.getState=function(a,c,d){switch(this.Nv){case k.rA:return this.Zt(a,c,d);case k.tA:return this.Zt(a,c,!0);case k.sA:return this.Xx(a,c,d);default:return this.Yx(a,c,d)}};p.prototype.Rj=function(a,c,d,e){switch(this.Nv){case k.rA:return this.mI(a,c,d,e);case k.tA:return this.vv(a,c,d,e);case k.sA:return this.nI(a,c,d,e);default:return this.vv(a,
c,d,e)}};p.prototype.cO=function(){this.Nv=-1!==this.i||-1!==this.ya||this.Pa?this.ga&&2===this.i?k.tA:k.aM:this.Ea?k.sA:k.rA};p.prototype.TI=function(a){var c=1<<k.Ij;a?(this.Qc=Array.ea(Uint32,1,c,0,this.u,"Life.popGraphData"),this.bi=Array.ea(Uint32,1,c,0,this.u,"Life.birthGraphData"),this.gi=Array.ea(Uint32,1,c,0,this.u,"Life.deathGraphData"),this.Bh=c):(this.Qc=Array.ea(Uint32,0,0,0,this.u,"Life.popGraphData"),this.bi=Array.ea(Uint32,0,0,0,this.u,"Life.birthGraphData"),this.gi=Array.ea(Uint32,
0,0,0,this.u,"Life.deathGraphData"),this.Bh=0)};p.prototype.Zt=function(a,c,d){var e=0;a===(a&this.Fb)&&c===(c&this.Kb)&&(a=this.ca[c][a],d?e=a:e=a<=this.Ne?0:1);return e};p.prototype.Xx=function(a,c,d){var e=0,m=ViewConstants.Za[3]+128,n=ViewConstants.Za[4]+128,q=ViewConstants.Za[5]+128,u=ViewConstants.Za[6]+128;a===(a&this.Fb)&&c===(c&this.Kb)&&(e=this.ca[c][a],d||(this.cc?(a=this.cc[c][a],a===n||a===u?(e>=this.Hb&&(a=m),e=ViewConstants.Za.indexOf(a-128)):a===m||a===q?(e<this.Hb&&(a=n),e=ViewConstants.Za.indexOf(a-
128)):e=e===this.hb?0:e<=this.Ne?2:1):e=e<=this.Ne?0:1));return e};p.prototype.Yx=function(a,c,d){var e=0,m=ViewConstants.Za[3]+128,n=ViewConstants.Za[4]+128,q=ViewConstants.Za[5]+128,u=ViewConstants.Za[6]+128,y=this.la?-1:0,v=Math.round((this.width-this.Ca)/2)+y;y=Math.round((this.height-this.xa)/2)+y;var r=v+this.Ca-1,B=y+this.xa-1,b=this.ca;(this.N||this.ga||this.T)&&0!==(this.counter&1)&&(b=this.Ma);a===(a&this.Fb)&&c===(c&this.Kb)&&(e=b[c][a],d||2<this.i?2<this.i&&0<e&&!this.Pa&&(e<=this.O?e=
0:(-1!==this.ya&&(0===this.Ca&&(v=0,r=this.width-1),0===this.xa&&(y=0,B=this.height-1)),e=-1===this.ya||e!==this.Pb||a>=v&&a<=r&&c>=y&&c<=B?this.N||this.ga||this.T?e-this.O:this.i+this.O-e:0)):this.cc?-1===this.ya||e!==this.Pb||a>=v&&a<=r&&c>=y&&c<=B?(a=this.cc[c][a],a===n||a===u?(e>=this.Hb&&(a=m),e=ViewConstants.Za.indexOf(a-128)):a===m||a===q?(e<this.Hb&&(a=n),e=ViewConstants.Za.indexOf(a-128)):e=e===this.hb?0:e<=this.Ne?2:1):e=0:e=e<=this.Ne||e===this.Pb?0:1);return e};p.prototype.Ll=function(a){var c,
d,e,m=a.length,n=a[0].length,q=this.Wf,u=0;for(c=0;c<m;c+=1){var y=a[c];for(d=0;d<n;d+=1)(e=y[d])&&(u+=q[e])}return u};p.prototype.ck=function(a,c){var d=a.ag,e=d.length,m=!1;if(this.la||this.N)for(this.bd=this.cd=!1,a=0;!m&&a<e;){var n=d[a];n.Oh<c?("reverse playback"===n.action&&(this.bd=!this.bd),a+=1):n.Oh>c?m=!0:"reverse playback"===n.action?m=this.cd=!0:a+=1}};p.prototype.Ys=function(a,c,d,e){var m=this.Tg.Xe.length,n=null;a<this.counter&&(n=this.Tg.fO(a),m!==this.Tg.Xe.length&&(this.jo-=k.dt*
(m-this.Tg.Xe.length)));n&&(this.vu(n),e.Uh());for(;this.counter<a-1;)this.ba?(this.ck(e,this.counter),this.Be(!1,!0,d,e.Rb),0===this.ba&&2<this.i||this.ee(),0===this.ba&&2>=this.i&&(this.ba=1,this.ck(e,this.counter),this.Be(!1,!1,d,e.Rb),this.ba=0,--this.counter)):(this.counter+=1,this.ee()),e.Uh();this.counter<a?(this.ba?(this.ck(e,this.counter),this.Be(c,!0,d,e.Rb),0===this.ba&&2<this.i||this.ee(),0===this.ba&&2>=this.i&&(this.ba=1,this.ck(e,this.counter),this.Be(!1,!1,d,e.Rb),this.ba=0,--this.counter)):
(this.counter+=1,this.ee()),e.Uh()):-1===this.i&&this.ee();e.xj&&(this.ba=1)};p.prototype.vu=function(a){var c=this.ca,d=this.cc;this.counter=a.counter;this.$f=a.$f;this.zj=a.zj;if(0!==(this.counter&1)){var e=this.Lg;var m=this.jd;var n=this.qa;var q=this.ia}else e=this.jd,m=this.Lg,n=this.ia,q=this.qa;e.Wa.fill(0);m.Wa.fill(0);this.ca.Wa.fill(0);(this.N||this.ga||this.T)&&this.Ma.Wa.fill(0);this.Fc.Wa.fill(0);this.uf.Wa.fill(0);a.uN(e,n,this);a.tN(c,this.Ka,this);(this.N||this.ga||this.T)&&Array.Ih(c,
this.Ma);this.Cg?(d.Wa.fill(0),this.me.Wa.fill(0),a.vN(d,this.Da,this),this.Sm()):Array.Ih(this.Da,this.Ka);Array.Ih(n,q);Array.Ih(e,m);this.M.l=a.M.l;this.M.o=a.M.o;this.M.v=a.M.v;this.M.A=a.M.A;this.Na.l=a.Na.l;this.Na.o=a.Na.o;this.Na.v=a.Na.v;this.Na.A=a.Na.A;this.oa=a.oa;this.Qb=a.Qb;this.Ub=a.Ub;this.ba=a.ba};p.prototype.Zs=function(){if(0!==(this.counter&1)){var a=this.Lg;var c=this.qa}else a=this.jd,c=this.ia;this.kv(!1,a,c)};p.prototype.Xs=function(a){this.vu(this.Gt);this.Tg.reset();this.jo=
k.dt;a||this.Zs()};p.prototype.kv=function(a,c,d){var e=this.ca;(this.N||this.ga||this.T)&&0!==(this.counter&1)&&(e=this.Ma);this.Tg.Zs(c,d,e,this.Da,this.cc,this.Da,this.M,this.Na,this.oa,this.Qb,this.Ub,this.counter,this.$f,this.zj,(this.pa-1>>4)+1,this.ua,this,a,this.ba)};p.prototype.IN=function(a){this.Tg.reset();this.Gt=this.Tg.Oy((this.pa-1>>4)+1,this.ua,!0,this.Cg);this.kv(!0,this.jd,this.ia);a||this.Zs()};p.prototype.mN=function(a,c){var d=this.cc,e=this.Ye;this.width=a;this.height=c;this.sa&&
this.Ja.resize(this.width,this.height);this.jd=Array.ea(Uint8,this.height,(this.width-1>>3)+1,0,this.u,"Life.grid");this.Lg=Array.ea(Uint8,this.height,(this.width-1>>3)+1,0,this.u,"Life.nextGrid");this.fb=Array.Lc(Uint16,this.jd,"Life.grid16");this.Vb=Array.Lc(Uint16,this.Lg,"Life.nextGrid16");e&&(this.Ye=Array.ea(Uint16,this.height,(this.width-1>>4)+1,0,this.u,"Life.state6Mask"),this.Uj=Array.ea(Uint16,this.height,(this.width-1>>4)+1,0,this.u,"Life.state6Alive"),this.Ni=Array.ea(Uint16,this.height,
(this.width-1>>4)+1,0,this.u,"Life.state6Cells"));this.pa=this.width>>4;this.ua=this.height>>4;e&&(this.Qf=Array.ea(Uint16,this.ua,(this.pa-1>>4)+1,0,this.u,"Life.state6TileGrid"));this.ia=Array.ea(Uint16,this.ua,(this.pa-1>>4)+1,0,this.u,"Life.tileGrid");this.qa=Array.ea(Uint16,this.ua,(this.pa-1>>4)+1,0,this.u,"Life.nextTileGrid");this.uf=Array.ea(Uint16,this.ua,(this.pa-1>>4)+1,0,this.u,"Life.staticTileGrid");this.Ka=Array.ea(Uint16,this.ua,(this.pa-1>>4)+1,0,this.u,"Life.colourTileGrid");this.Da=
Array.ea(Uint16,this.ua,(this.pa-1>>4)+1,0,this.u,"Life.colourTileHistoryGrid");this.jf=this.u.P(Uint8,(this.width-1>>3)+1,"Life.blankRow");this.ar=this.u.P(Uint16,(this.width-1>>4)+1,"Life.blankRow16");this.sd=this.u.P(Uint16,this.pa>>4,"Life.blankTileRow");this.rc=this.u.P(Uint8,this.width,"Life.blankColourRow");this.ka=this.u.P(Uint16,(this.width-1>>4)+1,"Life.columnOccupied16");this.cb=this.u.P(Uint16,(this.height-1>>4)+1,"Life.rowOccupied16");this.ca=Array.ea(Uint8,this.height,this.width,this.hb,
this.u,"Life.colourGrid");this.N||this.ga||this.T?(this.Ma=Array.ea(Uint8,this.height,this.width,this.hb,this.u,"Life.nextColourGrid"),this.Ah=Array.Lc(Uint16,this.Ma,"Life.nextColourGrid16"),this.wa=Array.Lc(Uint32,this.Ma,"Life.nextColourGrid32")):this.wa=this.Ah=this.Ma=null;this.Fc=Array.ea(Uint8,this.height,this.width,this.hb,this.u,"Life.smallColourGrid");this.tk=Array.Lc(Uint16,this.ca,"Life.colourGrid16");this.de=Array.Lc(Uint32,this.ca,"Life.colourGrid32");d&&(this.cc=Array.ea(Uint8,this.height,
this.width,this.hb,this.u,"Life.overlayGrid"),this.me=Array.ea(Uint8,this.height,this.width,this.hb,this.u,"Life.smallOverlayGrid"),this.qo=Array.Lc(Uint16,this.cc,"Life.overlayGrid16"),this.tl=Array.Lc(Uint32,this.cc,"Life.overlayGrid32"));this.Fb=this.width-1;this.Kb=this.height-1;this.Tg.HG((this.pa-1>>4)+1,this.ua,0,this.Cg)};p.prototype.UI=function(){this.height=this.width=1024;this.jd=Array.ea(Uint8,this.height,(this.width-1>>3)+1,0,this.u,"Life.grid");this.Lg=Array.ea(Uint8,this.height,(this.width-
1>>3)+1,0,this.u,"Life.nextGrid");this.fb=Array.Lc(Uint16,this.jd,"Life.grid16");this.Vb=Array.Lc(Uint16,this.Lg,"Life.nextGrid16");this.pa=this.width>>4;this.ua=this.height>>4;this.Qf&&this.mE();this.ia=Array.ea(Uint16,this.ua,(this.pa-1>>4)+1,0,this.u,"Life.tileGrid");this.qa=Array.ea(Uint16,this.ua,(this.pa-1>>4)+1,0,this.u,"Life.nextTileGrid");this.uf=Array.ea(Uint16,this.ua,(this.pa-1>>4)+1,0,this.u,"Life.staticTileGrid");this.Ka=Array.ea(Uint16,this.ua,(this.pa-1>>4)+1,0,this.u,"Life.colourTileGrid");
this.Da=Array.ea(Uint16,this.ua,(this.pa-1>>4)+1,0,this.u,"Life.colourTileHistoryGrid");this.jf=this.u.P(Uint8,(this.width-1>>3)+1,"Life.blankRow");this.ar=this.u.P(Uint16,(this.width-1>>4)+1,"Life.blankRow16");this.sd=this.u.P(Uint16,this.pa>>4,"Life.blankTileRow");this.rc=this.u.P(Uint8,this.width,"Life.blankColourRow");this.ka=this.u.P(Uint16,(this.width-1>>4)+1,"Life.columnOccupied16");this.cb=this.u.P(Uint16,(this.height-1>>4)+1,"Life.rowOccupied16");this.ca=Array.ea(Uint8,this.height,this.width,
this.hb,this.u,"Life.colourGrid");this.tk=Array.Lc(Uint16,this.ca,"Life.colourGrid16");this.de=Array.Lc(Uint32,this.ca,"Life.colourGrid32");this.N||this.ga||this.T?(this.Ma=Array.ea(Uint8,this.height,this.width,this.hb,this.u,"Life.nextColourGrid"),this.Ah=Array.Lc(Uint16,this.Ma,"Life.nextColourGrid16"),this.wa=Array.Lc(Uint32,this.Ma,"Life.nextColourGrid32")):this.wa=this.Ah=this.Ma=null;this.Fc=Array.ea(Uint8,this.height,this.width,this.hb,this.u,"Life.smallColourGrid");this.cc&&this.gE();this.Fb=
this.width-1;this.Kb=this.height-1};p.prototype.Jr=function(){var a=this.jd,c=this.Lg,d=this.ca,e=this.Ma,m=this.Fc,n=this.cc,q=this.me,u=this.Ye,y=this.Uj,v=this.Ni,r=this.uk,B=this.kg,b=this.Qf,l=this.ia,f=this.qa,t=this.uf,x=this.Ka,z=this.Da,A=this.height,C=this.ua,I=this.width>>1,G=this.height>>1,F;if(this.width<this.ma){this.width*=2;this.height*=2;this.sa&&this.Ja.resize(this.width,this.height);this.jd=Array.ea(Uint8,this.height,(this.width-1>>3)+1,0,this.u,"Life.grid");this.Lg=Array.ea(Uint8,
this.height,(this.width-1>>3)+1,0,this.u,"Life.nextGrid");this.fb=Array.Lc(Uint16,this.jd,"Life.grid16");this.Vb=Array.Lc(Uint16,this.Lg,"Life.nextGrid16");u&&(this.Ye=Array.ea(Uint16,this.height,(this.width-1>>4)+1,0,this.u,"Life.state6Mask"),this.Uj=Array.ea(Uint16,this.height,(this.width-1>>4)+1,0,this.u,"Life.state6Alive"),this.Ni=Array.ea(Uint16,this.height,(this.width-1>>4)+1,0,this.u,"Life.state6Cells"));this.pa=this.width>>4;this.ua=this.height>>4;u&&(this.Qf=Array.ea(Uint16,this.ua,(this.pa-
1>>4)+1,0,this.u,"Life.state6TileGrid"));this.ia=Array.ea(Uint16,this.ua,(this.pa-1>>4)+1,0,this.u,"Life.tileGrid");this.qa=Array.ea(Uint16,this.ua,(this.pa-1>>4)+1,0,this.u,"Life.nextTileGrid");this.uf=Array.ea(Uint16,this.ua,(this.pa-1>>4)+1,0,this.u,"Life.staticTileGrid");this.Ka=Array.ea(Uint16,this.ua,(this.pa-1>>4)+1,0,this.u,"Life.colourTileGrid");this.Da=Array.ea(Uint16,this.ua,(this.pa-1>>4)+1,0,this.u,"Life.colourTileHistoryGrid");this.jf=this.u.P(Uint8,(this.width-1>>3)+1,"Life.blankRow");
this.ar=this.u.P(Uint16,(this.width-1>>4)+1,"Life.blankRow16");this.sd=this.u.P(Uint16,this.pa>>4,"Life.blankTileRow");this.rc=this.u.P(Uint8,this.width,"Life.blankColourRow");this.ka=this.u.P(Uint16,(this.width-1>>4)+1,"Life.columnOccupied16");this.cb=this.u.P(Uint16,(this.width-1>>4)+1,"Life.rowOccupied16");r&&(this.uk=Array.ea(Uint8,this.height,this.width,k.$k,this.u,"Life.countList"));B&&(this.kg=Array.ea(Uint8,this.height,this.width,0,this.u,"Life.initList"));this.ca=Array.ea(Uint8,this.height,
this.width,this.hb,this.u,"Life.colourGrid");this.Fc=Array.ea(Uint8,this.height,this.width,this.hb,this.u,"Life.smallColourGrid");this.tk=Array.Lc(Uint16,this.ca,"Life.colourGrid16");this.de=Array.Lc(Uint32,this.ca,"Life.colourGrid32");this.N||this.ga||this.T?(this.Ma=Array.ea(Uint8,this.height,this.width,this.hb,this.u,"Life.nextColourGrid"),this.Ah=Array.Lc(Uint16,this.Ma,"Life.nextColourGrid16"),this.wa=Array.Lc(Uint32,this.Ma,"Life.nextColourGrid32")):this.wa=this.Ah=this.Ma=null;n&&(this.cc=
Array.ea(Uint8,this.height,this.width,this.hb,this.u,"Life.overlayGrid"),this.me=Array.ea(Uint8,this.height,this.width,this.hb,this.u,"Life.smallOverlayGrid"),this.qo=Array.Lc(Uint16,this.cc,"Life.overlayGrid16"),this.tl=Array.Lc(Uint32,this.cc,"Life.overlayGrid32"));this.Fb=this.width-1;this.Kb=this.height-1;for(F=0;F<A;F+=1)this.jd[F+G].set(a[F],I>>3),this.Lg[F+G].set(c[F],I>>3),this.ca[F+G].set(d[F],I),this.Fc[F+G].set(m[F],I),(this.N||this.ga||this.T)&&this.Ma[F+G].set(e[F],I),this.uk&&this.uk[F+
G].set(r[F],I),this.kg&&this.kg[F+G].set(B[F],I),n&&q&&(this.cc[F+G].set(n[F],I),this.me[F+G].set(q[F],I)),u&&y&&v&&(this.Ye[F+G].set(u[F],I>>4),this.Uj[F+G].set(y[F],I>>4),this.Ni[F+G].set(v[F],I>>4));G=C>>1;for(F=0;F<C;F+=1)b&&this.Qf[F+G].set(b[F],this.Qf[F].length>>2),this.ia[F+G].set(l[F],this.ia[F].length>>2),this.qa[F+G].set(f[F],this.qa[F].length>>2),this.uf[F+G].set(t[F],this.uf[F].length>>2),this.Ka[F+G].set(x[F],this.Ka[F].length>>2),this.Da[F+G].set(z[F],this.Da[F].length>>2);I=this.width>>
2;G=this.height>>2;this.Tg.HG((this.pa-1>>4)+1,this.ua,I,this.Cg);this.Aa+=I;this.va+=G;this.S&&(this.Aa-=G/2|0);this.M.l+=I;this.M.v+=I;this.M.A+=G;this.M.o+=G;this.Na.l+=I;this.Na.v+=I;this.Na.A+=G;this.Na.o+=G;this.Kf.l+=I;this.Kf.v+=I;this.Kf.A+=G;this.Kf.o+=G;this.Ad.l+=I;this.Ad.v+=I;this.Ad.A+=G;this.Ad.o+=G;if(0<this.Ya)for(F=0;F<this.Ya;F+=1)c=this.$b[(F<<1)+1],a=(c>>16)+I,c=(c&65535)+G,this.$b[(F<<1)+1]=a<<16|c}};p.prototype.nJ=function(a,c){var d=this.width,e=this.height,m=!1;d<this.ma&&
this.ba&&(a.l<=c||a.o<=c||a.v>=d-c||a.A>=e-c)&&(this.Jr(),m=!0);return m};p.prototype.DI=function(){var a,c=this.Vt;for(a=0;65536>a;a+=1){var d=a;var e=0;65535<d&&(d>>=16,e+=16);255<d&&(d>>=8,e+=8);15<d&&(d>>=4,e+=4);3<d&&(d>>=2,e+=2);e+=d>>1;c[a]=e}};p.prototype.hy=function(){var a,c,d=this.Wf;for(a=0;65536>a;a+=1){var e=a;for(c=0;e;c+=1)e&=e-1;d[a]=c}};p.prototype.BI=function(){var a,c,d=this.Kt,e=this.Hb;for(a=0;256>a;a+=1)for(c=0;8>c;c+=1)d[(a<<3)+c]=a&1<<7-c?e:0};p.prototype.oN=function(a,c){var d,
e=0,m=this.Wf;var n=this.M;var q=n.l,u=n.v,y=n.A;n=n.o;if(this.sa||this.N||this.ga)for(;n<=y;n+=1){var v=c[n];for(d=q;d<=u;d+=1)a=v[d],0<a&&(e=this.N?e+m[a-this.O]:e+1)}else for(q>>=4,u>>=4;n<=y;n+=1)for(v=a[n],d=q;d<=u;d+=1)c=m[v[d]],e+=c;this.oa=e;this.Ub=this.Qb=0};p.prototype.GG=function(a,c){var d=this.context;var e=this.ie?4278190080:255;this.I=a;this.H=c;this.Yk=this.fe=this.pd=null;this.pd=d.createImageData(d.canvas.width,d.canvas.height);this.pd.data.buffer?this.fe=new Uint32Array(this.pd.data.buffer):
(this.fe=new Uint32Array(this.pd.data.length>>2),this.Yk=new Uint8Array(this.fe.buffer));this.Vk=this.u.P(Uint32,a,"Life.blankPixelRow");for(c=0;c<a;c+=1)this.Vk[c]=e;this.uB(e);this.Mz()};p.prototype.HJ=function(a,c,d){var e,m,n=this.ca,q=a.width,u=a.height,y=this.Fb,v=this.Kb,r=this.bl,B=ViewConstants.Za[2];for(m=0;m<u;m+=1){var b=a.kh[m];var l=n[m+d&v];for(e=0;e<q;e+=1)b[e]===B&&(l[e+c&y]=r)}};p.prototype.GK=function(){this.tl=this.qo=this.me=this.cc=null};p.prototype.gE=function(){this.cc=Array.ea(Uint8,
this.height,this.width,this.hb,this.u,"Life.overlayGrid");this.me=Array.ea(Uint8,this.height,this.width,this.hb,this.u,"Life.smallOverlayGrid");Array.jA(this.me,1,"Life.smallOverlayGrid4");Array.jA(this.me,3,"Life.smallOverlayGrid8");Array.jA(this.me,7,"Life.smallOverlayGrid16");this.qo=Array.Lc(Uint16,this.cc,"Life.overlayGrid16");this.tl=Array.Lc(Uint32,this.cc,"Life.overlayGrid32")};p.prototype.HK=function(){this.Qf=this.Ni=this.Uj=this.Ye=null};p.prototype.mE=function(){this.Ye=Array.ea(Uint16,
this.height,(this.width-1>>4)+1,0,this.u,"Life.state6Mask");this.Uj=Array.ea(Uint16,this.height,(this.width-1>>4)+1,0,this.u,"Life.state6Alive");this.Ni=Array.ea(Uint16,this.height,(this.width-1>>4)+1,0,this.u,"Life.state6Cells");this.Qf=Array.ea(Uint16,this.ua,(this.pa-1>>4)+1,0,this.u,"Life.state6TileGrid")};p.prototype.Sm=function(){var a,c,d=this.Fb,e=this.Kb,m=this.Qf,n=this.T?6:ViewConstants.Za[6]+128,q=this.T?this.ca:this.cc;this.Ye.Wa.fill(0);this.Ni.Wa.fill(0);this.Uj.Wa.fill(0);this.Qf.Wa.fill(0);
for(c=1;c<this.height-1;c+=1){var u=q[c];var y=this.Ye[c-1&e];var v=this.Ye[c&e];var r=this.Ye[c+1&e];var B=this.Ni[c&e];var b=m[(c-1&e)>>4];var l=m[(c&e)>>4];var f=m[(c+1&e)>>4];for(a=1;a<=this.width-1;a+=1)if(u[a]===n){var t=a&d;B[t>>4]|=1<<(~t&15);y[t>>4]|=1<<(~t&15);v[t>>4]|=1<<(~t&15);r[t>>4]|=1<<(~t&15);b[t>>8]|=1<<(~(t>>4)&15);l[t>>8]|=1<<(~(t>>4)&15);f[t>>8]|=1<<(~(t>>4)&15);t=a-1&d;y[t>>4]|=1<<(~t&15);v[t>>4]|=1<<(~t&15);r[t>>4]|=1<<(~t&15);b[t>>8]|=1<<(~(t>>4)&15);l[t>>8]|=1<<(~(t>>4)&15);
f[t>>8]|=1<<(~(t>>4)&15);t=a+1&d;y[t>>4]|=1<<(~t&15);v[t>>4]|=1<<(~t&15);r[t>>4]|=1<<(~t&15);b[t>>8]|=1<<(~(t>>4)&15);l[t>>8]|=1<<(~(t>>4)&15);f[t>>8]|=1<<(~(t>>4)&15)}}};p.prototype.GM=function(a,c,d){var e,m,n=a.width,q=a.height,u=this.Fb,y=this.Kb,v=this.Qf;for(m=0;m<q;m+=1){var r=a.kh[m];var B=this.Ye[m-1+d&y];var b=this.Ye[m+d&y];var l=this.Ye[m+1+d&y];var f=this.Ni[m+d&y];var t=v[(m-1+d&y)>>4];var x=v[(m+d&y)>>4];var z=v[(m+1+d&y)>>4];for(e=0;e<n;e+=1)if(6===r[e]){var A=e+c&u;f[A>>4]|=1<<(~A&
15);B[A>>4]|=1<<(~A&15);b[A>>4]|=1<<(~A&15);l[A>>4]|=1<<(~A&15);t[A>>8]|=1<<(~(A>>4)&15);x[A>>8]|=1<<(~(A>>4)&15);z[A>>8]|=1<<(~(A>>4)&15);A=e-1+c&u;B[A>>4]|=1<<(~A&15);b[A>>4]|=1<<(~A&15);l[A>>4]|=1<<(~A&15);t[A>>8]|=1<<(~(A>>4)&15);x[A>>8]|=1<<(~(A>>4)&15);z[A>>8]|=1<<(~(A>>4)&15);A=e+1+c&u;B[A>>4]|=1<<(~A&15);b[A>>4]|=1<<(~A&15);l[A>>4]|=1<<(~A&15);t[A>>8]|=1<<(~(A>>4)&15);x[A>>8]|=1<<(~(A>>4)&15);z[A>>8]|=1<<(~(A>>4)&15)}}};p.prototype.Ow=function(a){this.Qd?this.lI(a):this.kI(a)};p.prototype.lI=
function(a){var c,d=this.ca;var e=this.M;var m=e.l>>4,n=e.v>>4,q=e.A;for(c=e.o;c<=q;c+=1){var u=a[c];var y=d[c];var v=m<<4;for(e=m;e<=n;e+=1){var r=u[e]>>8;y[v]=r&128?(c+v&127)+64:0;v+=1;y[v]=r&64?(c+v&127)+64:0;v+=1;y[v]=r&32?(c+v&127)+64:0;v+=1;y[v]=r&16?(c+v&127)+64:0;v+=1;y[v]=r&8?(c+v&127)+64:0;v+=1;y[v]=r&4?(c+v&127)+64:0;v+=1;y[v]=r&2?(c+v&127)+64:0;v+=1;y[v]=r&1?(c+v&127)+64:0;v+=1;r=u[e]&255;y[v]=r&128?(c+v&127)+64:0;v+=1;y[v]=r&64?(c+v&127)+64:0;v+=1;y[v]=r&32?(c+v&127)+64:0;v+=1;y[v]=r&
16?(c+v&127)+64:0;v+=1;y[v]=r&8?(c+v&127)+64:0;v+=1;y[v]=r&4?(c+v&127)+64:0;v+=1;y[v]=r&2?(c+v&127)+64:0;v+=1;y[v]=r&1?(c+v&127)+64:0;v+=1}}};p.prototype.kI=function(a){var c,d=this.ca,e=this.Kt;var m=this.M;var n=m.l>>4,q=m.v>>4,u=m.A;m=m.o;if(!this.N&&!this.ga)for(c=m;c<=u;c+=1){var y=a[c];var v=d[c];var r=n<<4;for(m=n;m<=q;m+=1){var B=y[m]>>8<<3;v[r]=e[B];r+=1;v[r]=e[B+1];r+=1;v[r]=e[B+2];r+=1;v[r]=e[B+3];r+=1;v[r]=e[B+4];r+=1;v[r]=e[B+5];r+=1;v[r]=e[B+6];r+=1;v[r]=e[B+7];r+=1;B=(y[m]&255)<<3;
v[r]=e[B];r+=1;v[r]=e[B+1];r+=1;v[r]=e[B+2];r+=1;v[r]=e[B+3];r+=1;v[r]=e[B+4];r+=1;v[r]=e[B+5];r+=1;v[r]=e[B+6];r+=1;v[r]=e[B+7];r+=1}}};p.prototype.Db=function(a){var c=[],d,e;for(e=0;7>e;e+=1){var m=[];for(d=0;7>d;d+=1)m[d]=0;c[e]=m}for(e=0;3>e;e+=1)for(d=0;3>d;d+=1)c[e+2][d+2]=a[e][d];return c};p.prototype.Ax=function(){this.vm=this.Db(k.VK);this.wm=this.Db(k.WK);this.ym=this.Db(k.XK);this.Cm=this.Db(k.YK);this.jm=this.Db(k.RK);this.lm=this.Db(k.SK);this.pm=this.Db(k.TK);this.sm=this.Db(k.UK);
this.Ao=this.Db(k.cL);this.Fo=this.Db(k.dL);this.Ro=this.Db(k.eL);this.ip=this.Db(k.fL);this.Jm=this.Db(k.ZK);this.po=this.Db(k.$K);this.xo=this.Db(k.aL);this.yo=this.Db(k.bL)};p.prototype.uL=function(a,c,d){var e=this.hb,m=this.jf,n=this.rc,q=this.Vk,u=this.sd;var y=this.ie?4278190080:255;this.Cg=!1;this.Fb=this.width-1;this.Kb=this.height-1;this.M=new BoundingBox(0,0,this.width-1,this.height-1);this.Na=new BoundingBox(0,0,this.width-1,this.height-1);this.Kf=new BoundingBox(0,0,this.width-1,this.height-
1);this.Ad=new BoundingBox(0,0,this.width-1,this.height-1);new BoundingBox(0,0,this.width-1,this.height-1);this.context=a;this.BI();this.GG(c,d);m.fill(0);n.fill(e);u.fill(0);q.fill(y);this.Ax()};p.prototype.MJ=function(){var a=0;this.lb[a]=new w("Mono",new g(new h(0,0,0),new h(0,0,0)),new g(new h(255,255,255),new h(255,255,255)),new h(0,0,0),new h(255,255,255),new g(new h(0,0,0),new h(-1,-1,-1)),new g(new h(0,0,0),new h(0,0,0)),new h(0,0,0));a+=1;this.lb[a]=new w("Blues",new g(new h(0,0,47),new h(0,
0,255)),new g(new h(0,255,255),new h(255,255,255)),new h(0,0,0),new h(0,255,255),new g(new h(0,0,255),new h(-1,-1,-1)),new g(new h(0,0,47),new h(0,0,128)),new h(0,0,0));a+=1;this.lb[a]=new w("Fire",new g(new h(32,0,0),new h(160,0,0)),new g(new h(255,144,0),new h(255,255,0)),new h(0,0,0),new h(255,144,0),new g(new h(240,0,0),new h(-1,-1,-1)),new g(new h(32,0,0),new h(160,0,0)),new h(0,0,0));a+=1;this.lb[a]=new w("Poison",new g(new h(0,24,0),new h(0,128,0)),new g(new h(0,255,255),new h(255,255,255)),
new h(0,0,0),new h(0,255,255),new g(new h(0,192,0),new h(-1,-1,-1)),new g(new h(0,24,0),new h(0,128,0)),new h(0,0,0));a+=1;this.lb[a]=new w("Yellow",new g(new h(0,47,0),new h(128,0,128)),new g(new h(255,255,0),new h(255,255,255)),new h(0,32,128),new h(255,255,0),new g(new h(192,64,64),new h(-1,-1,-1)),new g(new h(0,47,0),new h(128,0,128)),new h(0,32,128));a+=1;this.lb[a]=new w("Gray",new g(new h(16,16,16),new h(104,104,104)),new g(new h(176,176,176),new h(240,240,240)),new h(0,0,0),new h(240,240,
240),new g(new h(160,160,160),new h(-1,-1,-1)),new g(new h(16,16,16),new h(104,104,104)),new h(0,0,0));a+=1;this.lb[a]=new w("Inverse",new g(new h(255,255,255),new h(255,255,255)),new g(new h(0,0,0),new h(0,0,0)),new h(255,255,255),new h(0,0,0),new g(new h(255,255,255),new h(-1,-1,-1)),new g(new h(255,255,255),new h(255,255,255)),new h(255,255,255));a+=1;this.lb[a]=new w("Day",new g(new h(240,240,240),new h(0,255,255)),new g(new h(0,0,255),new h(0,0,0)),new h(255,255,255),new h(0,0,255),new g(new h(0,
255,255),new h(-1,-1,-1)),new g(new h(240,240,240),new h(0,192,192)),new h(255,255,255));a+=1;this.lb[a]=new w("Occupied",new g(new h(240,240,240),new h(240,240,240)),new g(new h(240,240,240),new h(240,240,240)),new h(0,0,0),new h(240,240,240),new g(new h(240,240,240),new h(240,240,240)),new g(new h(240,240,240),new h(240,240,240)),new h(0,0,0));a+=1;this.lb[a]=new w("Red",new g(new h(160,0,0),new h(160,0,0)),new g(new h(240,240,240),new h(240,240,240)),new h(0,0,0),new h(255,255,255),new g(new h(160,
160,160),new h(160,160,160)),new g(new h(160,0,0),new h(160,0,0)),new h(0,0,0));a+=1;this.lb[a]=new w("LifeHistory",new g(new h(0,0,96),new h(0,0,160)),new g(new h(0,240,0),new h(16,255,16)),new h(0,0,0),new h(16,255,16),new g(new h(0,128,160),new h(-1,-1,-1)),new g(new h(0,0,96),new h(0,0,160)),new h(0,0,0));a+=1;this.lb[a]=new w("Generations",new g(new h(64,0,0),new h(255,0,0)),new g(new h(255,255,0),new h(255,255,255)),new h(0,0,0),new h(255,255,0),new g(new h(255,0,0),new h(-1,-1,-1)),new g(new h(64,
0,0),new h(128,0,0)),new h(0,0,0));a+=1;this.lb[a]=new w("Golly",new g(new h(48,48,48),new h(48,48,48)),new g(new h(255,255,255),new h(255,255,255)),new h(48,48,48),new h(255,255,0),new g(new h(255,0,0),new h(-1,-1,-1)),new g(new h(48,48,48),new h(48,48,48)),new h(48,48,48));this.lb[a].Ko(10,new h(80,80,80),new h(112,112,112));a+=1;this.lb[a]=new w("MCell",new g(new h(0,0,0),new h(0,0,0)),new g(new h(255,255,0),new h(255,255,0)),new h(0,0,0),new h(255,255,0),new g(new h(0,255,0),new h(255,255,0)),
new g(new h(0,0,0),new h(0,0,0)),new h(0,0,0));this.lb[a].Ko(5,new h(64,0,0),new h(99,3,1));a+=1;this.lb[a]=new w("Catagolue",new g(new h(160,221,204),new h(160,221,204)),new g(new h(0,0,0),new h(0,0,0)),new h(192,255,238),new h(0,0,0),new g(new h(96,192,139),new h(2,129,2)),new g(new h(160,221,204),new h(160,221,204)),new h(192,255,238));this.lb[a].Ko(0,new h(160,221,204),new h(160,221,204));a+=1;this.lb[a]=new w("Caterer",new g(new h(54,57,62),new h(54,57,62)),new g(new h(255,255,255),new h(255,
255,255)),new h(54,57,62),new h(255,170,0),new g(new h(255,85,0),new h(-1,-1,-1)),new g(new h(54,57,62),new h(54,57,62)),new h(54,57,62));this.lb[a].Ko(0,new h(0,0,0),new h(0,0,0));a+=1;this.lb[a]=new w("Life32",new g(new h(255,255,255),new h(255,255,255)),new g(new h(0,0,128),new h(0,0,128)),new h(255,255,255),new h(0,0,128),new g(new h(0,0,64),new h(-1,-1,-1)),new g(new h(255,255,255),new h(255,255,255)),new h(255,255,255));this.lb[a].Ko(5,new h(192,192,192),new h(128,128,128));a+=1;this.lb[a]=
new w("Margolus",new g(new h(0,0,47),new h(0,0,128)),new g(new h(255,255,0),new h(255,255,255)),new h(0,0,0),new h(255,255,0),new g(new h(64,64,128),new h(-1,-1,-1)),new g(new h(0,0,47),new h(0,0,128)),new h(0,0,0));this.lb[a].Ko(2,new h(32,32,255),new h(64,64,128));a+=1;this.lb[a]=new w("PCA",new g(new h(24,24,24),new h(64,64,64)),new g(new h(176,176,176),new h(240,240,240)),new h(0,0,0),new h(240,240,240),new g(new h(160,160,160),new h(-1,-1,-1)),new g(new h(24,24,24),new h(64,64,64)),new h(0,0,
0));a+=1;this.lb[a]=new w("Book",new g(new h(255,220,192),new h(192,220,255)),new g(new h(0,0,0),new h(0,0,0)),new h(255,255,255),new h(0,0,0),new g(new h(24,24,24),new h(128,128,128)),new g(new h(255,220,192),new h(192,220,255)),new h(255,255,255));this.lb[a].Ko(0,new h(192,192,192),new h(209,209,209));this.lb[a+1]=new w(Keywords.Kq,new g(new h(0,0,0),new h(0,0,0)),new g(new h(0,0,0),new h(0,0,0)),new h(0,0,0),new h(0,0,0),new g(new h(0,0,0),new h(0,0,0)),new g(new h(0,0,0),new h(0,0,0)),new h(0,
0,0));this.Ue=this.lb.length-1;this.cf=new g(new h(0,0,0),new h(0,0,0));this.Xc=new g(new h(0,0,0),new h(0,0,0));this.lf=new h(0,0,0);this.uh=new h(0,0,0);this.hf=new g(new h(0,0,0),new h(0,0,0));this.Gf=new g(new h(0,0,0),new h(0,0,0));this.mi=new h(0,0,0);this.Yd=new g(new h(0,0,0),new h(0,0,0));this.oc=new g(new h(0,0,0),new h(0,0,0));this.Ke=new h(0,0,0);this.dg=new h(0,0,0);this.se=new g(new h(0,0,0),new h(0,0,0));this.ef=new g(new h(0,0,0),new h(0,0,0));this.Qg=new h(0,0,0)};p.prototype.YN=
function(a,c,d){var e=this.lb[a],m=this.Il;this.Df=a;this.cf.set(this.Yd);this.Xc.set(this.oc);this.lf.set(this.Ke);this.uh.set(this.dg);this.Gf.set(this.ef);this.hf.set(this.se);this.mi.set(this.Qg);this.Yd.set(e.yb);this.oc.set(e.mb);this.Ke.set(e.hb);this.dg.set(e.wg);this.ef.set(e.Jc);this.se.set(e.ac);this.Qg.set(e.Si);this.Gn=c;this.Il=e.mL(this.Ea);m&&!this.Il&&!this.sa&&2>=this.i&&this.hB();this.Md=e.Ph;this.cg=e.Qh;a!==this.Ue&&this.la?this.pf=2:this.pf=e.nm;this.ie?(this.hg=-16777216|(this.Md&
255)<<16|(this.Md>>8&255)<<8|this.Md>>16,this.gg=-16777216|(this.cg&255)<<16|(this.cg>>8&255)<<8|this.cg>>16):(this.hg=this.Md>>16<<24|(this.Md>>8&255)<<16|(this.Md&255)<<8|255,this.gg=this.cg>>16<<24|(this.cg>>8&255)<<16|(this.cg&255)<<8|255);d.ZD()};p.prototype.Ny=function(){this.Qd?this.Dx():this.Ex()};p.prototype.Dx=function(){var a=this.rp,c;for(c=0;512>c;c+=1){var d=c&128;var e=c&256;var m=c&127;var n=0;0!==d&&(n=(m+1&127)+64<<8);0!==e&&(n|=(m&127)+64);a[c]=n}};p.prototype.Ex=function(){var a=
this.rp,c=this.ff,d=this.Hb,e=this.bl,m=this.Ne,n,q=new Uint8Array(256);q[0]=0;q[c+1]=d;for(n=1;n<c+1;n+=1)q[n]=Math.min(Math.max(n-1,e),m),q[n+c+1]=Math.max(Math.min(n+1,c),d);if(0===this.O)for(n=d;n<=c;n+=1)q[n]=0;else this.O<m&&(q[m-this.O]=1);for(n=0;65536>n;n+=1)a[n]=q[n>>8]<<8|q[n&255]};p.prototype.RM=function(){var a;for(a=0;a<this.lb.length;a+=1){var c=this.lb[a];if(c.hm)if(2>=this.i)c.ac.aa.set(c.wg);else{var d=1/(this.i-2);c.ac.aa.red=c.ac.Z.red*d+c.wg.red*(1-d)|0;c.ac.aa.green=c.ac.Z.green*
d+c.wg.green*(1-d)|0;c.ac.aa.blue=c.ac.Z.blue*d+c.wg.blue*(1-d)|0}}};p.prototype.eE=function(){var a;var c=(this.Gn-1)/this.Xl;if(!this.Pa)if(this.T)for(a=0;a<k.zu.length;a+=1){if(this.Sa[a+this.O]=k.zu[a][0],this.Ra[a+this.O]=k.zu[a][1],this.Qa[a+this.O]=k.zu[a][2],this.ec&&this.ec.length>=a){var d=this.ec[a];-1!==d&&(this.Sa[a+this.O]=d>>16,this.Ra[a+this.O]=d>>8&255,this.Qa[a+this.O]=d&255)}}else if(2<this.i||this.ga){a=0;this.ga?(this.Sa[a]=this.ke[a]>>16,this.Ra[a]=this.ke[a]>>8&255,this.Qa[a]=
this.ke[a]&255):(this.Sa[a]=this.mi.red*c+this.Qg.red*(1-c),this.Ra[a]=this.mi.green*c+this.Qg.green*(1-c),this.Qa[a]=this.mi.blue*c+this.Qg.blue*(1-c));for(a=1;a<this.i-1;a+=1){d=3>=this.i?0:(a-1)/(this.i-3);if(this.N&&18<=this.Df)this.Sa[a+this.O]=k.sp[a][0],this.Ra[a+this.O]=k.sp[a][1],this.Qa[a+this.O]=k.sp[a][2];else if(this.ga)this.Sa[a]=this.ke[a]>>16,this.Ra[a]=this.ke[a]>>8&255,this.Qa[a]=this.ke[a]&255;else{var e=this.hf.aa.red*d+this.hf.Z.red*(1-d);var m=this.se.aa.red*d+this.se.Z.red*
(1-d);this.Sa[a+this.O]=e*c+m*(1-c);e=this.hf.aa.green*d+this.hf.Z.green*(1-d);m=this.se.aa.green*d+this.se.Z.green*(1-d);this.Ra[a+this.O]=e*c+m*(1-c);e=this.hf.aa.blue*d+this.hf.Z.blue*(1-d);m=this.se.aa.blue*d+this.se.Z.blue*(1-d);this.Qa[a+this.O]=e*c+m*(1-c)}this.ec&&this.ec.length>=a&&(d=this.sa||this.N||this.ga?this.ec[a]:this.ec[this.i-a],-1!==d&&(this.Sa[a+this.O]=d>>16,this.Ra[a+this.O]=d>>8&255,this.Qa[a+this.O]=d&255))}a=this.i-1;this.N&&18<=this.Df?(this.Sa[a+this.O]=k.sp[a][0],this.Ra[a+
this.O]=k.sp[a][1],this.Qa[a+this.O]=k.sp[a][2]):this.ga?(this.Sa[a]=this.ke[a]>>16,this.Ra[a]=this.ke[a]>>8&255,this.Qa[a]=this.ke[a]&255):(this.Sa[a+this.O]=this.uh.red*c+this.dg.red*(1-c),this.Ra[a+this.O]=this.uh.green*c+this.dg.green*(1-c),this.Qa[a+this.O]=this.uh.blue*c+this.dg.blue*(1-c));this.ec&&this.ec.length>=a&&(d=this.sa||this.N||this.ga?this.ec[a]:this.ec[this.i-a],-1!==d&&(this.Sa[a+this.O]=d>>16,this.Ra[a+this.O]=d>>8&255,this.Qa[a+this.O]=d&255));for(a=0;a<this.O;a+=1)d=1<this.O?
1-a/(this.O-1):1,e=this.Gf.Z.red*d+this.Gf.aa.red*(1-d),m=this.ef.Z.red*d+this.ef.aa.red*(1-d),this.Sa[a+1]=e*c+m*(1-c),e=this.Gf.Z.green*d+this.Gf.aa.green*(1-d),m=this.ef.Z.green*d+this.ef.aa.green*(1-d),this.Ra[a+1]=e*c+m*(1-c),e=this.Gf.Z.blue*d+this.Gf.aa.blue*(1-d),m=this.ef.Z.blue*d+this.ef.aa.blue*(1-d),this.Qa[a+1]=e*c+m*(1-c);this.ec&&0<this.ec.length&&(d=this.ec[0],-1!==d&&(this.Sa[0]=d>>16,this.Ra[0]=d>>8&255,this.Qa[0]=d&255))}else{a=0;this.Sa[a]=this.lf.red*c+this.Ke.red*(1-c);this.Ra[a]=
this.lf.green*c+this.Ke.green*(1-c);this.Qa[a]=this.lf.blue*c+this.Ke.blue*(1-c);if(0===this.O)for(a=1;a<=this.Ne;a+=1)this.Sa[a]=this.lf.red*c+this.Ke.red*(1-c),this.Ra[a]=this.lf.green*c+this.Ke.green*(1-c),this.Qa[a]=this.lf.blue*c+this.Ke.blue*(1-c);else{var n=this.Ne-this.O+1;for(a=1;a<n;a+=1)this.Sa[a]=this.Xc.Z.red*c+this.oc.Z.red*(1-c),this.Ra[a]=this.Xc.Z.green*c+this.oc.Z.green*(1-c),this.Qa[a]=this.Xc.Z.blue*c+this.oc.Z.blue*(1-c);for(a=n;a<=this.Ne;a+=1)d=this.Ne===n?1:1-(a-n)/(this.Ne-
n),e=this.Xc.Z.red*d+this.Xc.aa.red*(1-d),m=this.oc.Z.red*d+this.oc.aa.red*(1-d),this.Sa[a]=e*c+m*(1-c),e=this.Xc.Z.green*d+this.Xc.aa.green*(1-d),m=this.oc.Z.green*d+this.oc.aa.green*(1-d),this.Ra[a]=e*c+m*(1-c),e=this.Xc.Z.blue*d+this.Xc.aa.blue*(1-d),m=this.oc.Z.blue*d+this.oc.aa.blue*(1-d),this.Qa[a]=e*c+m*(1-c)}for(a=this.Hb;a<=this.ff;a+=1)d=0===this.dj?1:a<this.Hb+this.dj?1-(a-this.Hb)/this.dj:0,e=this.cf.Z.red*d+this.cf.aa.red*(1-d),m=this.Yd.Z.red*d+this.Yd.aa.red*(1-d),this.Sa[a]=e*c+m*
(1-c),e=this.cf.Z.green*d+this.cf.aa.green*(1-d),m=this.Yd.Z.green*d+this.Yd.aa.green*(1-d),this.Ra[a]=e*c+m*(1-c),e=this.cf.Z.blue*d+this.cf.aa.blue*(1-d),m=this.Yd.Z.blue*d+this.Yd.aa.blue*(1-d),this.Qa[a]=e*c+m*(1-c)}};p.prototype.fE=function(a,c){var d=this.Sa,e=this.Ra,m=this.Qa,n;for(n=0;n<a.length;n+=1){var q=c&&-1!==c[n]?c[n]:a[n];d[n]=q>>16;e[n]=q>>8&255;m[n]=q&255}this.Gn=0};p.prototype.NJ=function(a,c){var d=this.Sa,e=this.Ra,m=this.Qa,n=ViewConstants.Za,q;for(q=0;q<a.length;q+=1)c&&-1!==
c[q]?(d[128+n[q]]=c[q]>>16,e[128+n[q]]=c[q]>>8&255,m[128+n[q]]=c[q]&255):(d[128+n[q]]=a[q]>>16,e[128+n[q]]=a[q]>>8&255,m[128+n[q]]=a[q]&255)};p.prototype.Kd=function(a){this.Qd?this.Jx(a):this.Ix(a)};p.prototype.Jx=function(a){var c=this.De,d,e=255,m=15,n=15,q=0,u=0,y=[[0,1,0],[-1,0,0],[0,0,1],[0,-1,0],[1,0,0],[0,0,-1]],v=this.Sa,r=this.Ra,B=this.Qa,b=this.ci,l=this.S&&!this.sc||this.R&&!this.sc,f=this.Md,t=this.cg;for(d=1;240>=d;d+=1)c[d]=this.ie?-16777216|n*a<<16|m*a<<8|e*a:e*a<<24|m*a<<16|n*a<<
8|255,e+=6*y[u][0],m+=6*y[u][1],n+=6*y[u][2],q+=1,40===q&&(q=0,u+=1);for(d=0;128>d;d+=1)q=240*(d+1)/128|0,c[d]=c[q];for(d=127;0<=d;--d)c[d+64]=c[d],l&&(this.ie?(e=c[d]&255,m=c[d]>>8&255,n=c[d]>>16&255):(e=c[d]>>24,m=c[d]>>16&255,n=c[d]>>8&255),b[d+64]="#"+(16777216+((e<<16)+(m<<8)+n)).toString(16).substr(1));c[0]=this.ie?-16777216|B[0]*a<<16|r[0]*a<<8|v[0]*a:v[0]*a<<24|r[0]*a<<16|B[0]*a<<8|255;this.ie?(this.hg=-16777216|(f&255)<<16|(f>>8&255)<<8|f>>16,this.gg=-16777216|(t&255)<<16|(t>>8&255)<<8|t>>
16):(this.hg=f>>16<<24|(f>>8&255)<<16|(f&255)<<8|255,this.gg=t>>16<<24|(t>>8&255)<<16|(t&255)<<8|255);-1!==this.ya&&(d=this.Pb,c[d]=this.ie?-16777216|B[d]*a<<16|r[d]*a<<8|v[d]*a:v[d]*a<<24|r[d]*a<<16|B[d]*a<<8|255)};p.prototype.Ix=function(a){var c=this.Sa,d=this.Ra,e=this.Qa,m=this.De,n=this.Md,q=this.cg,u=this.ci,y=this.S&&!this.sc||this.R&&!this.sc,v;if(2<this.i)if(this.T)if(this.ie)for(v=0;v<=this.i+this.O;v+=1)m[v]=-16777216|e[v]*a<<16|d[v]*a<<8|c[v]*a;else for(v=0;v<=this.i+this.O;v+=1)m[v]=
c[v]*a<<24|d[v]*a<<16|e[v]*a<<8|255;else if(this.ie)for(v=0;v<=this.i+this.O;v+=1)m[v]=-16777216|e[v]*a<<16|d[v]*a<<8|c[v]*a,y&&(u[v]="#"+(16777216+((c[v]<<16)+(d[v]<<8)+e[v])).toString(16).substr(1));else for(v=0;v<=this.i+this.O;v+=1)m[v]=c[v]*a<<24|d[v]*a<<16|e[v]*a<<8|255,y&&(u[v]="#"+(16777216+((c[v]<<16)+(d[v]<<8)+e[v])).toString(16).substr(1));else if(this.ie){for(v=0;v<this.Hb;v+=1)m[v]=-16777216|e[v]<<16|d[v]<<8|c[v],y&&(u[v]="#"+(16777216+((c[v]<<16)+(d[v]<<8)+e[v])).toString(16).substr(1));
for(v=this.Hb;v<=this.ff;v+=1)m[v]=-16777216|e[v]*a<<16|d[v]*a<<8|c[v]*a,y&&(u[v]="#"+(16777216+((c[v]<<16)+(d[v]<<8)+e[v])).toString(16).substr(1));for(v=this.ff+1;256>v;v+=1)m[v]=-16777216|e[v]*a<<16|d[v]*a<<8|c[v]*a,y&&(u[v]="#"+(16777216+((c[v]<<16)+(d[v]<<8)+e[v])).toString(16).substr(1))}else{for(v=0;v<this.Hb;v+=1)m[v]=c[v]<<24|d[v]<<16|e[v]<<8|255,y&&(u[v]="#"+(16777216+((c[v]<<16)+(d[v]<<8)+e[v])).toString(16).substr(1));for(v=this.Hb;v<=this.ff;v+=1)m[v]=c[v]*a<<24|d[v]*a<<16|e[v]*a<<8|
255,y&&(u[v]="#"+(16777216+((c[v]<<16)+(d[v]<<8)+e[v])).toString(16).substr(1));for(v=this.ff+1;256>v;v+=1)m[v]=c[v]*a<<24|d[v]*a<<16|e[v]*a<<8|255,y&&(u[v]="#"+(16777216+((c[v]<<16)+(d[v]<<8)+e[v])).toString(16).substr(1))}this.ie?(this.hg=-16777216|(n&255)<<16|(n>>8&255)<<8|n>>16,this.gg=-16777216|(q&255)<<16|(q>>8&255)<<8|q>>16):(this.hg=n>>16<<24|(n>>8&255)<<16|(n&255)<<8|255,this.gg=q>>16<<24|(q>>8&255)<<16|(q&255)<<8|255);-1!==this.ya&&(v=this.Pb,m[v]=this.ie?-16777216|e[v]*a<<16|d[v]*a<<8|
c[v]*a:c[v]*a<<24|d[v]*a<<16|e[v]*a<<8|255,y&&(u[v]="#"+(16777216+((c[v]<<16)+(d[v]<<8)+e[v])).toString(16).substr(1)))};p.prototype.NN=function(){var a=this.Sa,c=this.Ra,d=this.Qa;this.Pb=-1!==this.ya&&256===this.i+this.O?2:255;-1!==this.ya&&256>this.i+this.O&&(this.ie?(a[this.Pb]=this.Tl&255,c[this.Pb]=this.Tl>>8&255,d[this.Pb]=this.Tl>>16&255):(a[this.Pb]=this.Tl>>24,c[this.Pb]=this.Tl>>16&255,d[this.Pb]=this.Tl>>8&255))};p.prototype.dr=function(a){var c=this.Lg,d=this.ca,e=this.Ma,m=this.Fc,n=
this.cc,q=this.me,u=this.ia,y=this.Ka,v=this.Da,r=this.qa,B=this.uf,b=this.hb;this.jd.Wa.fill(0);c.Wa.fill(0);a||(d.Wa.fill(b),e&&e.Wa.fill(b),m.Wa.fill(b),n&&(n.Wa.fill(b),q.Wa.fill(b)));u.Wa.fill(0);r.Wa.fill(0);B.Wa.fill(0);a||(y.Wa.fill(0),v.Wa.fill(0))};p.prototype.Wk=function(a,c){var d=k.QE,e;for(e=0;e<d;e+=1)a[e]=c[e]};p.prototype.dk=function(a,c){var d=k.uv,e;for(e=0;e<d;e+=1){var m=c[e>>9&448|e>>6&56|e>>3&7]<<3;m|=c[e>>8&448|e>>5&56|e>>2&7]<<2;m|=c[e>>7&448|e>>4&56|e>>1&7]<<1;m|=c[e>>6&
448|e>>3&56|e&7];a[e]=m}};p.prototype.di=function(a,c,d){if(d){var e=new Uint8Array(16);for(d=0;16>d;d+=1){var m=c[d];e[m]=d}for(d=0;d<k.Yn;d+=1)m=(e[d>>12]&1)<<2,m|=(e[d>>8&15]&2)<<2,m|=(e[d>>4&15]&4)>>2,m|=(e[d&15]&8)>>2,a[d]=m}else for(d=0;d<k.Yn;d+=1)m=(d>>12&1)<<2,m|=(d>>8&2)<<2,m|=(d>>4&4)>>2,m|=(d&8)>>2,a[d]=c[m]};p.prototype.Ff=function(a,c){var d,e,m,n;for(d=0;d<k.om;d+=1){var q=d>>8;var u=d&255;var y=192;var v=6;for(e=n=m=0;4>e;e+=1){var r=0===v?(u&y)<<2|q&y:(u&y)>>v-2|(q&y)>>v;r=(r&8)>>
1|(r&4)<<1|(r&2)>>1|(r&1)<<1;r=c[r];r=(r&8)>>1|(r&4)<<1|(r&2)>>1|(r&1)<<1;m<<=2;n<<=2;m|=r>>2&3;n|=r&3;y>>=2;v-=2}a[d]=n<<8|m}};p.prototype.yd=function(a,c){var d,e=0,m=!0,n=new Uint8Array(16);for(d=0;m&&16>d;){var q=1<<a[d];0!==(e&q)?m=!1:(e|=q,d+=1)}if(m){for(d=0;16>d;d+=1)e=a[d],n[e]=d;c&&a.set(n)}return m};p.prototype.Pt=function(a,c){var d;for(d=0;16>d;d+=1)c[d]=a[15-d];for(d=0;16>d;d+=1)a[d]=15-a[d]};p.prototype.Kx=function(){var a=this.Fe,c,d,e,m,n,q=this.Al,u=this.Jk,y=this.Kk;for(c=0;1<<
c<a;)c+=1;var v=(this.pg+1)*c;if(v<=k.PL){this.Je=this.u.P(Uint8,1<<v,"Life.ruleTreeLookup");v=this.Vu=c;var r=v+c;var B=r+c;var b=B+c;if(4===this.pg)for(c=0;c<a;c+=1)for(e=0;e<a;e+=1)for(n=0;n<a;n+=1)for(m=0;m<a;m+=1)for(d=0;d<a;d+=1){var l=c<<v|e<<r|n<<B|m<<b|d;this.Je[l]=y[u[u[u[u[q+c]+m]+e]+d]+n]}else this.Je=null}else this.Je=null};p.prototype.DO=function(a){var c=this.R?this.D.TB:this.D.Nj,d=this.R?this.D.PB:this.D.OB,e=this.D.qc,m=this.R?k.QE:k.nL,n=!1,q,u=null,y=c.length;this.qc=e;if(this.ga)this.Je=
null,this.Kx();else{if(this.qc){if(this.la||this.N)y=16;var v=0;for(q=!0;v<y&&q;)c[v]!==d[v]?q=!1:v+=1;q&&(this.qc=!1,v=a.Ab.indexOf("|"),-1!==v&&(a.Ab=a.Ab.substr(0,v)),v=a.Vc.indexOf("|"),-1!==v&&(a.Vc=a.Vc.substr(0,v)));if(this.qc&&(this.la||this.N))for(v=0;v<y;v+=1)a=c[v],c[v]=d[v],d[v]=a}this.ue=this.Kc=this.If=this.te=this.Yi=this.yh=this.ig=this.li=null;if(this.N)this.te=this.u.P(Uint16,k.Yn,"Life.PCALookup1"),e?(this.If=this.u.P(Uint16,k.Yn,"Life.PCALookup2"),this.di(this.If,c,!1),this.di(this.te,
d,!1),this.yd(c,!1)&&this.yd(d,!1)&&(this.Kc=this.u.P(Uint16,k.Yn,"Life.PCAReverseLookup1"),this.ue=this.u.P(Uint16,k.Yn,"Life.PCAReverseLookup2"),this.yd(d,!1),this.di(this.Kc,d,!0),this.yd(c,!1),this.di(this.ue,c,!0))):(this.di(this.te,c,!1),this.yd(c,!1)&&(this.Kc=this.u.P(Uint16,k.Yn,"Life.PCAsReverseLookup1"),this.di(this.Kc,c,!0)));else if(this.la){this.te=this.u.P(Uint16,k.om,"Life.margolusLookup1");if(15===c[0]&&0===c[15]){e=this.qc=!0;u=new Uint8Array(16);for(v=0;16>v;v+=1)u[v]=c[v];this.Pt(c,
d)}e?(this.If=this.u.P(Uint16,k.om,"Life.margolusLookup2"),this.Ff(this.If,c),this.Ff(this.te,d),u&&this.yd(u,!0)?(this.Kc=this.u.P(Uint16,k.om,"Life.margolusReverseLookup1"),this.ue=this.u.P(Uint16,k.om,"Life.margolusReverseLookup2"),this.Pt(u,d),this.Ff(this.Kc,d),this.Ff(this.ue,u)):this.yd(c,!1)&&this.yd(d,!1)&&(this.Kc=this.u.P(Uint16,k.om,"Life.margolusReverseLookup1"),this.ue=this.u.P(Uint16,k.om,"Life.margolusReverseLookup2"),this.yd(c,!0),this.Ff(this.Kc,c),this.yd(d,!0),this.Ff(this.ue,
d))):(this.Ff(this.te,c),this.yd(c,!0)&&(this.Kc=this.u.P(Uint16,k.om,"Life.margolusReverseLookup1"),this.Ff(this.Kc,c)))}else if(this.R)this.yh=this.u.P(Uint8,k.PE,"Life.indexLookupTri1"),e?(this.Yi=this.u.P(Uint8,k.PE,"Life.indexLookupTri2"),this.Wk(this.Yi,c),this.Wk(this.yh,d)):this.Wk(this.yh,c);else{this.li=this.u.P(Uint8,k.uv,"Life.indexLookup63");if(-1===this.Vd&&c[0]){if(!c[m-1]){for(v=0;v<m/2;v+=1)a=c[v],c[v]=c[m-v-1],c[m-v-1]=a;n=!0;this.ig=this.u.P(Uint8,k.uv,"Life.indexLookup632");this.dk(this.ig,
c)}for(v=0;v<m/2;v+=1)a=c[v],c[v]=1-c[m-v-1],c[m-v-1]=1-a}this.qc?(this.ig=this.u.P(Uint8,k.uv,"Life.indexLookup632"),this.dk(this.ig,c),this.dk(this.li,d)):(this.dk(this.li,c),n&&(this.qc=!0))}}};p.prototype.G=function(a){var c=0;0!==(a&32768)?c=0:0!==(a&16384)?c=1:0!==(a&8192)?c=2:0!==(a&4096)?c=3:0!==(a&2048)?c=4:0!==(a&1024)?c=5:0!==(a&512)?c=6:0!==(a&256)?c=7:0!==(a&128)?c=8:0!==(a&64)?c=9:0!==(a&32)?c=10:0!==(a&16)?c=11:0!==(a&8)?c=12:0!==(a&4)?c=13:0!==(a&2)?c=14:0!==(a&1)&&(c=15);return c};
p.prototype.U=function(a){var c=0;0!==(a&1)?c=15:0!==(a&2)?c=14:0!==(a&4)?c=13:0!==(a&8)?c=12:0!==(a&16)?c=11:0!==(a&32)?c=10:0!==(a&64)?c=9:0!==(a&128)?c=8:0!==(a&256)?c=7:0!==(a&512)?c=6:0!==(a&1024)?c=5:0!==(a&2048)?c=4:0!==(a&4096)?c=3:0!==(a&8192)?c=2:0!==(a&16384)&&(c=1);return c};p.prototype.Fx=function(a){var c=this.cc,d=this.ia,e=this.width,m=this.height,n,q=this.M.A,u=this.M.o,y=this.M.l,v=this.M.v,r,B;for(r=0;r<m;r+=1){var b=c[r];var l=d[r>>4];for(B=n=0;B<e;B+=1)0!==b[B]&&(l[B>>8]|=1<<
(~(B>>4)&15),n|=b[B],B<y&&(y=B),B>v&&(v=B));n&&(r<u&&(u=r),r>q&&(q=r))}a||(this.M.A=q,this.M.o=u,this.M.l=y,this.M.v=v)};p.prototype.zI=function(){var a,c,d,e=this.fb,m=this.qa,n=this.ia,q,u=this.ua,y=this.pa>>4,v=this.sd;var r=0;var B=r+16;n.Wa.fill(0);for(c=0;c<u;c+=1){var b=0;var l=m[c];var f=n[c];var t=0<c?n[c-1]:v;var x=c<u-1?n[c+1]:v;l[0]&=32767;l[y-1]&=65534;for(d=0;d<y;d+=1)if(q=l[d]){var z=f[d];var A=t[d];var C=x[d];for(a=15;0<=a;--a){if(0!==(q&1<<a)){var I=!1;var G=0;var F=r;var E=e[F];
if(E=E[b])I=!0,0!==(E&32768)&&(G|=k.Lb,G|=k.Sb),0!==(E&1)&&(G|=k.kb,G|=k.Tb),G|=k.Ib;for(F+=1;F<B-1;){E=e[F];if(E=E[b])I=!0,0!==(E&32768)&&(G|=k.Lb),0!==(E&1)&&(G|=k.kb);F+=1}E=e[F];if(E=E[b])I=!0,0!==(E&32768)&&(G|=k.Lb,G|=k.Xb),0!==(E&1)&&(G|=k.kb,G|=k.wb),G|=k.xb;I&&(z|=1<<a,G&&(0!==(G&k.Lb)&&(15>a?z|=1<<a+1:0<d&&(f[d-1]|=1)),0!==(G&k.kb)&&(0<a?z|=1<<a-1:d<y-1&&(f[d+1]|=32768)),0!==(G&k.Ib)&&(A|=1<<a),0!==(G&k.xb)&&(C|=1<<a),0!==(G&k.Sb)&&(15>a?A|=1<<a+1:0<d&&(t[d-1]|=1)),0!==(G&k.Tb)&&(0<a?A|=
1<<a-1:d<y-1&&(t[d+1]|=32768)),0!==(G&k.Xb)&&(15>a?C|=1<<a+1:0<d&&(x[d-1]|=1)),0!==(G&k.wb)&&(0<a?C|=1<<a-1:d<y-1&&(x[d+1]|=32768))))}b+=1}f[d]|=z;0<c&&(t[d]|=A);c<u-1&&(x[d]|=C)}else b+=16;r+=16;B+=16}v.fill(0)};p.prototype.AI=function(){var a,c,d,e=this.fb,m=this.qa,n=this.ca,q=this.ia,u,y=this.ua,v=this.pa>>4,r=this.sd;var B=0;var b=B+16;q.Wa.fill(0);for(c=0;c<y;c+=1){var l=0;var f=m[c];var t=q[c];var x=0<c?q[c-1]:r;var z=c<y-1?q[c+1]:r;f[0]&=32767;f[v-1]&=65534;for(d=0;d<v;d+=1)if(u=f[d]){var A=
t[d];var C=x[d];var I=z[d];for(a=15;0<=a;--a){if(0!==(u&1<<a)){var G=!1;var F=0;var E=B;var D=e[E];var H=n[E];D=D[l];var N=l<<4;0<H[N]&&(D|=32768);N+=1;0<H[N]&&(D|=16384);N+=1;0<H[N]&&(D|=8192);N+=1;0<H[N]&&(D|=4096);N+=1;0<H[N]&&(D|=2048);N+=1;0<H[N]&&(D|=1024);N+=1;0<H[N]&&(D|=512);N+=1;0<H[N]&&(D|=256);N+=1;0<H[N]&&(D|=128);N+=1;0<H[N]&&(D|=64);N+=1;0<H[N]&&(D|=32);N+=1;0<H[N]&&(D|=16);N+=1;0<H[N]&&(D|=8);N+=1;0<H[N]&&(D|=4);N+=1;0<H[N]&&(D|=2);N+=1;0<H[N]&&(D|=1);D&&(G=!0,0!==(D&32768)&&(F|=k.Lb,
F|=k.Sb),0!==(D&1)&&(F|=k.kb,F|=k.Tb),F|=k.Ib);for(E+=1;E<b-1;)D=e[E],H=n[E],D=D[l],N=l<<4,0<H[N]&&(D|=32768),N+=1,0<H[N]&&(D|=16384),N+=1,0<H[N]&&(D|=8192),N+=1,0<H[N]&&(D|=4096),N+=1,0<H[N]&&(D|=2048),N+=1,0<H[N]&&(D|=1024),N+=1,0<H[N]&&(D|=512),N+=1,0<H[N]&&(D|=256),N+=1,0<H[N]&&(D|=128),N+=1,0<H[N]&&(D|=64),N+=1,0<H[N]&&(D|=32),N+=1,0<H[N]&&(D|=16),N+=1,0<H[N]&&(D|=8),N+=1,0<H[N]&&(D|=4),N+=1,0<H[N]&&(D|=2),N+=1,0<H[N]&&(D|=1),D&&(G=!0,0!==(D&32768)&&(F|=k.Lb),0!==(D&1)&&(F|=k.kb)),E+=1;D=e[E];
H=n[E];D=D[l];N=l<<4;0<H[N]&&(D|=32768);N+=1;0<H[N]&&(D|=16384);N+=1;0<H[N]&&(D|=8192);N+=1;0<H[N]&&(D|=4096);N+=1;0<H[N]&&(D|=2048);N+=1;0<H[N]&&(D|=1024);N+=1;0<H[N]&&(D|=512);N+=1;0<H[N]&&(D|=256);N+=1;0<H[N]&&(D|=128);N+=1;0<H[N]&&(D|=64);N+=1;0<H[N]&&(D|=32);N+=1;0<H[N]&&(D|=16);N+=1;0<H[N]&&(D|=8);N+=1;0<H[N]&&(D|=4);N+=1;0<H[N]&&(D|=2);N+=1;0<H[N]&&(D|=1);D&&(G=!0,0!==(D&32768)&&(F|=k.Lb,F|=k.Xb),0!==(D&1)&&(F|=k.kb,F|=k.wb),F|=k.xb);G&&(A|=1<<a,F&&(0!==(F&k.Lb)&&(15>a?A|=1<<a+1:0<d&&(t[d-
1]|=1)),0!==(F&k.kb)&&(0<a?A|=1<<a-1:d<v-1&&(t[d+1]|=32768)),0!==(F&k.Ib)&&(C|=1<<a),0!==(F&k.xb)&&(I|=1<<a),0!==(F&k.Sb)&&(15>a?C|=1<<a+1:0<d&&(x[d-1]|=1)),0!==(F&k.Tb)&&(0<a?C|=1<<a-1:d<v-1&&(x[d+1]|=32768)),0!==(F&k.Xb)&&(15>a?I|=1<<a+1:0<d&&(z[d-1]|=1)),0!==(F&k.wb)&&(0<a?I|=1<<a-1:d<v-1&&(z[d+1]|=32768))))}l+=1}t[d]|=A;0<c&&(x[d]|=C);c<y-1&&(z[d]|=I)}else l+=16;B+=16;b+=16}r.fill(0)};p.prototype.bh=function(){var a,c,d=this.width>>4,e=this.height,m=this.width,n=this.cc;var q=this.ca;var u=this.M,
y=this.Na,v=this.Kf,r=this.height,B=-1,b=this.width,l=-1,f=this.height,t=-1,x=this.width,z=-1,A,C=this.ka;if(this.Sg){this.Sg=!1;(this.N||this.ga||this.T)&&0!==(this.counter&1)&&(q=this.Ma);var I=0!==(this.counter&1)?this.Vb:this.fb;if(n)for(c=0;c<e;c+=1){var G=n[c];for(a=A=0;a<m;a+=1){var F=G[a];A|=F;F&&(a<x&&(x=a),a>z&&(z=a))}A&&(c<f&&(f=c),c>t&&(t=c))}C.fill(0);if(-1!==this.i)for(c=0;c<e;c+=1){d=q[c];for(a=A=0;a<m;a+=1)F=d[a],A|=F,F&&(a<b&&(b=a),a>l&&(l=a));A&&(c<r&&(r=c),c>B&&(B=c))}else{for(c=
0;c<e;c+=1){q=I[c];for(a=A=0;a<d;a+=1)F=q[a],A|=F,C[a]|=F;A&&(c<r&&(r=c),c>B&&(B=c))}for(a=0;a<d;a+=1)C[a]&&(a<b&&(b=a),a>l&&(l=a));b=(b<<4)+this.G(C[b]);l=(l<<4)+this.U(C[l])}if(0>B||r>=e||b>=m||0>l)r=B=e>>1,l=b=m>>1;n&&(t>B&&(B=t),f<r&&(r=f),x<b&&(b=x),z>l&&(l=z));B>this.height-1&&(B=this.height-1);0>r&&(r=0);0>b&&(b=0);l>this.width-1&&(l=this.width-1);u.A=B;u.o=r;u.l=b;u.v=l;y.A=B;y.o=r;y.l=b;y.v=l;v.A=B;v.o=r;v.l=b;v.v=l}};p.prototype.LB=function(a){var c,d,e=this.width>>4,m=this.height,n=this.width,
q=this.cc;var u=this.ca;var y=this.M,v=this.Na,r=this.Kf,B=this.height,b=-1,l=this.width,f=-1,t=this.height,x=-1,z=this.width,A=-1,C,I=this.ka,G=this.Ka,F=this.Da;if(0!==(this.counter&1)){var E=this.Vb;var D=this.qa;var H=this.ia}else E=this.fb,D=this.ia,H=this.qa;if(q&&!a)for(d=0;d<m;d+=1){var N=q[d];for(c=C=0;c<n;c+=1){var K=N[c];C|=K;K&&(c<z&&(z=c),c>A&&(A=c))}C&&(d<t&&(t=d),d>x&&(x=d))}I.fill(0);H.Wa.fill(0);if(-1!==this.i)for(d=0;d<m;d+=1){e=u[d];for(c=C=0;c<n;c+=1)K=e[c],C|=K,K&&(c<l&&(l=c),
c>f&&(f=c));C&&(d<B&&(B=d),d>b&&(b=d))}else{for(d=0;d<m;d+=1){u=E[d];for(c=C=0;c<e;c+=1)K=u[c],C|=K,I[c]|=K;C&&(d<B&&(B=d),d>b&&(b=d))}for(c=0;c<e;c+=1)I[c]&&(c<l&&(l=c),c>f&&(f=c));l=(l<<4)+this.G(I[l]);f=(f<<4)+this.U(I[f])}if(0>b||B>=m||l>=n||0>f)B=b=m>>1,f=l=n>>1,x=b,t=B,z=l,A=f;q&&!a&&(x<b&&(b=x),t>B&&(B=t),z<l&&(l=z),A>f&&(f=A));b>this.height-1&&(b=this.height-1);0>B&&(B=0);0>l&&(l=0);f>this.width-1&&(f=this.width-1);y.A=b;y.o=B;y.l=l;y.v=f;v.A=b;v.o=B;v.l=l;v.v=f;r.A=b;r.o=B;r.l=l;r.v=f;0<
l&&--l;0<B&&--B;f<this.width-1&&(f+=1);b<this.height-1&&(b+=1);K=b>>4;l>>=8;f>>=8;for(d=B>>4;d<=K;d+=1)for(B=H[d],c=l;c<=f;c+=1)B[c]=-1;-1!==this.i?this.AI():this.zI();q&&(this.Fx(a),r.A=y.A,r.o=y.o,r.l=y.l,r.v=y.v);Array.Ih(D,H);Array.Ih(D,G);Array.Ih(D,F)};p.prototype.iA=function(a,c){var d=this.la?-1:0;var e=Math.round((this.width-this.Ca)/2)+d,m=Math.round((this.height-this.xa)/2)+d,n=e+this.Ca-1,q=m+this.xa-1,u=e-a>>4,y=n+a>>4,v=e-a>>4,r=n+a>>4,B=~(1<<(~(e-a)&15)),b=~(1<<(~(n+a)&15)),l=this.Wf,
f=0;if(!this.N||this.ga){d=0!==(this.counter&1)?this.Vb:this.fb;var t=d[q+a];var x=d[m-a];if(0===this.Ca)for(y=this.width>>4,u=0;u<y;u+=1)f+=l[x[u]],x[u]=0,f+=l[t[u]],t[u]=0;else if(0===this.xa)for(m=0,q=this.height,y=0;y<q;y+=1)t=d[y],t[v]&~B&&(f+=1),t[v]&=B,t[r]&~b&&(f+=1),t[r]&=b;else{for(;u<=y;u+=1)f+=l[x[u]],x[u]=0,f+=l[t[u]],t[u]=0;for(y=m-a+1;y<=q+a-1;y+=1)t=d[y],t[v]&~B&&(f+=1),t[v]&=B,t[r]&~b&&(f+=1),t[r]&=b}c&&(this.oa-=f)}if(-1!==this.i)if(d=this.ca,(this.N||this.ga||this.T)&&0!==(this.counter&
1)&&(d=this.Ma),e-=a,n+=a,q+=a,m-=a,t=d[q],x=d[m],0===this.Ca)x.fill(0),t.fill(0);else if(0===this.xa)for(y=0;y<this.height;y+=1)d[y][e]=0,d[y][n]=0;else for(x.fill(0,e,n+1),t.fill(0,e,n+1),y=m+1;y<=q-1;y+=1)d[y][e]=0,d[y][n]=0};p.prototype.Qt=function(a,c,d){var e,m;this.ts+=1;for(m=0;m<a.length;m+=1){var n=a[m];for(e=0;e<n.length;e+=1)1===n[e]&&(this.Rj(c+e,d+m,0,!1),this.Ub+=1)}};p.prototype.$=function(a,c,d,e,m){var n,q,u=e+e,y=m+m,v=u+e,r=y+m,B=v+e,b=r+m,l=this.ca;var f=this.M.l;var t=this.M.v;
var x=this.M.o;var z=this.M.A;var A=this.Hb;c-=2;d-=2;var C=0;for(n=!0;n&&C<a.length;){var I=0;for(q=a[C];n&&I<q.length;){var G=q[I];var F=l[d+C][c+I];F<A&&0===G||F>=A&&1===G||(n=!1);I+=1}C+=1}if(n){I=c+3+e+e;C=d+3+m+m;q=0>e?f-1:t+1;var E=0>m?x-1:z+1;for(n=!1;!n&&I!==q&&C!==E;){var D=l[C];F=D[I];x=l[C+m][I];z=D[I+e];f=l[C+y][I];t=D[I+u];A=l[C+r][I];G=D[I+v];var H=l[C+b][I];var N=D[I+B];var K=l[C+b+m][I];var P=D[I+B+e];var J=l[C+b+m][I];var S=D[I+B+e];var X=l[C+b+y][I];D=D[I+B+u];(F|x|z|f|t|A|G|H|
N|K|P|J|S|X|D)&64?n=!0:(I+=e,C+=m)}n?this.Ch[this.Ch.length]={QK:a,x:c,y:d,aP:I,cP:C}:this.Qt(a,c,d)}return n};p.prototype.Sz=function(){var a,c=this.Ch.length,d;for(a=0;a<c;a+=1){var e=this.Ch[a];var m=e.aP;var n=e.cP;var q=0;for(d=!1;!d&&q<c;){if(q!==a){var u=this.Ch[q];u.x>=m-4&&u.x<=m+4&&u.y>=n-4&&u.y<=n+4&&(this.Qt(e.QK,e.x,e.y),d=!0)}q+=1}}};p.prototype.lA=function(){var a,c=this.M.l,d=this.M.v,e=this.M.o,m=this.M.A,n=this.ca,q=n[m],u=n[e],y=this.Hb;if(-1===this.ya){this.Ch=[];64>c&&(c=64);
d>this.width-64&&(d=this.width-64);64>e&&(e=64);m>this.height-64&&(m=this.height-64);for(a=c;a<=d;a+=1)u[a]>=y&&(this.$(this.vm,a,e,-1,1)||this.$(this.wm,a-1,e,-1,1)||this.$(this.ym,a,e,-1,1)||this.$(this.Cm,a-1,e,-1,1)||this.$(this.jm,a,e,1,1)||this.$(this.lm,a-1,e,1,1)||this.$(this.pm,a-1,e,1,1)||this.$(this.sm,a,e,1,1)),q[a]>=y&&(this.$(this.Ao,a,m-2,-1,-1)||this.$(this.Fo,a-1,m-2,-1,-1)||this.$(this.Ro,a,m-2,-1,-1)||this.$(this.ip,a-1,m-2,-1,-1)||this.$(this.Jm,a,m-2,1,-1)||this.$(this.po,a-1,
m-2,1,-1)||this.$(this.xo,a-1,m-2,1,-1)||this.$(this.yo,a,m-2,1,-1));for(a=e;a<=m;a+=1)e=n[a],e[c]>=y&&(this.$(this.vm,c,a,1,-1)||this.$(this.wm,c,a-1,1,-1)||this.$(this.ym,c,a,1,-1)||this.$(this.Cm,c,a-1,1,-1)||this.$(this.Ao,c,a-1,1,1)||this.$(this.Fo,c,a,1,1)||this.$(this.Ro,c,a,1,1)||this.$(this.ip,c,a-1,1,1)),e[d]>=y&&(this.$(this.jm,d-2,a,-1,-1)||this.$(this.lm,d-2,a-1,-1,-1)||this.$(this.pm,d-2,a,-1,-1)||this.$(this.sm,d-2,a-1,-1,-1)||this.$(this.Jm,d-2,a-1,-1,1)||this.$(this.po,d-2,a,-1,1)||
this.$(this.xo,d-2,a,-1,1)||this.$(this.yo,d-2,a-1,-1,1));this.Sz();this.bh()}};p.prototype.$B=function(){var a,c,d=this.la?-1:0,e=this.Ca,m=this.xa;for(c=0;1>=c;c+=1){var n=Math.round((this.width-e)/2-1)+d+c>>4;var q=Math.round((this.width+e)/2)+d-c>>4;var u=Math.round((this.height-m)/2-1+c)+d>>4;var y=Math.round((this.height+m)/2)+d-c>>4;0===m&&(u=0,y=(this.height>>4)-1);0===e&&(n=0,q=(this.width>>4)-1);0>n&&(n=0);0>u&&(u=0);q>=this.width>>4&&(q=(this.width>>4)-1);y>=this.height>>4&&(y=(this.height>>
4)-1);for(a=n;a<=q;a+=1){var v=-1;this.ia[u][a>>4]|=v;this.qa[u][a>>4]|=v;this.Ka[u][a>>4]|=v;this.Da[u][a>>4]|=v;this.ia[y][a>>4]|=v;this.qa[y][a>>4]|=v;this.Ka[y][a>>4]|=v;this.Da[y][a>>4]|=v}for(a=u;a<=y;a+=1)v=1<<(~n&15),this.ia[a][n>>4]|=v,this.qa[a][n>>4]|=v,this.Ka[a][n>>4]|=v,this.Da[a][n>>4]|=v,v=1<<(~q&15),this.ia[a][q>>4]|=v,this.qa[a][q>>4]|=v,this.Ka[a][q>>4]|=v,this.Da[a][q>>4]|=v}};p.prototype.ZH=function(a){var c=this.Ca,d=this.xa,e=this.la?-1:0,m=Math.round((this.width-c)/2)+e;e=
Math.round((this.height-d)/2)+e;var n=m+c-1,q=e+d-1,u=this.Dn,y=this.En,v=this.Da,r;0===this.Ca&&(m=0,n=this.width-1,c=this.width);0===this.xa&&(e=0,q=this.height-1,d=this.height);if(0!==this.xa)for(r=0;r<c;r+=1){var B=m+r;var b=m+(r+u+c)%c;var l=a[q][B];0!==l&&(a[e-1][b]=l,v[e-1>>4][b>>8]|=1<<(~(b>>4)&15),15===(e-1&15)&&(v[(e-1>>4)+1][b>>8]|=1<<(~(b>>4)&15)));b=m+(r-u+c)%c;l=a[e][B];0!==l&&(a[q+1][b]=l,v[q+1>>4][b>>8]|=1<<(~(b>>4)&15),0===(q+1&15)&&(v[(q+1>>4)-1][b>>8]|=1<<(~(b>>4)&15)))}if(0!==
this.Ca)for(r=0;r<d;r+=1)B=e+r,b=e+(r-y+d)%d,l=a[B][m],0!==l&&(a[b][n+1]=l,v[b>>4][n+1>>8]|=1<<(~(n+1>>4)&15),0===(n+1&15)&&(v[b>>4][n-15>>8]|=1<<(~(n-15>>4)&15))),b=e+(r+y+d)%d,l=a[B][n],0!==l&&(a[b][m-1]=l,v[b>>4][m-1>>8]|=1<<(~(m-1>>4)&15),15===(m-1&15)&&(v[b>>4][m+15>>8]|=1<<(~(m+15>>4)&15)));0!==this.Ca&&0!==this.xa&&(l=a[e+(d-1+y+d)%d][m+(-u+c)%c],a[e-1][n+1]=l,l=a[e+(d-1-y+d)%d][m+(c-1-u+c)%c],a[e-1][m-1]=l,l=a[e+(y+d)%d][m+(u+c)%c],a[q+1][n+1]=l,l=a[e+(-y+d)%d][m+(c-1+u+c)%c],a[q+1][m-1]=
l)};p.prototype.VH=function(a){var c=this.Da,d=this.Ca,e=this.xa,m=this.la?-1:0,n=Math.round((this.width-d)/2)+m;m=Math.round((this.height-e)/2)+m;var q=n+d-1,u=m+e-1,y=this.Dn,v=this.En,r=this.tu,B=this.xy,b;for(b=0;b<d;b+=1){var l=n+b;var f=r?q-(b+y+d)%d:n+(b+y+d)%d;var t=a[u][l];0!==t&&(a[m-1][f]=t,c[m-1>>4][f>>8]|=1<<(~(f>>4)&15),15===(m-1&15)&&(c[(m-1>>4)+1][f>>8]|=1<<(~(f>>4)&15)));f=r?q-(b-y+d)%d:n+(b-y+d)%d;t=a[m][l];0!==t&&(a[u+1][f]=t,c[u+1>>4][f>>8]|=1<<(~(f>>4)&15),0===(u+1&15)&&(c[(u+
1>>4)-1][f>>8]|=1<<(~(f>>4)&15)))}for(b=0;b<e;b+=1)l=m+b,f=B?u-(b-v+e)%e:m+(b-v+e)%e,t=a[l][n],0!==t&&(a[f][q+1]=t,c[f>>4][q+1>>8]|=1<<(~(q+1>>4)&15),0===(q+1&15)&&(c[f>>4][q-15>>8]|=1<<(~(q-15>>4)&15))),f=B?u-(b+v+e)%e:m+(b+v+e)%e,t=a[l][q],0!==t&&(a[f][n-1]=t,c[f>>4][n-1>>8]|=1<<(~(n-1>>4)&15),15===(n-1&15)&&(c[f>>4][n+15>>8]|=1<<(~(n+15>>4)&15)));t=a[B?u-(e-1+v+e)%e:m+(e-1+v+e)%e][r?q-(-y+d)%d:n+(-y+d)%d];a[m-1][q+1]=t;t=a[B?u-(e-1+v+e)%e:m+(e-1+v+e)%e][r?q-(d-1-y+d)%d:n+(d-1-y+d)%d];a[m-1][n-
1]=t;t=a[B?u-(v+e)%e:m+(v+e)%e][r?q-(y+d)%d:n+(y+d)%d];a[u+1][q+1]=t;t=a[B?u-(v+e)%e:m+(v+e)%e][r?q-(d-1+y+d)%d:n+(d-1+y+d)%d];a[u+1][n-1]=t};p.prototype.UH=function(a){var c=this.Ka,d=this.Ca,e=this.xa,m=this.la?-1:0,n=Math.round((this.width-d)/2)+m;m=Math.round((this.height-e)/2)+m;var q=n+d-1,u=m+e-1,y;for(y=0;y<d;y+=1){var v=n+y;var r=q-y;var B=a[u][v];0!==B&&(a[m-1][r]=B,c[m-1>>4][r>>8]|=1<<(~(r>>4)&15),15===(m-1&15)&&(c[(m-1>>4)+1][r>>8]|=1<<(~(r>>4)&15)));B=a[m][v];0!==B&&(a[u+1][r]=B,c[u+
1>>4][r>>8]|=1<<(~(r>>4)&15),0===(u+1&15)&&(c[(u+1>>4)-1][r>>8]|=1<<(~(r>>4)&15)))}for(y=0;y<=e;y+=1)v=m+y,r=u-y,B=a[v][n],0!==B&&(a[r][q+1]=B,c[r>>4][q+1>>8]|=1<<(~(q+1>>4)&15),0===(q+1&15)&&(c[r>>4][q-15>>8]|=1<<(~(q-15>>4)&15))),B=a[v][q],0!==B&&(a[r][n-1]=B,c[r>>4][n-1>>8]|=1<<(~(n-1>>4)&15),15===(n-1&15)&&(c[r>>4][n+15>>8]|=1<<(~(n+15>>4)&15)));B=a[u][n];a[u+1][n-1]=B;B=a[u][q];a[u+1][q+1]=B;B=a[m][n];a[m-1][n-1]=B;B=a[m][q];a[m-1][q+1]=B};p.prototype.YH=function(a){var c=this.Ka,d=this.Ca,e=
this.xa,m=this.la?-1:0,n=Math.round((this.width-d)/2)+m;m=Math.round((this.height-e)/2)+m;var q=n+d-1;e=m+e-1;var u;for(u=0;u<d;u+=1){var y=m+u;var v=n+u;var r=a[y][n];0!==r&&(a[m-1][v]=r,c[m-1>>4][v>>8]|=1<<(~(v>>4)&15),15===(m-1&15)&&(c[(m-1>>4)+1][v>>8]|=1<<(~(v>>4)&15)));r=a[y][q];0!==r&&(a[e+1][v]=r,c[e+1>>4][v>>8]|=1<<(~(v>>4)&15),0===(e+1&15)&&(c[(e+1>>4)-1][v>>8]|=1<<(~(v>>4)&15)));r=a[m][v];0!==r&&(a[y][n-1]=r,c[y>>4][n-1>>8]|=1<<(~(n-1>>4)&15),15===(n-1&15)&&(c[y>>4][n+15>>8]|=1<<(~(n+15>>
4)&15)));r=a[e][v];0!==r&&(a[y][q+1]=r,c[y>>4][q+1>>8]|=1<<(~(q+1>>4)&15),0===(q+1&15)&&(c[y>>4][q-15>>8]|=1<<(~(q-15>>4)&15)))}r=a[e][n];a[e+1][n-1]=r;r=a[e][q];a[e+1][q+1]=r;r=a[m][n];a[m-1][n-1]=r;r=a[m][q];a[m-1][q+1]=r};p.prototype.eu=function(){var a=this.Ka,c=this.Ca,d=this.xa;var e=this.la?-1:0;var m=Math.round((this.width-c)/2)+e,n=Math.round((this.height-d)/2)+e,q=m+c-1,u=n+d-1,y=this.Dn,v=this.En,r=this.R&&0<m&&q<this.width-1,B;if(0!==(this.counter&1)){e=this.Vb;var b=this.qa}else e=this.fb,
b=this.ia;0===this.Ca&&(m=0,q=this.width-1,c=this.width);0===this.xa&&(n=0,u=this.height-1,d=this.height);if(0!==this.xa)for(B=0;B<c;B+=1){var l=m+B;var f=m+(B+y+c)%c;0!==(e[u][l>>4]&1<<(~l&15))&&(e[n-1][f>>4]|=1<<(~f&15),b[n-1>>4][f>>8]|=1<<(~(f>>4)&15),a[n-1>>4][f>>8]|=1<<(~(f>>4)&15),15===(n-1&15)&&(b[(n-1>>4)+1][f>>8]|=1<<(~(f>>4)&15),a[(n-1>>4)+1][f>>8]|=1<<(~(f>>4)&15)));f=m+(B-y+c)%c;0!==(e[n][l>>4]&1<<(~l&15))&&(e[u+1][f>>4]|=1<<(~f&15),b[u+1>>4][f>>8]|=1<<(~(f>>4)&15),a[u+1>>4][f>>8]|=1<<
(~(f>>4)&15),0===(u+1&15)&&(b[(u+1>>4)-1][f>>8]|=1<<(~(f>>4)&15),a[(u+1>>4)-1][f>>8]|=1<<(~(f>>4)&15)))}if(0!==this.Ca)for(B=0;B<d;B+=1)l=n+B,f=n+(B-v+d)%d,0!==(e[l][m>>4]&1<<(~m&15))&&(e[f][q+1>>4]|=1<<(~(q+1)&15),b[f>>4][q+1>>8]|=1<<(~(q+1>>4)&15),a[f>>4][q+1>>8]|=1<<(~(q+1>>4)&15),0===(q+1&15)&&(b[f>>4][q-15>>8]|=1<<(~(q-15>>4)&15),a[f>>4][q-15>>8]|=1<<(~(q-15>>4)&15))),r&&(m+=1,q+=1,0!==(e[l][m>>4]&1<<(~m&15))&&(e[f][q+1>>4]|=1<<(~(q+1)&15),b[f>>4][q+1>>8]|=1<<(~(q+1>>4)&15),a[f>>4][q+1>>8]|=
1<<(~(q+1>>4)&15),0===(q+1&15)&&(b[f>>4][q-15>>8]|=1<<(~(q-15>>4)&15),a[f>>4][q-15>>8]|=1<<(~(q-15>>4)&15))),--m,--q),f=n+(B+v+d)%d,0!==(e[l][q>>4]&1<<(~q&15))&&(e[f][m-1>>4]|=1<<(~(m-1)&15),b[f>>4][m-1>>8]|=1<<(~(m-1>>4)&15),a[f>>4][m-1>>8]|=1<<(~(m-1>>4)&15),15===(m-1&15)&&(b[f>>4][m+15>>8]|=1<<(~(m+15>>4)&15),a[f>>4][m+15>>8]|=1<<(~(m+15>>4)&15))),r&&(--m,--q,0!==(e[l][q>>4]&1<<(~q&15))&&(e[f][m-1>>4]|=1<<(~(m-1)&15),b[f>>4][m-1>>8]|=1<<(~(m-1>>4)&15),a[f>>4][m-1>>8]|=1<<(~(m-1>>4)&15),15===(m-
1&15)&&(b[f>>4][m+15>>8]|=1<<(~(m+15>>4)&15),a[f>>4][m+15>>8]|=1<<(~(m+15>>4)&15))),m+=1,q+=1);0!==this.Ca&&0!==this.xa&&(l=m+(-y+c)%c,e[n-1][q+1>>4]=0!==(e[n+(d-1+v+d)%d][l>>4]&1<<(~l&15))?e[n-1][q+1>>4]|1<<(~(q+1)&15):e[n-1][q+1>>4]&~(1<<(~(q+1)&15)),l=m+(c-1-y+c)%c,e[n-1][m-1>>4]=0!==(e[n+(d-1-v+d)%d][l>>4]&1<<(~l&15))?e[n-1][m-1>>4]|1<<(~(m-1)&15):e[n-1][m-1>>4]&~(1<<(~(m-1)&15)),l=m+(y+c)%c,e[u+1][q+1>>4]=0!==(e[n+(v+d)%d][l>>4]&1<<(~l&15))?e[u+1][q+1>>4]|1<<(~(q+1)&15):e[u+1][q+1>>4]&~(1<<(~(q+
1)&15)),l=m+(c-1+y+c)%c,e[u+1][m-1>>4]=0!==(e[n+(-v+d)%d][l>>4]&1<<(~l&15))?e[u+1][m-1>>4]|1<<(~(m-1)&15):e[u+1][m-1>>4]&~(1<<(~(m-1)&15)))};p.prototype.du=function(){var a=this.Ka,c=this.Ca,d=this.xa;var e=this.la?-1:0;var m=Math.round((this.width-c)/2)+e,n=Math.round((this.height-d)/2)+e,q=m+c-1,u=n+d-1,y=this.Dn,v=this.En,r=this.tu,B=this.xy,b;if(0!==(this.counter&1)){e=this.Vb;var l=this.qa}else e=this.fb,l=this.ia;for(b=0;b<c;b+=1){var f=m+b;var t=r?q-(b+y+c)%c:m+(b+y+c)%c;0!==(e[u][f>>4]&1<<
(~f&15))&&(e[n-1][t>>4]|=1<<(~t&15),l[n-1>>4][t>>8]|=1<<(~(t>>4)&15),a[n-1>>4][t>>8]|=1<<(~(t>>4)&15),15===(n-1&15)&&(l[(n-1>>4)+1][t>>8]|=1<<(~(t>>4)&15),a[(n-1>>4)+1][t>>8]|=1<<(~(t>>4)&15)));t=r?q-(b-y+c)%c:m+(b-y+c)%c;0!==(e[n][f>>4]&1<<(~f&15))&&(e[u+1][t>>4]|=1<<(~t&15),l[u+1>>4][t>>8]|=1<<(~(t>>4)&15),a[u+1>>4][t>>8]|=1<<(~(t>>4)&15),0===(u+1&15)&&(l[(u+1>>4)-1][t>>8]|=1<<(~(t>>4)&15),a[(u+1>>4)-1][t>>8]|=1<<(~(t>>4)&15)))}for(b=0;b<d;b+=1)f=n+b,t=B?u-(b-v+d)%d:n+(b-v+d)%d,0!==(e[f][m>>4]&
1<<(~m&15))&&(e[t][q+1>>4]|=1<<(~(q+1)&15),l[t>>4][q+1>>8]|=1<<(~(q+1>>4)&15),a[t>>4][q+1>>8]|=1<<(~(q+1>>4)&15),0===(q+1&15)&&(l[t>>4][q-15>>8]|=1<<(~(q-15>>4)&15),a[t>>4][q-15>>8]|=1<<(~(q-15>>4)&15))),t=B?u-(b+v+d)%d:n+(b+v+d)%d,0!==(e[f][q>>4]&1<<(~q&15))&&(e[t][m-1>>4]|=1<<(~(m-1)&15),l[t>>4][m-1>>8]|=1<<(~(m-1>>4)&15),a[t>>4][m-1>>8]|=1<<(~(m-1>>4)&15),15===(m-1&15)&&(l[t>>4][m+15>>8]|=1<<(~(m+15>>4)&15),a[t>>4][m+15>>8]|=1<<(~(m+15>>4)&15)));f=r?q-(-y+c)%c:m+(-y+c)%c;0!==(e[B?u-(d-1+v+d)%d:
n+(d-1+v+d)%d][f>>4]&1<<(~f&15))&&(e[n-1][q+1>>4]|=1<<(~(q+1)&15));f=r?q-(c-1-y+c)%c:m+(c-1-y+c)%c;0!==(e[B?u-(d-1+v+d)%d:n+(d-1+v+d)%d][f>>4]&1<<(~f&15))&&(e[n-1][m-1>>4]|=1<<(~(m-1)&15));f=r?q-(y+c)%c:m+(y+c)%c;0!==(e[B?u-(v+d)%d:n+(v+d)%d][f>>4]&1<<(~f&15))&&(e[u+1][q+1>>4]|=1<<(~(q+1)&15));f=r?q-(c-1+y+c)%c:m+(c-1+y+c)%c;0!==(e[B?u-(v+d)%d:n+(v+d)%d][f>>4]&1<<(~f&15))&&(e[u+1][m-1>>4]|=1<<(~(m-1)&15))};p.prototype.bu=function(){var a=this.Ka,c=this.Ca,d=this.xa;var e=this.la?-1:0;var m=Math.round((this.width-
c)/2)+e,n=Math.round((this.height-d)/2)+e,q=m+c-1,u=n+d-1,y;if(0!==(this.counter&1)){e=this.Vb;var v=this.qa}else e=this.fb,v=this.ia;for(y=0;y<c;y+=1){var r=m+y;var B=q-y;0!==(e[u][r>>4]&1<<(~r&15))&&(e[n-1][B>>4]|=1<<(~B&15),v[n-1>>4][B>>8]|=1<<(~(B>>4)&15),a[n-1>>4][B>>8]|=1<<(~(B>>4)&15),15===(n-1&15)&&(v[(n-1>>4)+1][B>>8]|=1<<(~(B>>4)&15),a[(n-1>>4)+1][B>>8]|=1<<(~(B>>4)&15)));0!==(e[n][r>>4]&1<<(~r&15))&&(e[u+1][B>>4]|=1<<(~B&15),v[u+1>>4][B>>8]|=1<<(~(B>>4)&15),a[u+1>>4][B>>8]|=1<<(~(B>>4)&
15),0===(u+1&15)&&(v[(u+1>>4)-1][B>>8]|=1<<(~(B>>4)&15),a[(u+1>>4)-1][B>>8]|=1<<(~(B>>4)&15)))}for(y=0;y<=d;y+=1)r=n+y,B=u-y,0!==(e[r][m>>4]&1<<(~m&15))&&(e[B][q+1>>4]|=1<<(~(q+1)&15),v[B>>4][q+1>>8]|=1<<(~(q+1>>4)&15),a[B>>4][q+1>>8]|=1<<(~(q+1>>4)&15),0===(q+1&15)&&(v[B>>4][q-15>>8]|=1<<(~(q-15>>4)&15),a[B>>4][q-15>>8]|=1<<(~(q-15>>4)&15))),0!==(e[r][q>>4]&1<<(~q&15))&&(e[B][m-1>>4]|=1<<(~(m-1)&15),v[B>>4][m-1>>8]|=1<<(~(m-1>>4)&15),a[B>>4][m-1>>8]|=1<<(~(m-1>>4)&15),15===(m-1&15)&&(v[B>>4][m+15>>
8]|=1<<(~(m+15>>4)&15),a[B>>4][m+15>>8]|=1<<(~(m+15>>4)&15)));0!==(e[u][m>>4]&1<<(~m&15))&&(e[u+1][m-1>>4]|=1<<(~(m-1)&15));0!==(e[u][q>>4]&1<<(~q&15))&&(e[u+1][q+1>>4]|=1<<(~(q+1)&15));0!==(e[n][m>>4]&1<<(~m&15))&&(e[n-1][m-1>>4]|=1<<(~(m-1)&15));0!==(e[n][q>>4]&1<<(~q&15))&&(e[n-1][q+1>>4]|=1<<(~(q+1)&15))};p.prototype.Ft=function(){var a=this.Ka,c=this.Ca;var d=this.xa;var e=this.la?-1:0,m=Math.round((this.width-c)/2)+e;e=Math.round((this.height-d)/2)+e;var n=m+c-1,q=e+d-1,u;if(0!==(this.counter&
1)){d=this.Vb;var y=this.qa}else d=this.fb,y=this.ia;for(u=0;u<c;u+=1){var v=e+u;var r=m+u;0!==(d[v][m>>4]&1<<(~m&15))&&(d[e-1][r>>4]|=1<<(~r&15),y[e-1>>4][r>>8]|=1<<(~(r>>4)&15),a[e-1>>4][r>>8]|=1<<(~(r>>4)&15),15===(e-1&15)&&(y[(e-1>>4)+1][r>>8]|=1<<(~(r>>4)&15),a[(e-1>>4)+1][r>>8]|=1<<(~(r>>4)&15)));0!==(d[v][n>>4]&1<<(~n&15))&&(d[q+1][r>>4]|=1<<(~r&15),y[q+1>>4][r>>8]|=1<<(~(r>>4)&15),a[q+1>>4][r>>8]|=1<<(~(r>>4)&15),0===(q+1&15)&&(y[(q+1>>4)-1][r>>8]|=1<<(~(r>>4)&15),a[(q+1>>4)-1][r>>8]|=1<<
(~(r>>4)&15)));0!==(d[e][r>>4]&1<<(~r&15))&&(d[v][m-1>>4]|=1<<(~(m-1)&15),y[v>>4][m-1>>8]|=1<<(~(m-1>>4)&15),a[v>>4][m-1>>8]|=1<<(~(m-1>>4)&15),15===(m-1&15)&&(y[v>>4][m+15>>8]|=1<<(~(m+15>>4)&15),a[v>>4][m+15>>8]|=1<<(~(m+15>>4)&15)));0!==(d[q][r>>4]&1<<(~r&15))&&(d[v][n+1>>4]|=1<<(~(n+1)&15),y[v>>4][n+1>>8]|=1<<(~(n+1>>4)&15),a[v>>4][n+1>>8]|=1<<(~(n+1>>4)&15),0===(n+1&15)&&(y[v>>4][n-15>>8]|=1<<(~(n-15>>4)&15),a[v>>4][n-15>>8]|=1<<(~(n-15>>4)&15)))}0!==(d[q][m>>4]&1<<(~m&15))&&(d[q+1][m-1>>4]|=
1<<(~(m-1)&15));0!==(d[q][n>>4]&1<<(~n&15))&&(d[q+1][n+1>>4]|=1<<(~(n+1)&15));0!==(d[e][m>>4]&1<<(~m&15))&&(d[e-1][m-1>>4]|=1<<(~(m-1)&15));0!==(d[e][n>>4]&1<<(~n&15))&&(d[e-1][n+1>>4]|=1<<(~(n+1)&15))};p.prototype.eP=function(a){var c,d=1;0!==this.ya&&(d=2);this.R&&(d+=1);for(c=1;c<=d+1;c+=1)this.iA(c,a)};p.prototype.TH=function(){var a=this.ca;if(this.N||this.ga||this.T)0!==(this.counter&1)&&(a=this.Ma),this.jz(a,0);this.$B();switch(this.ya){case 1:this.N||this.ga||this.T?(this.ZH(a),this.T&&this.eu()):
this.eu();break;case 2:this.N||this.ga||this.T?(this.VH(a),this.T&&this.du()):this.du();break;case 3:this.N||this.ga||this.T?(this.UH(a),this.T&&this.bu()):this.bu();break;case 4:this.N||this.ga||this.T?(this.YH(a),this.T&&this.Ft()):this.Ft()}this.$B()};p.prototype.Be=function(a,c,d,e){this.Pa?(this.ba=1,this.counter+=1):this.WH(a,c,d,e)};p.prototype.WH=function(a,c,d,e){var m=!1,n=this.M,q=this.Ad;if(!d||e)a=!0;this.counter===this.jo-1&&(m=!0,c||(a=!0));-1===this.ya||this.sa||this.TH();this.Ye&&
this.GI();this.ba&&(this.ga?null===this.Sd?this.LL():this.xK():this.N?this.rK():this.sa?this.Ja.gM(this.counter):a&&2>this.i||this.T?this.la?this.II():this.R?this.$O():this.SO():this.la?this.jJ():this.R?this.UJ():this.mJ());this.counter+=1;if(this.la||this.N)this.bd?--this.$f:this.$f+=1,this.$f>this.zj&&(this.zj=this.$f);-1===this.i||this.sa||this.N||this.ga||this.T||this.SH();this.T&&this.VM();this.Ye&&this.EI();-1===this.ya||this.sa||this.eP(a);this.width===this.ma&&(d=this.sa?2*this.Ja.hi:16,n.l<=
d||n.v>=this.ma-d||n.o<=d||n.A>=this.ma-d)&&(this.sa?this.GA():this.vA());m&&(this.jo+=k.dt,c||(this.ee(),this.Zs()));n.l<q.l&&(q.l=n.l);n.v>q.v&&(q.v=n.v);n.o<q.o&&(q.o=n.o);n.A>q.A&&(q.A=n.A);this.counter<k.sF&&(a?(this.fv(this.oa,this.Qb,this.Ub),this.oa>this.qd&&(this.qd=this.oa),this.Qb>this.qd&&(this.qd=this.Qb),this.Ub>this.qd&&(this.qd=this.Ub)):this.fv(0,0,0))};p.prototype.fv=function(a,c,d){var e=this.counter>>k.Ij,m=this.counter&(1<<k.Ij)-1;this.Qc&&0<this.Qc.length&&(this.counter>=this.Bh&&
(Array.mp(this.Qc,"Life.popGraphData"),Array.mp(this.bi,"Life.birthGraphData"),Array.mp(this.gi,"Life.deathGraphData"),this.Bh+=1<<k.Ij),this.Qc[e][m]=a,this.bi[e][m]=c,this.gi[e][m]=d)};p.prototype.At=function(a,c,d,e,m,n,q,u){var y,v=1,r,B=(1<<k.Ij)-1,b=k.sF;this.counter>d&&(v=d/this.counter);if(u){a.strokeStyle=c;a.beginPath();var l=e-q[0]/this.qd*e|0;a.moveTo(0+n+.5,l+m+n+.5)}else a.fillStyle=c;q.length<<k.Ij<b&&(b=q.length<<k.Ij);var f=0;for(c=y=1;c<d;c+=1){if(y<b){var t=y>>k.Ij;l=y&B;var x=
r=q[t][l];f+=v;for(y+=1;0===(f|0)&&y<b;)t=y>>k.Ij,l=y&B,t=q[t][l],y+=1,t>x&&(x=t),t<r&&(r=t),f+=v;--f}else x=r=0;c<=this.counter&&(t=0+n+1+c,l=e-r/this.qd*e|0,u?(a.lineTo(t+.5,l+m+n+.5),r!==x&&(l=e-x/this.qd*e|0,a.lineTo(t+.5,l+m+n+.5))):0<r&&0<x&&(r!==x&&(l=e-x/this.qd*e|0),a.fillRect(t+.5,l+m+n+.5,1,1)))}u&&a.stroke()};p.prototype.ev=function(a,c,d,e,m){var n=this.context,q=m.s.Ie;m=48*m.s.xh;var u=40*q,y=this.I-u,v=this.H-m-u,r="rgb("+this.sj[0]+","+this.sj[1]+","+this.sj[2]+")",B="rgb("+this.rj[0]+
","+this.rj[1]+","+this.rj[2]+")",b="rgb("+this.qj[0]+","+this.qj[1]+","+this.qj[2]+")",l="rgb("+this.tj[0]+","+this.tj[1]+","+this.tj[2]+")",f="rgb("+this.uj[0]+","+this.uj[1]+","+this.uj[2]+")";if(this.Qc&&0<this.Qc.length){if(d||e)m=0,v+=2*m;e&&(u=0,y=this.I);var t=y-u;n.save();n.fillStyle=r;n.globalAlpha=c;n.fillRect(0,m,y+u,v);n.globalAlpha=1;d&&(v-=m);if(!e){n.font=(16*q|0)+"px Arial";n.textAlign="center";n.fillStyle="black";for(c=2;0<=c;c-=2)n.save(),n.translate(this.I/2,v+u/2-(6*q|0)),n.fillText("Generation",
c,c),n.restore(),n.save(),n.translate(u/2+(6*q|0),this.H/2),n.rotate(-90*Math.PI/180),320>this.H?n.fillText("Pop",c,c):n.fillText("Population",c,c),n.restore(),n.fillStyle=B;n.fillStyle="black";for(c=2;0<=c;c-=2)n.save(),n.translate(u-u/2+(6*q|0),m+u),n.rotate(-90*Math.PI/180),n.fillText(String(this.qd),c,c),n.restore(),n.save(),n.translate(u-u/2+(6*q|0),v),n.rotate(-90*Math.PI/180),n.fillText("0",c,c),n.restore(),n.save(),n.translate(u,v+u/2-(6*q|0)),n.fillText("0",c,c),n.restore(),n.save(),n.translate(y,
v+u/2-(6*q|0)),n.fillText(String(this.counter>t?this.counter:t|0),c,c),n.restore(),n.fillStyle=B}-1===this.ya&&(this.At(n,f,t,v-m-u,m,u,this.gi,a),this.At(n,l,t,v-m-u,m,u,this.bi,a));this.At(n,b,t,v-m-u,m,u,this.Qc,a);n.strokeStyle=B;n.lineWidth=1;n.beginPath();n.moveTo(u+.5,m+u+.5);n.lineTo(u+.5,v+.5);n.lineTo(y+.5,v+.5);n.lineTo(y+.5,v+2.5);n.moveTo(u+.5,v+.5);n.lineTo(u+.5,v+2.5);n.moveTo(u+.5,v+.5);n.lineTo(u+.5-2,v+.5);n.moveTo(u+.5,m+u+.5);n.lineTo(u+.5-2,m+u+.5);n.stroke();n.restore()}};p.prototype.EG=
function(){var a=(1<<k.Ij)-1,c;if(this.Qc&&0<this.Qc.length){for(c=0;c<this.Bh;c+=1){var d=c>>k.Ij;var e=c&a;this.Qc[d][e]=0;this.bi[d][e]=0;this.gi[d][e]=0}this.Qc[0][0]=this.oa}this.qd=this.oa};p.prototype.Pw=function(){var a=this.M,c=this.Ad;c.l=a.l;c.v=a.v;c.A=a.A;c.o=a.o};p.prototype.GI=function(){var a,c,d,e,m=this.Ye,n=this.Uj,q=this.Ni,u=this.Qf,y=this.ua,v=this.pa>>4,r;var B=0;var b=0!==(this.counter&1)?this.Vb:this.fb;for(a=0;a<y;a+=1){var l=0;var f=u[a];for(c=0;c<v;c+=1)if(r=f[c])for(d=
15;0<=d;--d){if(0!==(r&1<<d))for(e=B;e<B+16;e+=1)n[e][l]=(b[e][l]|q[e][l])&m[e][l];l+=1}else l+=16;B+=16}};p.prototype.EI=function(){var a,c,d,e,m,n=this.Wf,q=this.Uj,u=this.Qf,y=this.ua,v=this.pa>>4,r;var B=0!==(this.counter&1)?this.Vb:this.fb;for(a=m=0;a<y;a+=1){var b=0;var l=u[a];for(c=0;c<v;c+=1)if(r=l[c])for(d=15;0<=d;--d){if(0!==(r&1<<d))for(e=m;e<m+16;e+=1){var f=B[e][b];var t=f&~q[e][b];t!==f&&(B[e][b]=t,f=n[f]-n[t],this.oa-=f,this.Ub+=f)}b+=1}else b+=16;m+=16}};p.prototype.zt=function(a,
c,d){var e,m,n=this.bk,q=0,u=this.df[q],y=this.af[q],v=0,r=k.Lw,B=r-1,b=0,l=r,f=this.Ws,t=this.Fb,x=this.Kb;u[v]=a;y[v]=c;v+=1;for(d[c][a>>4]&=~(1<<(~a&15));0<v;)for(--v,v<b&&(--q,b-=r,l-=r,u=this.df[q],y=this.af[q]),a=u[v&B],c=y[v&B],m=c-f;m<=c+f;){for(e=a-f;e<=a+f;)e===(e&t)&&m===(m&x)&&0!==(d[m][e>>4]&1<<(~e&15))&&(d[m][e>>4]&=~(1<<(~e&15)),v===l&&(q+=1,b+=r,l+=r,q>n&&(this.df[q]=this.u.P(Int32,r,"Life.boundaryX"+q),this.af[q]=this.u.P(Int32,r,"Life.boundaryY"+q),this.bk=n+=1),u=this.df[q],y=this.af[q]),
u[v&B]=e,y[v&B]=m,v+=1),e+=1;m+=1}};p.prototype.su=function(a,c,d){for(var e=d[c][a],m=15;0<=m;)0!==(e&1<<m)&&this.zt((a<<4)+(~m&15),c,d),--m};p.prototype.$H=function(a,c){this.zt(0,a,c)};p.prototype.aI=function(a,c,d){this.zt((a<<4)+15,c,d)};p.prototype.vA=function(){var a;var c=0!==(this.counter&1)?this.Vb:this.fb;var d=c.length;var e=c[0].length;var m=c[0];var n=c[d-1];for(a=0;a<e;)m[a]&&this.su(a,0,c),n[a]&&this.su(a,d-1,c),a+=1;for(a=0;a<d;)0!==(c[a][0]&32768)&&this.$H(a,c),0!==(c[a][e-1]&1)&&
this.aI(e-1,a,c),a+=1};p.prototype.hk=function(a,c){var d,e=this.ca,m,n=this.bk,q=0,u=this.df[q],y=this.af[q],v=0,r=k.Lw,B=r-1,b=0,l=r,f=this.Fb,t=this.Kb,x=2<this.i?0:k.Hb,z=2<this.i?0:k.Ne,A=this.Ws;u[v]=a;y[v]=c;v+=1;for(e[c][a]=0;0<v;)for(--v,v<b&&(--q,b-=r,l-=r,u=this.df[q],y=this.af[q]),a=u[v&B],c=y[v&B],d=c-A;d<=c+A;){var C=a-A;for(m=e[d];C<=a+A;)C===(C&f)&&d===(d&t)&&m[C]>=x&&(m[C]=z,v===l&&(q+=1,b+=r,l+=r,q>n&&(this.df[q]=this.u.P(Int32,r,"Life.boundaryX"+q),this.af[q]=this.u.P(Int32,r,"Life.boundaryY"+
q),this.bk=n+=1),u=this.df[q],y=this.af[q]),u[v&B]=C,y[v&B]=d,v+=1),C+=1;d+=1}};p.prototype.GA=function(){var a=this.ca,c=a.length,d=a[0].length,e=this.M,m=e.l,n=e.v,q=e.o,u=e.A,y=2*this.Ja.hi+1,v=2*this.Ja.Xg+1,r=2<this.i?0:k.Hb,B,b;if(c-u<=v){for(b=c-v;b<=u;b+=1){var l=a[b];for(B=m;B<=n;B+=1)l[B]>=r&&this.hk(B,b)}e.A=c-v}if(q<=v){for(b=q;b<=v;b+=1)for(l=a[b],B=m;B<=n;B+=1)l[B]>=r&&this.hk(B,b);e.o=v}if(m<=y){for(b=q;b<=u;b+=1)for(l=a[b],B=m;B<=y;B+=1)l[B]>=r&&this.hk(B,b);e.l=y}if(d-n<=y){for(b=
q;b<=u;b+=1)for(l=a[b],B=d-y;B<=n;B+=1)l[B]>=r&&this.hk(B,b);e.v=d-y}};p.prototype.$O=function(){var a=this.yh,c,d,e,m,n,q=this.ka,u,y=this.height,v=this.width,r=v>>4,B=this.M,b=y,l=-1,f=v,t=-1,x=this.ua,z=this.pa>>4,A=this.sd;var C=0;var I=x,G=this.Wf,F=0,E=0,D=0;if(0!==(this.counter&1)){var H=this.Vb;var N=this.fb;var K=this.qa;var P=this.ia;this.qc&&(a=this.Yi)}else H=this.fb,N=this.Vb,K=this.ia,P=this.qa;q.fill(0);0>C&&(C=0);I>x&&(I=x);var J=C<<4;var S=J+16;P.Wa.fill(0);for(d=C;d<I;d+=1){var X=
0;var U=K[d];var L=P[d];var ja=0<d?P[d-1]:A;var W=d<x-1?P[d+1]:A;for(e=0;e<z;e+=1)if(m=U[e]){var ma=L[e];var sa=ja[e];var ca=W[e];for(c=15;0<=c;--c){if(0!==(m&1<<c)){var V=u=0;var ea=J;var fa=0===ea?this.jf:H[ea-1];var qa=H[ea];C=H[ea+1];var na=n=qa[X];fa=fa[X-1]<<18|fa[X]<<2|fa[X+1]>>14;var T=qa[X-1]<<18|n<<2|qa[X+1]>>14;var Q=C[X-1]<<18|C[X]<<2|C[X+1]>>14;var Y=a[fa>>7&7936|Q>>11&224|T>>15&31]<<15;Y|=a[Q>>6&7936|fa>>10&224|T>>14&31]<<14;Y|=a[fa>>5&7936|Q>>9&224|T>>13&31]<<13;Y|=a[Q>>4&7936|fa>>
8&224|T>>12&31]<<12;Y|=a[fa>>3&7936|Q>>7&224|T>>11&31]<<11;Y|=a[Q>>2&7936|fa>>6&224|T>>10&31]<<10;Y|=a[fa>>1&7936|Q>>5&224|T>>9&31]<<9;Y|=a[Q>>0&7936|fa>>4&224|T>>8&31]<<8;Y|=a[fa<<1&7936|Q>>3&224|T>>7&31]<<7;Y|=a[Q<<2&7936|fa>>2&224|T>>6&31]<<6;Y|=a[fa<<3&7936|Q>>1&224|T>>5&31]<<5;Y|=a[Q<<4&7936|fa>>0&224|T>>4&31]<<4;Y|=a[fa<<5&7936|Q<<1&224|T>>3&31]<<3;Y|=a[Q<<6&7936|fa<<2&224|T>>2&31]<<2;Y|=a[fa<<7&7936|Q<<3&224|T>>1&31]<<1;Y|=a[Q<<8&7936|fa<<4&224|T>>0&31]<<0;N[ea][X]=Y;F+=G[Y];E+=G[Y&~n];D+=
G[n&~Y];Y&&(u|=Y,ea<b&&(b=ea),ea>l&&(l=ea),0!==(Y&49152)&&(V|=k.Sb),0!==(Y&3)&&(V|=k.Tb),V|=k.Ib);for(ea+=1;ea<S-1;){n=C[X];na|=n;C=H[ea+1];fa=T;T=Q;Q=C[X-1]<<18|C[X]<<2|C[X+1]>>14;0!==(ea&1)&&(qa=fa,fa=Q,Q=qa);Y=a[fa>>7&7936|Q>>11&224|T>>15&31]<<15;Y|=a[Q>>6&7936|fa>>10&224|T>>14&31]<<14;Y|=a[fa>>5&7936|Q>>9&224|T>>13&31]<<13;Y|=a[Q>>4&7936|fa>>8&224|T>>12&31]<<12;Y|=a[fa>>3&7936|Q>>7&224|T>>11&31]<<11;Y|=a[Q>>2&7936|fa>>6&224|T>>10&31]<<10;Y|=a[fa>>1&7936|Q>>5&224|T>>9&31]<<9;Y|=a[Q>>0&7936|fa>>
4&224|T>>8&31]<<8;Y|=a[fa<<1&7936|Q>>3&224|T>>7&31]<<7;Y|=a[Q<<2&7936|fa>>2&224|T>>6&31]<<6;Y|=a[fa<<3&7936|Q>>1&224|T>>5&31]<<5;Y|=a[Q<<4&7936|fa>>0&224|T>>4&31]<<4;Y|=a[fa<<5&7936|Q<<1&224|T>>3&31]<<3;Y|=a[Q<<6&7936|fa<<2&224|T>>2&31]<<2;Y|=a[fa<<7&7936|Q<<3&224|T>>1&31]<<1;Y|=a[Q<<8&7936|fa<<4&224|T>>0&31]<<0;F+=G[Y];E+=G[Y&~n];D+=G[n&~Y];0!==(ea&1)&&(Q=qa=fa);if(N[ea][X]=Y)u|=Y,ea<b&&(b=ea),ea>l&&(l=ea);ea+=1}n=C[X];na|=n;C=ea===this.height-1?this.jf:H[ea+1];fa=T;T=Q;Q=C[X-1]<<18|C[X]<<2|C[X+
1]>>14;0!==(ea&1)&&(qa=fa,fa=Q,Q=qa);Y=a[fa>>7&7936|Q>>11&224|T>>15&31]<<15;Y|=a[Q>>6&7936|fa>>10&224|T>>14&31]<<14;Y|=a[fa>>5&7936|Q>>9&224|T>>13&31]<<13;Y|=a[Q>>4&7936|fa>>8&224|T>>12&31]<<12;Y|=a[fa>>3&7936|Q>>7&224|T>>11&31]<<11;Y|=a[Q>>2&7936|fa>>6&224|T>>10&31]<<10;Y|=a[fa>>1&7936|Q>>5&224|T>>9&31]<<9;Y|=a[Q>>0&7936|fa>>4&224|T>>8&31]<<8;Y|=a[fa<<1&7936|Q>>3&224|T>>7&31]<<7;Y|=a[Q<<2&7936|fa>>2&224|T>>6&31]<<6;Y|=a[fa<<3&7936|Q>>1&224|T>>5&31]<<5;Y|=a[Q<<4&7936|fa>>0&224|T>>4&31]<<4;Y|=a[fa<<
5&7936|Q<<1&224|T>>3&31]<<3;Y|=a[Q<<6&7936|fa<<2&224|T>>2&31]<<2;Y|=a[fa<<7&7936|Q<<3&224|T>>1&31]<<1;Y|=a[Q<<8&7936|fa<<4&224|T>>0&31]<<0;F+=G[Y];E+=G[Y&~n];D+=G[n&~Y];if(N[ea][X]=Y)u|=Y,ea<b&&(b=ea),ea>l&&(l=ea),0!==(Y&49152)&&(V|=k.Xb),0!==(Y&3)&&(V|=k.wb),V|=k.xb;u&&(0!==(u&49152)&&(V|=k.Lb),0!==(u&3)&&(V|=k.kb));q[X]|=u;if(u||na)ma|=1<<c,V&&(0!==(V&k.Lb)&&(15>c?ma|=1<<c+1:0<e&&0<X&&(L[e-1]|=1)),0!==(V&k.kb)&&(0<c?ma|=1<<c-1:e<z-1&&X<r-1&&(L[e+1]|=32768)),0!==(V&k.Ib)&&(sa|=1<<c),0!==(V&k.xb)&&
(ca|=1<<c),0!==(V&k.Sb)&&(15>c?sa|=1<<c+1:0<e&&0<X&&(ja[e-1]|=1)),0!==(V&k.Tb)&&(0<c?sa|=1<<c-1:e<z-1&&X<r-1&&(ja[e+1]|=32768)),0!==(V&k.Xb)&&(15>c?ca|=1<<c+1:0<e&&0<X&&(W[e-1]|=1)),0!==(V&k.wb)&&(0<c?ca|=1<<c-1:e<z-1&&X<r-1&&(W[e+1]|=32768)))}X+=1}L[e]|=ma;0<d&&(ja[e]|=sa);d<x-1&&(W[e]|=ca)}else X+=16;J+=16;S+=16}for(e=0;e<r;e+=1)q[e]&&(e<f&&(f=e),e>t&&(t=e));f=(f<<4)+this.G(q[f]);t=(t<<4)+this.U(q[t]);0>l&&(l=y-1);b>=y&&(b=0);f>=v&&(f=0);0>t&&(t=v-1);l>y-1&&(l=y-1);0>b&&(b=0);0>f&&(f=0);t>v-1&&
(t=v-1);B.A=l;B.o=b;B.l=f;B.v=t;A.fill(0);this.oa=F;this.Qb=E;this.Ub=D};p.prototype.II=function(){var a=this.te,c,d,e,m,n=this.ka,q,u=this.height,y=this.width,v=y>>4,r=this.M,B=u,b=-1,l=y,f=-1,t=this.ua,x=this.pa>>4,z=this.sd,A=this.Wf,C=0,I=0,G=0,F=this.counter&1;this.cd&&(this.bd=!this.bd,this.cd=!1);if(0!==F){var E=this.Vb;var D=this.fb;var H=this.qa;var N=this.ia;this.bd&&(a=this.Kc)}else E=this.fb,D=this.Vb,H=this.ia,N=this.qa,this.qc&&(a=this.If),this.bd&&(a=this.qc?this.ue:this.Kc);this.bd&&
(F=1-F);n.fill(0);var K=1-F;var P=K+16;N.Wa.fill(0);for(d=0;d<H.length;d+=1){var J=0;var S=H[d];var X=N[d];var U=0<d?N[d-1]:z;var L=d<t-1?N[d+1]:z;for(e=0;e<x;e+=1)if(m=S[e]){var ja=X[e];var W=U[e];var ma=L[e];for(c=15;0<=c;--c){var sa=0===c&&e===x-1?!0:!1;if(0!==(m&1<<c)){var ca=q=0;if(0!==F){var V=K;var ea=E[V][J];var fa=E[V+1][J];var qa=ea|fa;var na=a[ea&65280|fa>>8];var T=na&65280;var Q=(na&255)<<8;na=a[(ea&255)<<8|fa&255];T|=na>>8;Q|=na&255;D[V][J]=T;D[V+1][J]=Q;C+=A[T];I+=A[T&~ea];G+=A[ea&~T];
C+=A[Q];I+=A[Q&~fa];G+=A[fa&~Q];if(na=T|Q)q|=na,T&&(V<B&&(B=V),V>b&&(b=V)),Q&&(V+1<B&&(B=V+1),V+1>b&&(b=V+1)),0!==(na&49152)&&(ca|=k.Sb),0!==(na&3)&&(ca|=k.Tb),ca|=k.Ib;for(V+=2;V<P-2;){ea=E[V][J];fa=E[V+1][J];qa|=ea|fa;na=a[ea&65280|fa>>8];T=na&65280;Q=(na&255)<<8;na=a[(ea&255)<<8|fa&255];T|=na>>8;Q|=na&255;D[V][J]=T;D[V+1][J]=Q;C+=A[T];I+=A[T&~ea];G+=A[ea&~T];C+=A[Q];I+=A[Q&~fa];G+=A[fa&~Q];if(na=T|Q)q|=na,T&&(V<B&&(B=V),V>b&&(b=V)),Q&&(V+1<B&&(B=V+1),V+1>b&&(b=V+1));V+=2}ea=E[V][J];fa=E[V+1][J];
qa|=ea|fa;na=a[ea&65280|fa>>8];T=na&65280;Q=(na&255)<<8;na=a[(ea&255)<<8|fa&255];T|=na>>8;Q|=na&255;D[V][J]=T;D[V+1][J]=Q;C+=A[T];I+=A[T&~ea];G+=A[ea&~T];C+=A[Q];I+=A[Q&~fa];G+=A[fa&~Q];if(na=T|Q)q|=na,T&&(V<B&&(B=V),V>b&&(b=V)),Q&&(V+1<B&&(B=V+1),V+1>b&&(b=V+1)),na&&(0!==(na&49152)&&(ca|=k.Xb),0!==(na&3)&&(ca|=k.wb),ca|=k.xb);q&&(0!==(q&49152)&&(ca|=k.Lb),0!==(q&3)&&(ca|=k.kb),n[J]|=q);if(q||qa)ca|=k.wb,ca|=k.kb}else{V=K;sa?(ea=E[V][J]<<1&65535,fa=E[V+1][J]<<1&65535):(ea=(E[V][J]<<1|E[V][J+1]>>15)&
65535,fa=(E[V+1][J]<<1|E[V+1][J+1]>>15)&65535);qa=ea|fa;na=a[ea&65280|fa>>8];T=na&65280;Q=(na&255)<<8;na=a[(ea&255)<<8|fa&255];T|=na>>8;Q|=na&255;sa?(D[V][J]=D[V][J]&32768|T>>1,D[V+1][J]=D[V+1][J]&32768|Q>>1):(D[V][J]=D[V][J]&32768|T>>1,D[V][J+1]=D[V][J+1]&32767|(T&1)<<15,D[V+1][J]=D[V+1][J]&32768|Q>>1,D[V+1][J+1]=D[V+1][J+1]&32767|(Q&1)<<15);C+=A[T];I+=A[T&~ea];G+=A[ea&~T];C+=A[Q];I+=A[Q&~fa];G+=A[fa&~Q];if(na=T|Q)q|=na,T&&(V<B&&(B=V),V>b&&(b=V)),T&&(V+1<B&&(B=V+1),V+1>b&&(b=V+1));for(V+=2;V<P-2;){sa?
(ea=E[V][J]<<1&65535,fa=E[V+1][J]<<1&65535):(ea=(E[V][J]<<1|E[V][J+1]>>15)&65535,fa=(E[V+1][J]<<1|E[V+1][J+1]>>15)&65535);qa|=ea|fa;na=a[ea&65280|fa>>8];T=na&65280;Q=(na&255)<<8;na=a[(ea&255)<<8|fa&255];T|=na>>8;Q|=na&255;sa?(D[V][J]=D[V][J]&32768|T>>1,D[V+1][J]=D[V+1][J]&32768|Q>>1):(D[V][J]=D[V][J]&32768|T>>1,D[V][J+1]=D[V][J+1]&32767|(T&1)<<15,D[V+1][J]=D[V+1][J]&32768|Q>>1,D[V+1][J+1]=D[V+1][J+1]&32767|(Q&1)<<15);C+=A[T];I+=A[T&~ea];G+=A[ea&~T];C+=A[Q];I+=A[Q&~fa];G+=A[fa&~Q];if(na=T|Q)q|=na,
T&&(V<B&&(B=V),V>b&&(b=V)),Q&&(V+1<B&&(B=V+1),V+1>b&&(b=V+1));V+=2}sa?(ea=E[V][J]<<1&65535,fa=E[V+1][J]<<1&65535):(ea=(E[V][J]<<1|E[V][J+1]>>15)&65535,fa=(E[V+1][J]<<1|E[V+1][J+1]>>15)&65535);qa|=ea|fa;na=a[ea&65280|fa>>8];T=na&65280;Q=(na&255)<<8;na=a[(ea&255)<<8|fa&255];T|=na>>8;Q|=na&255;sa?(D[V][J]=D[V][J]&32768|T>>1,D[V+1][J]=D[V+1][J]&32768|Q>>1):(D[V][J]=D[V][J]&32768|T>>1,D[V][J+1]=D[V][J+1]&32767|(T&1)<<15,D[V+1][J]=D[V+1][J]&32768|Q>>1,D[V+1][J+1]=D[V+1][J+1]&32767|(Q&1)<<15);C+=A[T];I+=
A[T&~ea];G+=A[ea&~T];C+=A[Q];I+=A[Q&~fa];G+=A[fa&~Q];if(na=T|Q)q|=na,T&&(V<B&&(B=V),V>b&&(b=V)),Q&&(V+1<B&&(B=V+1),V+1>b&&(b=V+1)),0!==(na&3)&&(ca|=k.wb),ca|=k.xb;ea|fa&&(0!==((ea|fa)&3)&&(ca|=k.wb),ca|=k.xb);q&&(0!==(q&3)&&(ca|=k.kb),n[J]|=q>>1,n[J+1]|=(q&1)<<15);0!==(qa&3)&&(ca|=k.kb)}if(q||qa)ja|=1<<c,ca&&(0!==(ca&k.Lb)&&(15>c?ja|=1<<c+1:0<e&&0<J&&(X[e-1]|=1)),0!==(ca&k.kb)&&(0<c?ja|=1<<c-1:e<x-1&&J<v-1&&(X[e+1]|=32768)),0!==(ca&k.Ib)&&(W|=1<<c),0!==(ca&k.xb)&&(ma|=1<<c),0!==(ca&k.Sb)&&(15>c?W|=
1<<c+1:0<e&&0<J&&(U[e-1]|=1)),0!==(ca&k.Tb)&&(0<c?W|=1<<c-1:e<x-1&&J<v-1&&(U[e+1]|=32768)),0!==(ca&k.Xb)&&(15>c?ma|=1<<c+1:0<e&&0<J&&(L[e-1]|=1)),0!==(ca&k.wb)&&(0<c?ma|=1<<c-1:e<x-1&&J<v-1&&(L[e+1]|=32768)))}J+=1}X[e]|=ja;0<d&&(U[e]|=W);d<t-1&&(L[e]|=ma)}else J+=16;K+=16;P+=16;P>=u&&(P=u-1)}for(e=0;e<v;e+=1)n[e]&&(e<l&&(l=e),e>f&&(f=e));l=(l<<4)+this.G(n[l]);f=(f<<4)+this.U(n[f]);0>b&&(b=u-1);B>=u&&(B=0);l>=y&&(l=0);0>f&&(f=y-1);b>u-1&&(b=u-1);0>B&&(B=0);0>l&&(l=0);f>y-1&&(f=y-1);r.A=b;r.o=B;r.l=
l;r.v=f;z.fill(0);this.oa=C;this.Qb=I;this.Ub=G};p.prototype.jJ=function(){var a=this.te,c,d,e,m,n=this.ka,q,u=this.height,y=this.width,v=y>>4,r=this.M,B=u,b=-1,l=y,f=-1,t=this.ua,x=this.pa>>4,z=this.sd,A=this.counter&1;this.cd&&(this.bd=!this.bd,this.cd=!1);if(0!==A){var C=this.Vb;var I=this.fb;var G=this.qa;var F=this.ia;this.bd&&(a=this.Kc)}else C=this.fb,I=this.Vb,G=this.ia,F=this.qa,this.qc&&(a=this.If),this.bd&&(a=this.qc?this.ue:this.Kc);this.bd&&(A=1-A);n.fill(0);var E=1-A;var D=E+16;F.Wa.fill(0);
for(d=0;d<G.length;d+=1){var H=0;var N=G[d];var K=F[d];var P=0<d?F[d-1]:z;var J=d<t-1?F[d+1]:z;for(e=0;e<x;e+=1)if(m=N[e]){var S=K[e];var X=P[e];var U=J[e];for(c=15;0<=c;--c){var L=0===c&&e===x-1?!0:!1;if(0!==(m&1<<c)){var ja=q=0;if(0!==A){var W=E;var ma=0;var sa=C[W][H];var ca=C[W+1][H];ma|=sa|ca;var V=a[sa&65280|ca>>8];var ea=V&65280;var fa=(V&255)<<8;V=a[(sa&255)<<8|ca&255];ea|=V>>8;fa|=V&255;I[W][H]=ea;I[W+1][H]=fa;if(V=ea|fa)q|=V,W<B&&(B=W),W+1>b&&(b=W+1),V&&(0!==(V&49152)&&(ja|=k.Sb),0!==(V&
3)&&(ja|=k.Tb),ja|=k.Ib);for(W+=2;W<D-2;){sa=C[W][H];ca=C[W+1][H];ma|=sa|ca;V=a[sa&65280|ca>>8];ea=V&65280;fa=(V&255)<<8;V=a[(sa&255)<<8|ca&255];ea|=V>>8;fa|=V&255;I[W][H]=ea;I[W+1][H]=fa;if(V=ea|fa)q|=V,W<B&&(B=W),W+1>b&&(b=W+1);W+=2}sa=C[W][H];ca=C[W+1][H];ma|=sa|ca;V=a[sa&65280|ca>>8];ea=V&65280;fa=(V&255)<<8;V=a[(sa&255)<<8|ca&255];ea|=V>>8;fa|=V&255;I[W][H]=ea;I[W+1][H]=fa;if(V=ea|fa)q|=V,W<B&&(B=W),W+1>b&&(b=W+1),V&&(0!==(V&49152)&&(ja|=k.Xb),0!==(V&3)&&(ja|=k.wb),ja|=k.xb);q&&(0!==(q&49152)&&
(ja|=k.Lb),0!==(q&3)&&(ja|=k.kb),n[H]|=q);if(q||ma)ja|=k.wb,ja|=k.kb}else{W=E;ma=0;L?(sa=C[W][H]<<1&65535,ca=C[W+1][H]<<1&65535):(sa=(C[W][H]<<1|C[W][H+1]>>15)&65535,ca=(C[W+1][H]<<1|C[W+1][H+1]>>15)&65535);ma|=sa|ca;V=a[sa&65280|ca>>8];ea=V&65280;fa=(V&255)<<8;V=a[(sa&255)<<8|ca&255];ea|=V>>8;fa|=V&255;L?(I[W][H]=I[W][H]&32768|ea>>1,I[W+1][H]=I[W+1][H]&32768|fa>>1):(I[W][H]=I[W][H]&32768|ea>>1,I[W][H+1]=I[W][H+1]&32767|(ea&1)<<15,I[W+1][H]=I[W+1][H]&32768|fa>>1,I[W+1][H+1]=I[W+1][H+1]&32767|(fa&
1)<<15);if(V=ea|fa)q|=V,W<B&&(B=W),W+1>b&&(b=W+1);for(W+=2;W<D-2;){L?(sa=C[W][H]<<1&65535,ca=C[W+1][H]<<1&65535):(sa=(C[W][H]<<1|C[W][H+1]>>15)&65535,ca=(C[W+1][H]<<1|C[W+1][H+1]>>15)&65535);ma|=sa|ca;V=a[sa&65280|ca>>8];ea=V&65280;fa=(V&255)<<8;V=a[(sa&255)<<8|ca&255];ea|=V>>8;fa|=V&255;L?(I[W][H]=I[W][H]&32768|ea>>1,I[W+1][H]=I[W+1][H]&32768|fa>>1):(I[W][H]=I[W][H]&32768|ea>>1,I[W][H+1]=I[W][H+1]&32767|(ea&1)<<15,I[W+1][H]=I[W+1][H]&32768|fa>>1,I[W+1][H+1]=I[W+1][H+1]&32767|(fa&1)<<15);if(V=ea|
fa)q|=V,W<B&&(B=W),W+1>b&&(b=W+1);W+=2}L?(sa=C[W][H]<<1&65535,ca=C[W+1][H]<<1&65535):(sa=(C[W][H]<<1|C[W][H+1]>>15)&65535,ca=(C[W+1][H]<<1|C[W+1][H+1]>>15)&65535);ma|=sa|ca;V=a[sa&65280|ca>>8];ea=V&65280;fa=(V&255)<<8;V=a[(sa&255)<<8|ca&255];ea|=V>>8;fa|=V&255;L?(I[W][H]=I[W][H]&32768|ea>>1,I[W+1][H]=I[W+1][H]&32768|fa>>1):(I[W][H]=I[W][H]&32768|ea>>1,I[W][H+1]=I[W][H+1]&32767|(ea&1)<<15,I[W+1][H]=I[W+1][H]&32768|fa>>1,I[W+1][H+1]=I[W+1][H+1]&32767|(fa&1)<<15);if(V=ea|fa)q|=V,W<B&&(B=W),W+1>b&&(b=
W+1),0!==(V&3)&&(ja|=k.wb),ja|=k.xb;sa|ca&&(0!==((sa|ca)&3)&&(ja|=k.wb),ja|=k.xb);q&&(0!==(q&3)&&(ja|=k.kb),n[H]|=q>>1,n[H+1]|=(q&1)<<15);0!==(ma&1)&&(ja|=k.kb)}if(q||ma)S|=1<<c,ja&&(0!==(ja&k.Lb)&&(15>c?S|=1<<c+1:0<e&&0<H&&(K[e-1]|=1)),0!==(ja&k.kb)&&(0<c?S|=1<<c-1:e<x-1&&H<v-1&&(K[e+1]|=32768)),0!==(ja&k.Ib)&&(X|=1<<c),0!==(ja&k.xb)&&(U|=1<<c),0!==(ja&k.Sb)&&(15>c?X|=1<<c+1:0<e&&0<H&&(P[e-1]|=1)),0!==(ja&k.Tb)&&(0<c?X|=1<<c-1:e<x-1&&H<v-1&&(P[e+1]|=32768)),0!==(ja&k.Xb)&&(15>c?U|=1<<c+1:0<e&&0<
H&&(J[e-1]|=1)),0!==(ja&k.wb)&&(0<c?U|=1<<c-1:e<x-1&&H<v-1&&(J[e+1]|=32768)))}H+=1}K[e]|=S;0<d&&(P[e]|=X);d<t-1&&(J[e]|=U)}else H+=16;E+=16;D+=16;D>=u&&(D=u-1)}for(e=0;e<v;e+=1)n[e]&&(e<l&&(l=e),e>f&&(f=e));l=(l<<4)+this.G(n[l]);f=(f<<4)+this.U(n[f]);0>b&&(b=u-1);B>=u&&(B=0);l>=y&&(l=0);0>f&&(f=y-1);b>u-1&&(b=u-1);0>B&&(B=0);0>l&&(l=0);f>y-1&&(f=y-1);r.A=b;r.o=B;r.l=l;r.v=f;z.fill(0)};p.prototype.UJ=function(){var a=this.yh,c,d,e,m,n=this.ka,q,u=this.height,y=this.width,v=y>>4,r=this.M,B=u,b=-1,l=
y,f=-1,t=this.ua,x=this.pa>>4,z=this.sd;var A=0;var C=t;if(0!==(this.counter&1)){var I=this.Vb;var G=this.fb;var F=this.qa;var E=this.ia;this.qc&&(a=this.Yi)}else I=this.fb,G=this.Vb,F=this.ia,E=this.qa;n.fill(0);0>A&&(A=0);C>t&&(C=t);var D=A<<4;var H=D+16;E.Wa.fill(0);for(d=A;d<C;d+=1){var N=0;var K=F[d];var P=E[d];var J=0<d?E[d-1]:z;var S=d<t-1?E[d+1]:z;for(e=0;e<x;e+=1)if(m=K[e]){var X=P[e];var U=J[e];var L=S[e];for(c=15;0<=c;--c){if(0!==(m&1<<c)){var ja=q=0;var W=D;var ma=0===W?this.jf:I[W-1];
var sa=I[W];A=I[W+1];var ca=sa[N];ma=ma[N-1]<<18|ma[N]<<2|ma[N+1]>>14;var V=sa[N-1]<<18|ca<<2|sa[N+1]>>14;var ea=A[N-1]<<18|A[N]<<2|A[N+1]>>14;var fa=a[ma>>7&7936|ea>>11&224|V>>15&31]<<15;fa|=a[ea>>6&7936|ma>>10&224|V>>14&31]<<14;fa|=a[ma>>5&7936|ea>>9&224|V>>13&31]<<13;fa|=a[ea>>4&7936|ma>>8&224|V>>12&31]<<12;fa|=a[ma>>3&7936|ea>>7&224|V>>11&31]<<11;fa|=a[ea>>2&7936|ma>>6&224|V>>10&31]<<10;fa|=a[ma>>1&7936|ea>>5&224|V>>9&31]<<9;fa|=a[ea>>0&7936|ma>>4&224|V>>8&31]<<8;fa|=a[ma<<1&7936|ea>>3&224|V>>
7&31]<<7;fa|=a[ea<<2&7936|ma>>2&224|V>>6&31]<<6;fa|=a[ma<<3&7936|ea>>1&224|V>>5&31]<<5;fa|=a[ea<<4&7936|ma>>0&224|V>>4&31]<<4;fa|=a[ma<<5&7936|ea<<1&224|V>>3&31]<<3;fa|=a[ea<<6&7936|ma<<2&224|V>>2&31]<<2;fa|=a[ma<<7&7936|ea<<3&224|V>>1&31]<<1;fa|=a[ea<<8&7936|ma<<4&224|V>>0&31]<<0;if(G[W][N]=fa)q|=fa,W<B&&(B=W),W>b&&(b=W),0!==(fa&49152)&&(ja|=k.Sb),0!==(fa&3)&&(ja|=k.Tb),ja|=k.Ib;for(W+=1;W<H-1;){ca|=A[N];A=I[W+1];ma=V;V=ea;ea=A[N-1]<<18|A[N]<<2|A[N+1]>>14;0!==(W&1)&&(sa=ma,ma=ea,ea=sa);fa=a[ma>>
7&7936|ea>>11&224|V>>15&31]<<15;fa|=a[ea>>6&7936|ma>>10&224|V>>14&31]<<14;fa|=a[ma>>5&7936|ea>>9&224|V>>13&31]<<13;fa|=a[ea>>4&7936|ma>>8&224|V>>12&31]<<12;fa|=a[ma>>3&7936|ea>>7&224|V>>11&31]<<11;fa|=a[ea>>2&7936|ma>>6&224|V>>10&31]<<10;fa|=a[ma>>1&7936|ea>>5&224|V>>9&31]<<9;fa|=a[ea>>0&7936|ma>>4&224|V>>8&31]<<8;fa|=a[ma<<1&7936|ea>>3&224|V>>7&31]<<7;fa|=a[ea<<2&7936|ma>>2&224|V>>6&31]<<6;fa|=a[ma<<3&7936|ea>>1&224|V>>5&31]<<5;fa|=a[ea<<4&7936|ma>>0&224|V>>4&31]<<4;fa|=a[ma<<5&7936|ea<<1&224|V>>
3&31]<<3;fa|=a[ea<<6&7936|ma<<2&224|V>>2&31]<<2;fa|=a[ma<<7&7936|ea<<3&224|V>>1&31]<<1;fa|=a[ea<<8&7936|ma<<4&224|V>>0&31]<<0;0!==(W&1)&&(ea=sa=ma);if(G[W][N]=fa)q|=fa,W<B&&(B=W),W>b&&(b=W);W+=1}ca|=A[N];A=W===this.height-1?this.jf:I[W+1];ma=V;V=ea;ea=A[N-1]<<18|A[N]<<2|A[N+1]>>14;0!==(W&1)&&(sa=ma,ma=ea,ea=sa);fa=a[ma>>7&7936|ea>>11&224|V>>15&31]<<15;fa|=a[ea>>6&7936|ma>>10&224|V>>14&31]<<14;fa|=a[ma>>5&7936|ea>>9&224|V>>13&31]<<13;fa|=a[ea>>4&7936|ma>>8&224|V>>12&31]<<12;fa|=a[ma>>3&7936|ea>>7&
224|V>>11&31]<<11;fa|=a[ea>>2&7936|ma>>6&224|V>>10&31]<<10;fa|=a[ma>>1&7936|ea>>5&224|V>>9&31]<<9;fa|=a[ea>>0&7936|ma>>4&224|V>>8&31]<<8;fa|=a[ma<<1&7936|ea>>3&224|V>>7&31]<<7;fa|=a[ea<<2&7936|ma>>2&224|V>>6&31]<<6;fa|=a[ma<<3&7936|ea>>1&224|V>>5&31]<<5;fa|=a[ea<<4&7936|ma>>0&224|V>>4&31]<<4;fa|=a[ma<<5&7936|ea<<1&224|V>>3&31]<<3;fa|=a[ea<<6&7936|ma<<2&224|V>>2&31]<<2;fa|=a[ma<<7&7936|ea<<3&224|V>>1&31]<<1;fa|=a[ea<<8&7936|ma<<4&224|V>>0&31]<<0;if(G[W][N]=fa)q|=fa,W<B&&(B=W),W>b&&(b=W),0!==(fa&49152)&&
(ja|=k.Xb),0!==(fa&3)&&(ja|=k.wb),ja|=k.xb;q&&(0!==(q&49152)&&(ja|=k.Lb),0!==(q&3)&&(ja|=k.kb));n[N]|=q;if(q||ca)X|=1<<c,ja&&(0!==(ja&k.Lb)&&(15>c?X|=1<<c+1:0<e&&0<N&&(P[e-1]|=1)),0!==(ja&k.kb)&&(0<c?X|=1<<c-1:e<x-1&&N<v-1&&(P[e+1]|=32768)),0!==(ja&k.Ib)&&(U|=1<<c),0!==(ja&k.xb)&&(L|=1<<c),0!==(ja&k.Sb)&&(15>c?U|=1<<c+1:0<e&&0<N&&(J[e-1]|=1)),0!==(ja&k.Tb)&&(0<c?U|=1<<c-1:e<x-1&&N<v-1&&(J[e+1]|=32768)),0!==(ja&k.Xb)&&(15>c?L|=1<<c+1:0<e&&0<N&&(S[e-1]|=1)),0!==(ja&k.wb)&&(0<c?L|=1<<c-1:e<x-1&&N<v-
1&&(S[e+1]|=32768)))}N+=1}P[e]|=X;0<d&&(J[e]|=U);d<t-1&&(S[e]|=L)}else N+=16;D+=16;H+=16}for(e=0;e<v;e+=1)n[e]&&(e<l&&(l=e),e>f&&(f=e));l=(l<<4)+this.G(n[l]);f=(f<<4)+this.U(n[f]);0>b&&(b=u-1);B>=u&&(B=0);l>=y&&(l=0);0>f&&(f=y-1);b>u-1&&(b=u-1);0>B&&(B=0);0>l&&(l=0);f>y-1&&(f=y-1);r.A=b;r.o=B;r.l=l;r.v=f;z.fill(0)};p.prototype.SO=function(){var a=this.li,c,d,e,m,n,q,u=this.ka,y,v=this.cb,r,B=this.Wf,b=0,l=0,f=0,t=this.height,x=this.width,z=x>>4,A=this.M,C=t,I=-1,G=x,F=-1,E=this.ua,D=this.pa>>4,H=
this.sd,N=this.Ca,K=this.xa,P=Math.round((this.width-N)/2),J=Math.round((this.height-K)/2),S=P+N-1,X=J+K-1;if(0!==(this.counter&1)){var U=this.Vb;var L=this.fb;var ja=this.qa;var W=this.ia;this.qc&&(a=this.ig)}else U=this.fb,L=this.Vb,ja=this.ia,W=this.qa;u.fill(0);v.fill(0);var ma=0;var sa=ma+16;W.Wa.fill(0);for(e=0;e<ja.length;e+=1){var ca=0;var V=ja[e];var ea=W[e];var fa=0<e?W[e-1]:H;var qa=e<E-1?W[e+1]:H;for(m=0;m<D;m+=1)if(n=V[m]){var na=ea[m];var T=fa[m];var Q=qa[m];for(c=15;0<=c;--c){if(0!==
(n&1<<c)){var Y=r=y=0;var ia=ma;var la=32768;var ba=0===ia?this.jf:U[ia-1];var M=U[ia];var O=U[ia+1];var oa=q=M[ca];if(ca)if(ca>=z-1){ba=(ba[ca-1]&1)<<17|ba[ca]<<1;M=(M[ca-1]&1)<<17|q<<1;var Z=(O[ca-1]&1)<<17|O[ca]<<1;if(d=ba|M|Z)if(d=a[ba>>12|M>>12<<6|Z&258048]<<12,d|=a[ba>>8&63|M>>2&4032|Z<<4&258048]<<8,d|=a[ba>>4&63|M<<2&4032|Z<<8&258048]<<4,d|=a[ba&63|(M&63)<<6|(Z&63)<<12])y|=d,r|=la,b+=B[d],0!==(d&32768)&&(Y|=k.Sb),Y|=k.Ib;L[ia][ca]=d;d|q&&(l+=B[d&~q],f+=B[q&~d]);ia+=1;for(la>>=1;ia<sa-1;){q=
O[ca];oa|=q;O=U[ia+1];ba=M;M=Z;Z=(O[ca-1]&1)<<17|O[ca]<<1;if(d=ba|M|Z)if(d=a[ba>>12|M>>12<<6|Z&258048]<<12,d|=a[ba>>8&63|M>>2&4032|Z<<4&258048]<<8,d|=a[ba>>4&63|M<<2&4032|Z<<8&258048]<<4,d|=a[ba&63|(M&63)<<6|(Z&63)<<12])y|=d,r|=la,b+=B[d];L[ia][ca]=d;d|q&&(l+=B[d&~q],f+=B[q&~d]);ia+=1;la>>=1}q=O[ca];oa|=q;O=ia===this.height-1?this.jf:U[ia+1];ba=M;M=Z;Z=(O[ca-1]&1)<<17|O[ca]<<1;if(d=ba|M|Z)if(d=a[ba>>12|M>>12<<6|Z&258048]<<12,d|=a[ba>>8&63|M>>2&4032|Z<<4&258048]<<8,d|=a[ba>>4&63|M<<2&4032|Z<<8&258048]<<
4,d|=a[ba&63|(M&63)<<6|(Z&63)<<12])y|=d,r|=la,b+=B[d],0!==(d&32768)&&(Y|=k.Xb),Y|=k.xb}else{ba=(ba[ca-1]&1)<<17|ba[ca]<<1|ba[ca+1]>>15;M=(M[ca-1]&1)<<17|q<<1|M[ca+1]>>15;Z=(O[ca-1]&1)<<17|O[ca]<<1|O[ca+1]>>15;if(d=ba|M|Z)if(d=a[ba>>12|M>>12<<6|Z&258048]<<12,d|=a[ba>>8&63|M>>2&4032|Z<<4&258048]<<8,d|=a[ba>>4&63|M<<2&4032|Z<<8&258048]<<4,d|=a[ba&63|(M&63)<<6|(Z&63)<<12])y|=d,r|=la,b+=B[d],0!==(d&32768)&&(Y|=k.Sb),0!==(d&1)&&(Y|=k.Tb),Y|=k.Ib;L[ia][ca]=d;d|q&&(l+=B[d&~q],f+=B[q&~d]);ia+=1;la>>=1;q=O[ca];
oa|=q;O=U[ia+1];ba=M;M=Z;Z=(O[ca-1]&1)<<17|O[ca]<<1|O[ca+1]>>15;if(d=ba|M|Z)if(d=a[ba>>12|M>>12<<6|Z&258048]<<12,d|=a[ba>>8&63|M>>2&4032|Z<<4&258048]<<8,d|=a[ba>>4&63|M<<2&4032|Z<<8&258048]<<4,d|=a[ba&63|(M&63)<<6|(Z&63)<<12])y|=d,r|=la,b+=B[d];L[ia][ca]=d;d|q&&(l+=B[d&~q],f+=B[q&~d]);ia+=1;la>>=1;q=O[ca];oa|=q;O=U[ia+1];ba=M;M=Z;Z=(O[ca-1]&1)<<17|O[ca]<<1|O[ca+1]>>15;if(d=ba|M|Z)if(d=a[ba>>12|M>>12<<6|Z&258048]<<12,d|=a[ba>>8&63|M>>2&4032|Z<<4&258048]<<8,d|=a[ba>>4&63|M<<2&4032|Z<<8&258048]<<4,d|=
a[ba&63|(M&63)<<6|(Z&63)<<12])y|=d,r|=la,b+=B[d];L[ia][ca]=d;d|q&&(l+=B[d&~q],f+=B[q&~d]);ia+=1;la>>=1;q=O[ca];oa|=q;O=U[ia+1];ba=M;M=Z;Z=(O[ca-1]&1)<<17|O[ca]<<1|O[ca+1]>>15;if(d=ba|M|Z)if(d=a[ba>>12|M>>12<<6|Z&258048]<<12,d|=a[ba>>8&63|M>>2&4032|Z<<4&258048]<<8,d|=a[ba>>4&63|M<<2&4032|Z<<8&258048]<<4,d|=a[ba&63|(M&63)<<6|(Z&63)<<12])y|=d,r|=la,b+=B[d];L[ia][ca]=d;d|q&&(l+=B[d&~q],f+=B[q&~d]);ia+=1;la>>=1;q=O[ca];oa|=q;O=U[ia+1];ba=M;M=Z;Z=(O[ca-1]&1)<<17|O[ca]<<1|O[ca+1]>>15;if(d=ba|M|Z)if(d=a[ba>>
12|M>>12<<6|Z&258048]<<12,d|=a[ba>>8&63|M>>2&4032|Z<<4&258048]<<8,d|=a[ba>>4&63|M<<2&4032|Z<<8&258048]<<4,d|=a[ba&63|(M&63)<<6|(Z&63)<<12])y|=d,r|=la,b+=B[d];L[ia][ca]=d;d|q&&(l+=B[d&~q],f+=B[q&~d]);ia+=1;la>>=1;q=O[ca];oa|=q;O=U[ia+1];ba=M;M=Z;Z=(O[ca-1]&1)<<17|O[ca]<<1|O[ca+1]>>15;if(d=ba|M|Z)if(d=a[ba>>12|M>>12<<6|Z&258048]<<12,d|=a[ba>>8&63|M>>2&4032|Z<<4&258048]<<8,d|=a[ba>>4&63|M<<2&4032|Z<<8&258048]<<4,d|=a[ba&63|(M&63)<<6|(Z&63)<<12])y|=d,r|=la,b+=B[d];L[ia][ca]=d;d|q&&(l+=B[d&~q],f+=B[q&
~d]);ia+=1;la>>=1;q=O[ca];oa|=q;O=U[ia+1];ba=M;M=Z;Z=(O[ca-1]&1)<<17|O[ca]<<1|O[ca+1]>>15;if(d=ba|M|Z)if(d=a[ba>>12|M>>12<<6|Z&258048]<<12,d|=a[ba>>8&63|M>>2&4032|Z<<4&258048]<<8,d|=a[ba>>4&63|M<<2&4032|Z<<8&258048]<<4,d|=a[ba&63|(M&63)<<6|(Z&63)<<12])y|=d,r|=la,b+=B[d];L[ia][ca]=d;d|q&&(l+=B[d&~q],f+=B[q&~d]);ia+=1;la>>=1;q=O[ca];oa|=q;O=U[ia+1];ba=M;M=Z;Z=(O[ca-1]&1)<<17|O[ca]<<1|O[ca+1]>>15;if(d=ba|M|Z)if(d=a[ba>>12|M>>12<<6|Z&258048]<<12,d|=a[ba>>8&63|M>>2&4032|Z<<4&258048]<<8,d|=a[ba>>4&63|M<<
2&4032|Z<<8&258048]<<4,d|=a[ba&63|(M&63)<<6|(Z&63)<<12])y|=d,r|=la,b+=B[d];L[ia][ca]=d;d|q&&(l+=B[d&~q],f+=B[q&~d]);ia+=1;la>>=1;q=O[ca];oa|=q;O=U[ia+1];ba=M;M=Z;Z=(O[ca-1]&1)<<17|O[ca]<<1|O[ca+1]>>15;if(d=ba|M|Z)if(d=a[ba>>12|M>>12<<6|Z&258048]<<12,d|=a[ba>>8&63|M>>2&4032|Z<<4&258048]<<8,d|=a[ba>>4&63|M<<2&4032|Z<<8&258048]<<4,d|=a[ba&63|(M&63)<<6|(Z&63)<<12])y|=d,r|=la,b+=B[d];L[ia][ca]=d;d|q&&(l+=B[d&~q],f+=B[q&~d]);ia+=1;la>>=1;q=O[ca];oa|=q;O=U[ia+1];ba=M;M=Z;Z=(O[ca-1]&1)<<17|O[ca]<<1|O[ca+
1]>>15;if(d=ba|M|Z)if(d=a[ba>>12|M>>12<<6|Z&258048]<<12,d|=a[ba>>8&63|M>>2&4032|Z<<4&258048]<<8,d|=a[ba>>4&63|M<<2&4032|Z<<8&258048]<<4,d|=a[ba&63|(M&63)<<6|(Z&63)<<12])y|=d,r|=la,b+=B[d];L[ia][ca]=d;d|q&&(l+=B[d&~q],f+=B[q&~d]);ia+=1;la>>=1;q=O[ca];oa|=q;O=U[ia+1];ba=M;M=Z;Z=(O[ca-1]&1)<<17|O[ca]<<1|O[ca+1]>>15;if(d=ba|M|Z)if(d=a[ba>>12|M>>12<<6|Z&258048]<<12,d|=a[ba>>8&63|M>>2&4032|Z<<4&258048]<<8,d|=a[ba>>4&63|M<<2&4032|Z<<8&258048]<<4,d|=a[ba&63|(M&63)<<6|(Z&63)<<12])y|=d,r|=la,b+=B[d];L[ia][ca]=
d;d|q&&(l+=B[d&~q],f+=B[q&~d]);ia+=1;la>>=1;q=O[ca];oa|=q;O=U[ia+1];ba=M;M=Z;Z=(O[ca-1]&1)<<17|O[ca]<<1|O[ca+1]>>15;if(d=ba|M|Z)if(d=a[ba>>12|M>>12<<6|Z&258048]<<12,d|=a[ba>>8&63|M>>2&4032|Z<<4&258048]<<8,d|=a[ba>>4&63|M<<2&4032|Z<<8&258048]<<4,d|=a[ba&63|(M&63)<<6|(Z&63)<<12])y|=d,r|=la,b+=B[d];L[ia][ca]=d;d|q&&(l+=B[d&~q],f+=B[q&~d]);ia+=1;la>>=1;q=O[ca];oa|=q;O=U[ia+1];ba=M;M=Z;Z=(O[ca-1]&1)<<17|O[ca]<<1|O[ca+1]>>15;if(d=ba|M|Z)if(d=a[ba>>12|M>>12<<6|Z&258048]<<12,d|=a[ba>>8&63|M>>2&4032|Z<<4&
258048]<<8,d|=a[ba>>4&63|M<<2&4032|Z<<8&258048]<<4,d|=a[ba&63|(M&63)<<6|(Z&63)<<12])y|=d,r|=la,b+=B[d];L[ia][ca]=d;d|q&&(l+=B[d&~q],f+=B[q&~d]);ia+=1;la>>=1;q=O[ca];oa|=q;O=U[ia+1];ba=M;M=Z;Z=(O[ca-1]&1)<<17|O[ca]<<1|O[ca+1]>>15;if(d=ba|M|Z)if(d=a[ba>>12|M>>12<<6|Z&258048]<<12,d|=a[ba>>8&63|M>>2&4032|Z<<4&258048]<<8,d|=a[ba>>4&63|M<<2&4032|Z<<8&258048]<<4,d|=a[ba&63|(M&63)<<6|(Z&63)<<12])y|=d,r|=la,b+=B[d];L[ia][ca]=d;d|q&&(l+=B[d&~q],f+=B[q&~d]);ia+=1;la>>=1;q=O[ca];oa|=q;O=U[ia+1];ba=M;M=Z;Z=(O[ca-
1]&1)<<17|O[ca]<<1|O[ca+1]>>15;if(d=ba|M|Z)if(d=a[ba>>12|M>>12<<6|Z&258048]<<12,d|=a[ba>>8&63|M>>2&4032|Z<<4&258048]<<8,d|=a[ba>>4&63|M<<2&4032|Z<<8&258048]<<4,d|=a[ba&63|(M&63)<<6|(Z&63)<<12])y|=d,r|=la,b+=B[d];L[ia][ca]=d;d|q&&(l+=B[d&~q],f+=B[q&~d]);ia+=1;la>>=1;q=O[ca];oa|=q;O=ia===this.height-1?this.jf:U[ia+1];ba=M;M=Z;Z=(O[ca-1]&1)<<17|O[ca]<<1|O[ca+1]>>15;if(d=ba|M|Z)if(d=a[ba>>12|M>>12<<6|Z&258048]<<12,d|=a[ba>>8&63|M>>2&4032|Z<<4&258048]<<8,d|=a[ba>>4&63|M<<2&4032|Z<<8&258048]<<4,d|=a[ba&
63|(M&63)<<6|(Z&63)<<12])y|=d,r|=la,b+=B[d],0!==(d&32768)&&(Y|=k.Xb),0!==(d&1)&&(Y|=k.wb),Y|=k.xb}else{ba=ba[ca]<<1|ba[ca+1]>>15;M=q<<1|M[ca+1]>>15;Z=O[ca]<<1|O[ca+1]>>15;if(d=ba|M|Z)if(d=a[ba>>12|M>>12<<6|Z&258048]<<12,d|=a[ba>>8&63|M>>2&4032|Z<<4&258048]<<8,d|=a[ba>>4&63|M<<2&4032|Z<<8&258048]<<4,d|=a[ba&63|(M&63)<<6|(Z&63)<<12])y|=d,r|=la,0!==(d&1)&&(Y|=k.Tb),Y|=k.Ib,b+=B[d];L[ia][ca]=d;d|q&&(l+=B[d&~q],f+=B[q&~d]);ia+=1;for(la>>=1;ia<sa-1;){q=O[ca];oa|=q;O=U[ia+1];ba=M;M=Z;Z=O[ca]<<1|O[ca+1]>>
15;if(d=ba|M|Z)if(d=a[ba>>12|M>>12<<6|Z&258048]<<12,d|=a[ba>>8&63|M>>2&4032|Z<<4&258048]<<8,d|=a[ba>>4&63|M<<2&4032|Z<<8&258048]<<4,d|=a[ba&63|(M&63)<<6|(Z&63)<<12])y|=d,r|=la,b+=B[d];L[ia][ca]=d;d|q&&(l+=B[d&~q],f+=B[q&~d]);ia+=1;la>>=1}q=O[ca];oa|=q;O=ia===this.height-1?this.jf:U[ia+1];ba=M;M=Z;Z=O[ca]<<1|O[ca+1]>>15;if(d=ba|M|Z)if(d=a[ba>>12|M>>12<<6|Z&258048]<<12,d|=a[ba>>8&63|M>>2&4032|Z<<4&258048]<<8,d|=a[ba>>4&63|M<<2&4032|Z<<8&258048]<<4,d|=a[ba&63|(M&63)<<6|(Z&63)<<12])y|=d,r|=la,b+=B[d],
0!==(d&1)&&(Y|=k.wb),Y|=k.xb}L[ia][ca]=d;d|q&&(l+=B[d&~q],f+=B[q&~d]);y&&(0!==(y&32768)&&(Y|=k.Lb),0!==(y&1)&&(Y|=k.kb));u[ca]|=y;if(y||oa)na|=1<<c,Y&&(0!==(Y&k.Lb)&&(15>c?na|=1<<c+1:0<m&&0<ca&&(ea[m-1]|=1)),0!==(Y&k.kb)&&(0<c?na|=1<<c-1:m<D-1&&ca<z-1&&(ea[m+1]|=32768)),0!==(Y&k.Ib)&&(T|=1<<c),0!==(Y&k.xb)&&(Q|=1<<c),0!==(Y&k.Sb)&&(15>c?T|=1<<c+1:0<m&&0<ca&&(fa[m-1]|=1)),0!==(Y&k.Tb)&&(0<c?T|=1<<c-1:m<D-1&&ca<z-1&&(fa[m+1]|=32768)),0!==(Y&k.Xb)&&(15>c?Q|=1<<c+1:0<m&&0<ca&&(qa[m-1]|=1)),0!==(Y&k.wb)&&
(0<c?Q|=1<<c-1:m<D-1&&ca<z-1&&(qa[m+1]|=32768)));v[e]|=r}ca+=1}ea[m]|=na;0<e&&(fa[m]|=T);e<E-1&&(qa[m]|=Q)}else ca+=16;ma+=16;sa+=16}-1!==this.ya&&(0!==N&&(u[P-1>>4]&=~(1<<(~(P-1)&15)),u[S+1>>4]&=~(1<<(~(S+1)&15)),u[P-2>>4]&=~(1<<(~(P-2)&15)),u[S+2>>4]&=~(1<<(~(S+2)&15))),0!==K&&(v[J-1>>4]&=~(1<<(~(J-1)&15)),v[X+1>>4]&=~(1<<(~(X+1)&15)),v[J-2>>4]&=~(1<<(~(J-2)&15)),v[X+2>>4]&=~(1<<(~(X+2)&15))));for(m=0;m<z;m+=1)u[m]&&(m<G&&(G=m),m>F&&(F=m));for(e=0;e<v.length;e+=1)v[e]&&(e<C&&(C=e),e>I&&(I=e));G=
(G<<4)+this.G(u[G]);F=(F<<4)+this.U(u[F]);C=(C<<4)+this.G(v[C]);I=(I<<4)+this.U(v[I]);0>I&&(I=t-1);C>=t&&(C=0);G>=x&&(G=0);0>F&&(F=x-1);I>t-1&&(I=t-1);0>C&&(C=0);0>G&&(G=0);F>x-1&&(F=x-1);A.A=I;A.o=C;A.l=G;A.v=F;H.fill(0);this.oa=b;this.Qb=l;this.Ub=f};p.prototype.mJ=function(){var a=this.li,c,d,e,m,n,q=this.ka,u,y=this.cb,v,r=this.height,B=this.width,b=B>>4,l=this.M,f=r,t=-1,x=B,z=-1,A=this.ua,C=this.pa>>4,I=this.sd,G=this.Ca,F=this.xa,E=Math.round((this.width-G)/2),D=Math.round((this.height-F)/
2),H=E+G-1,N=D+F-1;if(0!==(this.counter&1)){var K=this.Vb;var P=this.fb;var J=this.qa;var S=this.ia;this.qc&&(a=this.ig)}else K=this.fb,P=this.Vb,J=this.ia,S=this.qa;q.fill(0);y.fill(0);var X=0;var U=X+16;S.Wa.fill(0);for(e=0;e<J.length;e+=1){var L=0;var ja=J[e];var W=S[e];var ma=0<e?S[e-1]:I;var sa=e<A-1?S[e+1]:I;for(m=0;m<C;m+=1)if(n=ja[m]){var ca=W[m];var V=ma[m];var ea=sa[m];for(c=15;0<=c;--c){if(0!==(n&1<<c)){var fa=v=u=0;var qa=X;var na=32768;var T=0===qa?this.jf:K[qa-1];var Q=K[qa];var Y=K[qa+
1];var ia=Q[L];if(L)if(L>=b-1){T=(T[L-1]&1)<<17|T[L]<<1;Q=(Q[L-1]&1)<<17|ia<<1;var la=(Y[L-1]&1)<<17|Y[L]<<1;if(d=T|Q|la)if(d=a[T>>12|Q>>12<<6|la&258048]<<12,d|=a[T>>8&63|Q>>2&4032|la<<4&258048]<<8,d|=a[T>>4&63|Q<<2&4032|la<<8&258048]<<4,d|=a[T&63|(Q&63)<<6|(la&63)<<12])u|=d,v|=na,0!==(d&32768)&&(fa|=k.Sb),fa|=k.Ib;P[qa][L]=d;qa+=1;for(na>>=1;qa<U-1;){ia|=Y[L];Y=K[qa+1];T=Q;Q=la;la=(Y[L-1]&1)<<17|Y[L]<<1;if(d=T|Q|la)if(d=a[T>>12|Q>>12<<6|la&258048]<<12,d|=a[T>>8&63|Q>>2&4032|la<<4&258048]<<8,d|=a[T>>
4&63|Q<<2&4032|la<<8&258048]<<4,d|=a[T&63|(Q&63)<<6|(la&63)<<12])u|=d,v|=na;P[qa][L]=d;qa+=1;na>>=1}ia|=Y[L];Y=qa===this.height-1?this.jf:K[qa+1];T=Q;Q=la;la=(Y[L-1]&1)<<17|Y[L]<<1;if(d=T|Q|la)if(d=a[T>>12|Q>>12<<6|la&258048]<<12,d|=a[T>>8&63|Q>>2&4032|la<<4&258048]<<8,d|=a[T>>4&63|Q<<2&4032|la<<8&258048]<<4,d|=a[T&63|(Q&63)<<6|(la&63)<<12])u|=d,v|=na,0!==(d&32768)&&(fa|=k.Xb),fa|=k.xb}else{T=(T[L-1]&1)<<17|T[L]<<1|T[L+1]>>15;Q=(Q[L-1]&1)<<17|ia<<1|Q[L+1]>>15;la=(Y[L-1]&1)<<17|Y[L]<<1|Y[L+1]>>15;
if(d=T|Q|la)if(d=a[T>>12|Q>>12<<6|la&258048]<<12,d|=a[T>>8&63|Q>>2&4032|la<<4&258048]<<8,d|=a[T>>4&63|Q<<2&4032|la<<8&258048]<<4,d|=a[T&63|(Q&63)<<6|(la&63)<<12])u|=d,v|=na,0!==(d&32768)&&(fa|=k.Sb),0!==(d&1)&&(fa|=k.Tb),fa|=k.Ib;P[qa][L]=d;qa+=1;na>>=1;ia|=Y[L];Y=K[qa+1];T=Q;Q=la;la=(Y[L-1]&1)<<17|Y[L]<<1|Y[L+1]>>15;if(d=T|Q|la)if(d=a[T>>12|Q>>12<<6|la&258048]<<12,d|=a[T>>8&63|Q>>2&4032|la<<4&258048]<<8,d|=a[T>>4&63|Q<<2&4032|la<<8&258048]<<4,d|=a[T&63|(Q&63)<<6|(la&63)<<12])u|=d,v|=na;P[qa][L]=
d;qa+=1;na>>=1;ia|=Y[L];Y=K[qa+1];T=Q;Q=la;la=(Y[L-1]&1)<<17|Y[L]<<1|Y[L+1]>>15;if(d=T|Q|la)if(d=a[T>>12|Q>>12<<6|la&258048]<<12,d|=a[T>>8&63|Q>>2&4032|la<<4&258048]<<8,d|=a[T>>4&63|Q<<2&4032|la<<8&258048]<<4,d|=a[T&63|(Q&63)<<6|(la&63)<<12])u|=d,v|=na;P[qa][L]=d;qa+=1;na>>=1;ia|=Y[L];Y=K[qa+1];T=Q;Q=la;la=(Y[L-1]&1)<<17|Y[L]<<1|Y[L+1]>>15;if(d=T|Q|la)if(d=a[T>>12|Q>>12<<6|la&258048]<<12,d|=a[T>>8&63|Q>>2&4032|la<<4&258048]<<8,d|=a[T>>4&63|Q<<2&4032|la<<8&258048]<<4,d|=a[T&63|(Q&63)<<6|(la&63)<<12])u|=
d,v|=na;P[qa][L]=d;qa+=1;na>>=1;ia|=Y[L];Y=K[qa+1];T=Q;Q=la;la=(Y[L-1]&1)<<17|Y[L]<<1|Y[L+1]>>15;if(d=T|Q|la)if(d=a[T>>12|Q>>12<<6|la&258048]<<12,d|=a[T>>8&63|Q>>2&4032|la<<4&258048]<<8,d|=a[T>>4&63|Q<<2&4032|la<<8&258048]<<4,d|=a[T&63|(Q&63)<<6|(la&63)<<12])u|=d,v|=na;P[qa][L]=d;qa+=1;na>>=1;ia|=Y[L];Y=K[qa+1];T=Q;Q=la;la=(Y[L-1]&1)<<17|Y[L]<<1|Y[L+1]>>15;if(d=T|Q|la)if(d=a[T>>12|Q>>12<<6|la&258048]<<12,d|=a[T>>8&63|Q>>2&4032|la<<4&258048]<<8,d|=a[T>>4&63|Q<<2&4032|la<<8&258048]<<4,d|=a[T&63|(Q&
63)<<6|(la&63)<<12])u|=d,v|=na;P[qa][L]=d;qa+=1;na>>=1;ia|=Y[L];Y=K[qa+1];T=Q;Q=la;la=(Y[L-1]&1)<<17|Y[L]<<1|Y[L+1]>>15;if(d=T|Q|la)if(d=a[T>>12|Q>>12<<6|la&258048]<<12,d|=a[T>>8&63|Q>>2&4032|la<<4&258048]<<8,d|=a[T>>4&63|Q<<2&4032|la<<8&258048]<<4,d|=a[T&63|(Q&63)<<6|(la&63)<<12])u|=d,v|=na;P[qa][L]=d;qa+=1;na>>=1;ia|=Y[L];Y=K[qa+1];T=Q;Q=la;la=(Y[L-1]&1)<<17|Y[L]<<1|Y[L+1]>>15;if(d=T|Q|la)if(d=a[T>>12|Q>>12<<6|la&258048]<<12,d|=a[T>>8&63|Q>>2&4032|la<<4&258048]<<8,d|=a[T>>4&63|Q<<2&4032|la<<8&258048]<<
4,d|=a[T&63|(Q&63)<<6|(la&63)<<12])u|=d,v|=na;P[qa][L]=d;qa+=1;na>>=1;ia|=Y[L];Y=K[qa+1];T=Q;Q=la;la=(Y[L-1]&1)<<17|Y[L]<<1|Y[L+1]>>15;if(d=T|Q|la)if(d=a[T>>12|Q>>12<<6|la&258048]<<12,d|=a[T>>8&63|Q>>2&4032|la<<4&258048]<<8,d|=a[T>>4&63|Q<<2&4032|la<<8&258048]<<4,d|=a[T&63|(Q&63)<<6|(la&63)<<12])u|=d,v|=na;P[qa][L]=d;qa+=1;na>>=1;ia|=Y[L];Y=K[qa+1];T=Q;Q=la;la=(Y[L-1]&1)<<17|Y[L]<<1|Y[L+1]>>15;if(d=T|Q|la)if(d=a[T>>12|Q>>12<<6|la&258048]<<12,d|=a[T>>8&63|Q>>2&4032|la<<4&258048]<<8,d|=a[T>>4&63|Q<<
2&4032|la<<8&258048]<<4,d|=a[T&63|(Q&63)<<6|(la&63)<<12])u|=d,v|=na;P[qa][L]=d;qa+=1;na>>=1;ia|=Y[L];Y=K[qa+1];T=Q;Q=la;la=(Y[L-1]&1)<<17|Y[L]<<1|Y[L+1]>>15;if(d=T|Q|la)if(d=a[T>>12|Q>>12<<6|la&258048]<<12,d|=a[T>>8&63|Q>>2&4032|la<<4&258048]<<8,d|=a[T>>4&63|Q<<2&4032|la<<8&258048]<<4,d|=a[T&63|(Q&63)<<6|(la&63)<<12])u|=d,v|=na;P[qa][L]=d;qa+=1;na>>=1;ia|=Y[L];Y=K[qa+1];T=Q;Q=la;la=(Y[L-1]&1)<<17|Y[L]<<1|Y[L+1]>>15;if(d=T|Q|la)if(d=a[T>>12|Q>>12<<6|la&258048]<<12,d|=a[T>>8&63|Q>>2&4032|la<<4&258048]<<
8,d|=a[T>>4&63|Q<<2&4032|la<<8&258048]<<4,d|=a[T&63|(Q&63)<<6|(la&63)<<12])u|=d,v|=na;P[qa][L]=d;qa+=1;na>>=1;ia|=Y[L];Y=K[qa+1];T=Q;Q=la;la=(Y[L-1]&1)<<17|Y[L]<<1|Y[L+1]>>15;if(d=T|Q|la)if(d=a[T>>12|Q>>12<<6|la&258048]<<12,d|=a[T>>8&63|Q>>2&4032|la<<4&258048]<<8,d|=a[T>>4&63|Q<<2&4032|la<<8&258048]<<4,d|=a[T&63|(Q&63)<<6|(la&63)<<12])u|=d,v|=na;P[qa][L]=d;qa+=1;na>>=1;ia|=Y[L];Y=K[qa+1];T=Q;Q=la;la=(Y[L-1]&1)<<17|Y[L]<<1|Y[L+1]>>15;if(d=T|Q|la)if(d=a[T>>12|Q>>12<<6|la&258048]<<12,d|=a[T>>8&63|Q>>
2&4032|la<<4&258048]<<8,d|=a[T>>4&63|Q<<2&4032|la<<8&258048]<<4,d|=a[T&63|(Q&63)<<6|(la&63)<<12])u|=d,v|=na;P[qa][L]=d;qa+=1;na>>=1;ia|=Y[L];Y=K[qa+1];T=Q;Q=la;la=(Y[L-1]&1)<<17|Y[L]<<1|Y[L+1]>>15;if(d=T|Q|la)if(d=a[T>>12|Q>>12<<6|la&258048]<<12,d|=a[T>>8&63|Q>>2&4032|la<<4&258048]<<8,d|=a[T>>4&63|Q<<2&4032|la<<8&258048]<<4,d|=a[T&63|(Q&63)<<6|(la&63)<<12])u|=d,v|=na;P[qa][L]=d;qa+=1;na>>=1;ia|=Y[L];Y=qa===this.height-1?this.jf:K[qa+1];T=Q;Q=la;la=(Y[L-1]&1)<<17|Y[L]<<1|Y[L+1]>>15;if(d=T|Q|la)if(d=
a[T>>12|Q>>12<<6|la&258048]<<12,d|=a[T>>8&63|Q>>2&4032|la<<4&258048]<<8,d|=a[T>>4&63|Q<<2&4032|la<<8&258048]<<4,d|=a[T&63|(Q&63)<<6|(la&63)<<12])u|=d,v|=na,0!==(d&32768)&&(fa|=k.Xb),0!==(d&1)&&(fa|=k.wb),fa|=k.xb}else{T=T[L]<<1|T[L+1]>>15;Q=ia<<1|Q[L+1]>>15;la=Y[L]<<1|Y[L+1]>>15;if(d=T|Q|la)if(d=a[T>>12|Q>>12<<6|la&258048]<<12,d|=a[T>>8&63|Q>>2&4032|la<<4&258048]<<8,d|=a[T>>4&63|Q<<2&4032|la<<8&258048]<<4,d|=a[T&63|(Q&63)<<6|(la&63)<<12])u|=d,v|=na,0!==(d&1)&&(fa|=k.Tb),fa|=k.Ib;P[qa][L]=d;qa+=1;
for(na>>=1;qa<U-1;){ia|=Y[L];Y=K[qa+1];T=Q;Q=la;la=Y[L]<<1|Y[L+1]>>15;if(d=T|Q|la)if(d=a[T>>12|Q>>12<<6|la&258048]<<12,d|=a[T>>8&63|Q>>2&4032|la<<4&258048]<<8,d|=a[T>>4&63|Q<<2&4032|la<<8&258048]<<4,d|=a[T&63|(Q&63)<<6|(la&63)<<12])u|=d,v|=na;P[qa][L]=d;qa+=1;na>>=1}ia|=Y[L];Y=qa===this.height-1?this.jf:K[qa+1];T=Q;Q=la;la=Y[L]<<1|Y[L+1]>>15;if(d=T|Q|la)if(d=a[T>>12|Q>>12<<6|la&258048]<<12,d|=a[T>>8&63|Q>>2&4032|la<<4&258048]<<8,d|=a[T>>4&63|Q<<2&4032|la<<8&258048]<<4,d|=a[T&63|(Q&63)<<6|(la&63)<<
12])u|=d,v|=na,0!==(d&1)&&(fa|=k.wb),fa|=k.xb}P[qa][L]=d;u&&(0!==(u&32768)&&(fa|=k.Lb),0!==(u&1)&&(fa|=k.kb));q[L]|=u;if(u||ia)ca|=1<<c,fa&&(0!==(fa&k.Lb)&&(15>c?ca|=1<<c+1:0<m&&0<L&&(W[m-1]|=1)),0!==(fa&k.kb)&&(0<c?ca|=1<<c-1:m<C-1&&L<b-1&&(W[m+1]|=32768)),0!==(fa&k.Ib)&&(V|=1<<c),0!==(fa&k.xb)&&(ea|=1<<c),0!==(fa&k.Sb)&&(15>c?V|=1<<c+1:0<m&&0<L&&(ma[m-1]|=1)),0!==(fa&k.Tb)&&(0<c?V|=1<<c-1:m<C-1&&L<b-1&&(ma[m+1]|=32768)),0!==(fa&k.Xb)&&(15>c?ea|=1<<c+1:0<m&&0<L&&(sa[m-1]|=1)),0!==(fa&k.wb)&&(0<c?
ea|=1<<c-1:m<C-1&&L<b-1&&(sa[m+1]|=32768)));y[e]|=v}L+=1}W[m]|=ca;0<e&&(ma[m]|=V);e<A-1&&(sa[m]|=ea)}else L+=16;X+=16;U+=16}-1!==this.ya&&(0!==G&&(q[E-1>>4]&=~(1<<(~(E-1)&15)),q[H+1>>4]&=~(1<<(~(H+1)&15)),q[E-2>>4]&=~(1<<(~(E-2)&15)),q[H+2>>4]&=~(1<<(~(H+2)&15))),0!==F&&(y[D-1>>4]&=~(1<<(~(D-1)&15)),y[N+1>>4]&=~(1<<(~(N+1)&15)),y[D-2>>4]&=~(1<<(~(D-2)&15)),y[N+2>>4]&=~(1<<(~(N+2)&15))));for(m=0;m<b;m+=1)q[m]&&(m<x&&(x=m),m>z&&(z=m));for(e=0;e<y.length;e+=1)y[e]&&(e<f&&(f=e),e>t&&(t=e));x=(x<<4)+this.G(q[x]);
z=(z<<4)+this.U(q[z]);f=(f<<4)+this.G(y[f]);t=(t<<4)+this.U(y[t]);0>t&&(t=r-1);f>=r&&(f=0);x>=B&&(x=0);0>z&&(z=B-1);t>r-1&&(t=r-1);0>f&&(f=0);0>x&&(x=0);z>B-1&&(z=B-1);l.A=t;l.o=f;l.l=x;l.v=z;I.fill(0)};p.prototype.wD=function(a,c){var d,e=this.Da,m,n,q,u,y=this.ua,v=this.pa>>4;var r=0;var B=r+16;for(m=0;m<y;m+=1){var b=0;var l=e[m];for(n=0;n<v;n+=1)if(u=l[n])for(q=15;0<=q;--q){if(0!==(u&1<<q))for(d=r;d<B;d+=2){var f=c[d];var t=a[d];var x=a[d+1];var z=b<<3;var A=t[z];A|=x[z];f[z+z]=A|A>>8;z+=1;A=
t[z];A|=x[z];f[z+z]=A|A>>8;z+=1;A=t[z];A|=x[z];f[z+z]=A|A>>8;z+=1;A=t[z];A|=x[z];f[z+z]=A|A>>8;z+=1;A=t[z];A|=x[z];f[z+z]=A|A>>8;z+=1;A=t[z];A|=x[z];f[z+z]=A|A>>8;z+=1;A=t[z];A|=x[z];f[z+z]=A|A>>8;z+=1;A=t[z];A|=x[z];f[z+z]=A|A>>8}b+=1}else b+=16;r+=16;B+=16}};p.prototype.Mt=function(a,c){var d,e=this.Da,m,n,q,u,y=this.ua,v=this.pa>>4;var r=0;var B=r+16;for(m=0;m<y;m+=1){var b=0;var l=e[m];for(n=0;n<v;n+=1)if(u=l[n])for(q=15;0<=q;--q){if(0!==(u&1<<q))for(d=r;d<B;d+=2){var f=c[d];var t=a[d];var x=
a[d+1];var z=b<<3;var A=t[z];var C=A&255;A>>=8;C-=C-(A&255)&C-(A&255)>>255;A=x[z];C-=C-(A&255)&C-(A&255)>>255;A>>=8;f[z+z]=C-(C-(A&255)&C-(A&255)>>255);z+=1;A=t[z];C=A&255;A>>=8;C-=C-(A&255)&C-(A&255)>>255;A=x[z];C-=C-(A&255)&C-(A&255)>>255;A>>=8;f[z+z]=C-(C-(A&255)&C-(A&255)>>255);z+=1;A=t[z];C=A&255;A>>=8;C-=C-(A&255)&C-(A&255)>>255;A=x[z];C-=C-(A&255)&C-(A&255)>>255;A>>=8;f[z+z]=C-(C-(A&255)&C-(A&255)>>255);z+=1;A=t[z];C=A&255;A>>=8;C-=C-(A&255)&C-(A&255)>>255;A=x[z];C-=C-(A&255)&C-(A&255)>>255;
A>>=8;f[z+z]=C-(C-(A&255)&C-(A&255)>>255);z+=1;A=t[z];C=A&255;A>>=8;C-=C-(A&255)&C-(A&255)>>255;A=x[z];C-=C-(A&255)&C-(A&255)>>255;A>>=8;f[z+z]=C-(C-(A&255)&C-(A&255)>>255);z+=1;A=t[z];C=A&255;A>>=8;C-=C-(A&255)&C-(A&255)>>255;A=x[z];C-=C-(A&255)&C-(A&255)>>255;A>>=8;f[z+z]=C-(C-(A&255)&C-(A&255)>>255);z+=1;A=t[z];C=A&255;A>>=8;C-=C-(A&255)&C-(A&255)>>255;A=x[z];C-=C-(A&255)&C-(A&255)>>255;A>>=8;f[z+z]=C-(C-(A&255)&C-(A&255)>>255);z+=1;A=t[z];C=A&255;A>>=8;C-=C-(A&255)&C-(A&255)>>255;A=x[z];C-=C-
(A&255)&C-(A&255)>>255;A>>=8;f[z+z]=C-(C-(A&255)&C-(A&255)>>255)}b+=1}else b+=16;r+=16;B+=16}};p.prototype.AD=function(a,c){var d,e=this.Da,m,n,q,u,y=this.ua,v=this.pa>>4;var r=0;var B=r+16;for(m=0;m<y;m+=1){var b=0;var l=e[m];for(n=0;n<v;n+=1)if(u=l[n])for(q=15;0<=q;--q){if(0!==(u&1<<q))for(d=r;d<B;d+=4){var f=c[d];var t=a[d];var x=a[d+1];var z=a[d+2];var A=a[d+3];var C=b<<2;var I=b<<4;var G=t[C]|x[C]|z[C]|A[C];f[I]=(0<G)<<6;C+=1;I+=4;G=t[C]|x[C]|z[C]|A[C];f[I]=(0<G)<<6;C+=1;I+=4;G=t[C]|x[C]|z[C]|
A[C];f[I]=(0<G)<<6;C+=1;I+=4;G=t[C]|x[C]|z[C]|A[C];f[I]=(0<G)<<6}b+=1}else b+=16;r+=16;B+=16}};p.prototype.Nt=function(a,c){var d,e,m=this.Da,n,q,u,y,v,r=this.ua,B=this.pa>>4;var b=0;var l=b+16;for(q=0;q<r;q+=1){var f=0;var t=m[q];for(u=0;u<B;u+=1)if(v=t[u])for(y=15;0<=y;--y){if(0!==(v&1<<y))for(d=b;d<l;d+=4){var x=c[d];var z=a[d];var A=a[d+1];var C=a[d+2];var I=a[d+3];var G=f<<2;var F=f<<4;for(e=0;4>e;e+=1){var E=0;if(n=z[G])E-=E-(n&255)&E-(n&255)>>255,n>>=8,E-=E-(n&255)&E-(n&255)>>255,n>>=8,E-=
E-(n&255)&E-(n&255)>>255,n>>=8,E-=E-(n&255)&E-(n&255)>>255;if(n=A[G])E-=E-(n&255)&E-(n&255)>>255,n>>=8,E-=E-(n&255)&E-(n&255)>>255,n>>=8,E-=E-(n&255)&E-(n&255)>>255,n>>=8,E-=E-(n&255)&E-(n&255)>>255;if(n=C[G])E-=E-(n&255)&E-(n&255)>>255,n>>=8,E-=E-(n&255)&E-(n&255)>>255,n>>=8,E-=E-(n&255)&E-(n&255)>>255,n>>=8,E-=E-(n&255)&E-(n&255)>>255;if(n=I[G])E-=E-(n&255)&E-(n&255)>>255,n>>=8,E-=E-(n&255)&E-(n&255)>>255,n>>=8,E-=E-(n&255)&E-(n&255)>>255,n>>=8,E-=E-(n&255)&E-(n&255)>>255;x[F]=E;G+=1;F+=4}}f+=1}else f+=
16;b+=16;l+=16}};p.prototype.Cx=function(a,c){var d,e=this.Da,m,n,q,u,y=this.ua,v=this.pa>>4;var r=0;var B=r+16;for(m=0;m<y;m+=1){var b=0;var l=e[m];for(n=0;n<v;n+=1)if(u=l[n])for(q=15;0<=q;--q){if(0!==(u&1<<q))for(d=r;d<B;d+=8){var f=c[d];var t=a[d];var x=a[d+1];var z=a[d+2];var A=a[d+3];var C=a[d+4];var I=a[d+5];var G=a[d+6];var F=a[d+7];var E=b<<2;var D=b<<4;var H=t[E]|t[E+1];H|=x[E]|x[E+1];H|=z[E]|z[E+1];H|=A[E]|A[E+1];0===H&&(H|=C[E]|C[E+1],H|=I[E]|I[E+1],H|=G[E]|G[E+1],H|=F[E]|F[E+1]);f[D]=
(0<H)<<6;E+=2;D+=8;H=t[E]|t[E+1];H|=x[E]|x[E+1];H|=z[E]|z[E+1];H|=A[E]|A[E+1];0===H&&(H|=C[E]|C[E+1],H|=I[E]|I[E+1],H|=G[E]|G[E+1],H|=F[E]|F[E+1]);f[D]=(0<H)<<6}b+=1}else b+=16;r+=16;B+=16}};p.prototype.Ot=function(a,c){var d,e,m=this.Da,n,q,u,y,v,r=this.ua,B=this.pa>>4;var b=0;var l=b+16;for(q=0;q<r;q+=1){var f=0;var t=m[q];for(u=0;u<B;u+=1)if(v=t[u])for(y=15;0<=y;--y){if(0!==(v&1<<y))for(d=b;d<l;d+=8){var x=c[d];var z=a[d];var A=a[d+1];var C=a[d+2];var I=a[d+3];var G=a[d+4];var F=a[d+5];var E=a[d+
6];var D=a[d+7];var H=f<<2;var N=f<<4;for(e=0;2>e;e+=1){var K=0;if(n=z[H])K-=K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>255;if(n=z[H+1])K-=K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>255;if(n=A[H])K-=K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>255;if(n=A[H+1])K-=
K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>255;if(n=C[H])K-=K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>255;if(n=C[H+1])K-=K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>255;if(n=I[H])K-=K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-
(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>255;if(n=I[H+1])K-=K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>255;if(n=G[H])K-=K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>255;if(n=G[H+1])K-=K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>255;if(n=F[H])K-=K-(n&255)&K-(n&255)>>
255,n>>=8,K-=K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>255;if(n=F[H+1])K-=K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>255;if(n=E[H])K-=K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>255;if(n=E[H+1])K-=K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>255,n>>=8,
K-=K-(n&255)&K-(n&255)>>255;if(n=D[H])K-=K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>255;if(n=D[H+1])K-=K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>255;x[N]=K;H+=2;N+=8}}f+=1}else f+=16;b+=16;l+=16}};p.prototype.bD=function(a,c){var d=this.Da,e,m,n,q,u,y=this.ua,v=this.pa>>4;for(e=q=0;e<y;e+=1){var r=0;var B=d[e];for(m=0;m<v;m+=1)if(u=B[m])for(n=
15;0<=n;--n){if(0!==(u&1<<n)){var b=c[q];var l=a[q];var f=a[q+1];var t=a[q+2];var x=a[q+3];var z=a[q+4];var A=a[q+5];var C=a[q+6];var I=a[q+7];var G=a[q+8];var F=a[q+9];var E=a[q+10];var D=a[q+11];var H=a[q+12];var N=a[q+13];var K=a[q+14];var P=a[q+15];var J=r<<2;var S=r<<4;l=l[J]|l[J+1]|l[J+2]|l[J+3];l|=f[J]|f[J+1]|f[J+2]|f[J+3];l|=t[J]|t[J+1]|t[J+2]|t[J+3];l|=x[J]|x[J+1]|x[J+2]|x[J+3];0===l&&(l|=z[J]|z[J+1]|z[J+2]|z[J+3],l|=A[J]|A[J+1]|A[J+2]|A[J+3],l|=C[J]|C[J+1]|C[J+2]|C[J+3],l|=I[J]|I[J+1]|I[J+
2]|I[J+3],0===l&&(l|=G[J]|G[J+1]|G[J+2]|G[J+3],l|=F[J]|F[J+1]|F[J+2]|F[J+3],l|=E[J]|E[J+1]|E[J+2]|E[J+3],l|=D[J]|D[J+1]|D[J+2]|D[J+3],0===l&&(l|=H[J]|H[J+1]|H[J+2]|H[J+3],l|=N[J]|N[J+1]|N[J+2]|N[J+3],l|=K[J]|K[J+1]|K[J+2]|K[J+3],l|=P[J]|P[J+1]|P[J+2]|P[J+3])));b[S]=(0<l)<<6}r+=1}else r+=16;q+=16}};p.prototype.Lt=function(a,c){var d=this.Da,e,m,n,q,u,y,v=this.ua,r=this.pa>>4;var B=0;var b=B+16;for(m=0;m<v;m+=1){var l=0;var f=d[m];for(n=0;n<r;n+=1)if(y=f[n])for(q=15;0<=q;--q){if(0!==(y&1<<q)){var t=
0;for(u=B;u<b;u+=1){var x=a[u];var z=l<<2;if(e=x[z])t-=t-(e&255)&t-(e&255)>>255,e>>=8,t-=t-(e&255)&t-(e&255)>>255,e>>=8,t-=t-(e&255)&t-(e&255)>>255,e>>=8,t-=t-(e&255)&t-(e&255)>>255;if(e=x[z+1])t-=t-(e&255)&t-(e&255)>>255,e>>=8,t-=t-(e&255)&t-(e&255)>>255,e>>=8,t-=t-(e&255)&t-(e&255)>>255,e>>=8,t-=t-(e&255)&t-(e&255)>>255;if(e=x[z+2])t-=t-(e&255)&t-(e&255)>>255,e>>=8,t-=t-(e&255)&t-(e&255)>>255,e>>=8,t-=t-(e&255)&t-(e&255)>>255,e>>=8,t-=t-(e&255)&t-(e&255)>>255;if(e=x[z+3])t-=t-(e&255)&t-(e&255)>>
255,e>>=8,t-=t-(e&255)&t-(e&255)>>255,e>>=8,t-=t-(e&255)&t-(e&255)>>255,e>>=8,t-=t-(e&255)&t-(e&255)>>255}x=c[B];z=l<<4;x[z]=t}l+=1}else l+=16;B+=16;b+=16}};p.prototype.Ox=function(a,c){var d=this.na;.5<=d&&1>d?this.Il||this.sa||this.N||this.ga||this.T?this.Mt(a,this.Fc):this.wD(a,this.Fc):.25<=d&&.5>d?this.Il||this.sa||this.N||this.ga||this.T?this.Nt(c,this.Fc):this.AD(c,this.Fc):.125<=d&&.25>d?this.Il||this.sa||this.N||this.ga||this.T?this.Ot(c,this.Fc):this.Cx(c,this.Fc):.125>d&&(this.Il||this.sa||
this.N||this.ga||this.T?this.Lt(c,this.Fc):this.bD(c,this.Fc));this.Cg&&(.5<=d&&1>d?this.Mt(this.qo,this.me):.25<=d&&.5>d?this.Nt(this.tl,this.me):.125<=d&&.25>d?this.Ot(this.tl,this.me):.125>d&&this.Lt(this.tl,this.me))};p.prototype.MN=function(){var a=this.Da,c=this.Ka,d=this.rc,e,m,n,q,u=this.width,y=u>>4,v=this.height,r=u,B=-1,b=-1,l=v,f=this.M,t,x=this.ka,z,A,C=this.cb;var I=this.ua;var G=this.pa>>4;var F=0;var E=I,D=this.Wf;this.ba=0;if(0!==(this.counter&1)){var H=this.Vb;var N=this.qa;var K=
this.ca;var P=this.Ma}else H=this.fb,N=this.ia,K=this.Ma,P=this.ca;0>F&&(F=0);E>I&&(E=I);x.fill(0);C.fill(0);I=F<<4;var J=I+16;for(e=F;e<E;e+=1){var S=0;var X=N[e];var U=c[e];var L=a[e];for(m=0;m<G;m+=1){if(q=X[m]|U[m])for(n=15;0<=n;--n){if(0!==(q&1<<n)){var ja=z=0;var W=32768;var ma=0;for(F=I;F<J;F+=1){var sa=H[F];var ca=K[F];var V=0===F?d:K[F-1];var ea=F===this.height-1?d:K[F+1];var fa=P[F];var qa=S<<4;if(0===qa)var na=t=0;else t=ca[qa-1],na=V[qa-1];var T=ea[qa];var Q=ca[qa];var Y=sa[S];for(A=32768;0<
A;){var ia=na;na=V[qa];var la=t;t=Q;Q=ca[qa+1];var ba=T;T=ea[qa+1];var M=t;var O=!0;if(0!==(ma&64)){O=!1;if(7===t||8===t||13<=t)M=0;else switch(t){case 1:M=2;break;case 3:case 5:M=4;break;case 9:M=10;break;case 11:M=12;break;default:O=!0}O||0===(t&1)||(sa[S]&=~A)}ma=1<<ia|1<<na|1<<Q|1<<la|1<<ba|1<<T;if(O)if(0!==(Y&A)){if(0===(t&1))switch(t){case 4:M=3;break;case 6:sa[S]&=~A;break;case 8:M=7;break;default:M=1,O=ma&44739072,0===(ma&170)&&1===D[O&65535]+D[O>>16]?(M=0,65535<O&&(O>>=16,M+=16),255<O&&(O>>=
8,M+=8),15<O&&(O>>=4,M+=4),3<O&&(O>>=2,M+=2),M+=O>>1):(O=ma&44736512,0!==(ma&8)&&0===(ma&2722)&&1===D[O&65535]+D[O>>16]?(M=0,65535<O&&(O>>=16,M+=16),255<O&&(O>>=8,M+=8),15<O&&(O>>=4,M+=4),3<O&&(O>>=2,M+=2),M+=O>>1):(O=ma&2560,0!==(ma&128)&&0===(ma&44736554)&&1===D[O&65535]+D[O>>16]?(M=0,65535<O&&(O>>=16,M+=16),255<O&&(O>>=8,M+=8),15<O&&(O>>=4,M+=4),3<O&&(O>>=2,M+=2),M+=O>>1):(O=ma&44736640)&&0===(ma&2602)&&(M=13)))}}else if(0!==(t&1))11>=t?5===t?M=4:M=t+1:M=0;else if(14===t)M=0;else if(14<t)switch(t){case 16:0!==
(ma&44755626)&&(M=14);break;case 18:0!==(ma&4194304)&&(M=22);break;case 20:0!==(ma&262144)&&(M=18);break;case 22:0!==(ma&1048576)&&(M=20);break;case 24:0!==(ma&45017770)&&(M=18)}fa[qa]=M;0<M&&(z|=A,ja|=W);A>>=1;qa+=1}this.ba|=Y;W>>=1}x[S]|=z;C[e]|=ja}S+=1}else S+=16;U[m]=q|0;L[m]=L[m]|q|0}I+=16;J+=16}for(m=0;m<y;m+=1)x[m]&&(m<r&&(r=m),m>B&&(B=m));for(e=0;e<C.length;e+=1)C[e]&&(e<l&&(l=e),e>b&&(b=e));r=(r<<4)+this.G(x[r]);B=(B<<4)+this.U(x[B]);l=(l<<4)+this.G(C[l]);b=(b<<4)+this.U(C[b]);0>b&&(b=v-
1);l>=v&&(l=0);r>=u&&(r=0);0>B&&(B=u-1);b>v-1&&(b=v-1);0>l&&(l=0);0>r&&(r=0);B>u-1&&(B=u-1);f.A=b;f.o=l;f.l=r;f.v=B};p.prototype.yO=function(){var a=this.Da,c=this.Ka,d=this.rc,e,m,n,q,u=this.width,y=u>>4,v=this.height,r=u,B=-1,b=-1,l=v,f=this.M,t=0,x=this.ka,z,A,C=this.cb;var I=this.ua;var G=this.pa>>4;var F=0;var E=I,D=this.Wf;this.ba=0;if(0!==(this.counter&1)){var H=this.Vb;var N=this.qa;var K=this.ca;var P=this.Ma}else H=this.fb,N=this.ia,K=this.Ma,P=this.ca;0>F&&(F=0);E>I&&(E=I);x.fill(0);C.fill(0);
I=F<<4;var J=I+16;for(e=F;e<E;e+=1){var S=0;var X=N[e];var U=c[e];var L=a[e];for(m=0;m<G;m+=1){if(q=X[m]|U[m])for(n=15;0<=n;--n){if(0!==(q&1<<n)){var ja=z=0;var W=32768;for(F=I;F<J;F+=1){var ma=H[F];var sa=K[F];var ca=0===F?d:K[F-1];var V=F===this.height-1?d:K[F+1];var ea=P[F];var fa=S<<4;0===fa?t=0:t=sa[fa-1];var qa=sa[fa];var na=ma[S];for(A=32768;0<A;){var T=ca[fa];var Q=t;t=qa;qa=sa[fa+1];var Y=V[fa];var ia=t;T=1<<T|1<<qa|1<<Q|1<<Y;Q=!0;if(0!==(T&64)){Q=!1;if(7===t||8===t||13<=t)ia=0;else switch(t){case 1:ia=
2;break;case 3:case 5:ia=4;break;case 9:ia=10;break;case 11:ia=12;break;default:Q=!0}Q||0===(t&1)||(ma[S]&=~A)}if(Q)if(0!==(na&A)){if(0===(t&1))switch(t){case 4:ia=3;break;case 6:ma[S]&=~A;break;case 8:ia=7;break;default:ia=1,Q=T&44739072,0===(T&170)&&1===D[Q&65535]+D[Q>>16]?(ia=0,65535<Q&&(Q>>=16,ia+=16),255<Q&&(Q>>=8,ia+=8),15<Q&&(Q>>=4,ia+=4),3<Q&&(Q>>=2,ia+=2),ia+=Q>>1):(Q=T&44736512,0!==(T&8)&&0===(T&2722)&&1===D[Q&65535]+D[Q>>16]?(ia=0,65535<Q&&(Q>>=16,ia+=16),255<Q&&(Q>>=8,ia+=8),15<Q&&(Q>>=
4,ia+=4),3<Q&&(Q>>=2,ia+=2),ia+=Q>>1):(Q=T&2560,0!==(T&128)&&0===(T&44736554)&&1===D[Q&65535]+D[Q>>16]?(ia=0,65535<Q&&(Q>>=16,ia+=16),255<Q&&(Q>>=8,ia+=8),15<Q&&(Q>>=4,ia+=4),3<Q&&(Q>>=2,ia+=2),ia+=Q>>1):(Q=T&44736640)&&0===(T&2602)&&(ia=13)))}}else if(0!==(t&1))11>=t?5===t?ia=4:ia=t+1:ia=0;else if(14===t)ia=0;else if(14<t)switch(t){case 16:0!==(T&44755626)&&(ia=14);break;case 18:0!==(T&4194304)&&(ia=22);break;case 20:0!==(T&262144)&&(ia=18);break;case 22:0!==(T&1048576)&&(ia=20);break;case 24:0!==
(T&45017770)&&(ia=18)}ea[fa]=ia;0<ia&&(z|=A,ja|=W);A>>=1;fa+=1}this.ba|=na;W>>=1}x[S]|=z;C[e]|=ja}S+=1}else S+=16;U[m]=q|0;L[m]=L[m]|q|0}I+=16;J+=16}for(m=0;m<y;m+=1)x[m]&&(m<r&&(r=m),m>B&&(B=m));for(e=0;e<C.length;e+=1)C[e]&&(e<l&&(l=e),e>b&&(b=e));r=(r<<4)+this.G(x[r]);B=(B<<4)+this.U(x[B]);l=(l<<4)+this.G(C[l]);b=(b<<4)+this.U(C[b]);0>b&&(b=v-1);l>=v&&(l=0);r>=u&&(r=0);0>B&&(B=u-1);b>v-1&&(b=v-1);0>l&&(l=0);0>r&&(r=0);B>u-1&&(B=u-1);f.A=b;f.o=l;f.l=r;f.v=B};p.prototype.pO=function(){var a=this.Da,
c=this.Ka,d=this.rc,e,m,n,q,u=this.width,y=u>>4,v=this.height,r=u,B=-1,b=-1,l=v,f=this.M,t=this.ka,x,z,A=this.cb;var C=this.ua;var I=this.pa>>4;var G=0;var F=C,E=this.Vt;this.ba=0;if(0!==(this.counter&1)){var D=this.Vb;var H=this.qa;var N=this.ca;var K=this.Ma}else D=this.fb,H=this.ia,N=this.Ma,K=this.ca;0>G&&(G=0);F>C&&(F=C);t.fill(0);A.fill(0);C=G<<4;var P=C+16;for(e=G;e<F;e+=1){var J=0;var S=H[e];var X=c[e];var U=a[e];for(m=0;m<I;m+=1){if(q=S[m]|X[m])for(n=15;0<=n;--n){if(0!==(q&1<<n)){var L=x=
0;var ja=32768;for(G=C;G<P;G+=1){var W=D[G];var ma=N[G];var sa=0===G?d:N[G-1];var ca=G===this.height-1?d:N[G+1];var V=K[G];var ea=J<<4;if(0===ea)var fa=0;else{var qa=ma[ea-1];fa=1<<sa[ea-1]|1<<qa|1<<ca[ea-1]}var na=ma[ea];var T=1<<na|1<<ca[ea]|1<<sa[ea];var Q=W[J];for(z=32768;0<z;){ea+=1;qa=na;na=ma[ea];var Y=fa;fa=T;T=1<<na|1<<ca[ea]|1<<sa[ea];var ia=qa;Y=Y|fa|T;var la=!0;if(0!==(Y&64)){la=!1;if(7===qa||8===qa||13<=qa)ia=0;else switch(qa){case 1:ia=2;break;case 3:case 5:ia=4;break;case 9:ia=10;break;
case 11:ia=12;break;default:la=!0}la||0===(qa&1)||(W[J]&=~z)}if(la)if(0!==(Q&z)){if(0===(qa&1))switch(qa){case 4:ia=3;break;case 6:W[J]&=~z;break;case 8:ia=7;break;default:ia=1,qa=Y&44739072,0===(Y&170)&&qa&&0===(qa&qa-1)?(ia=0,65535<qa&&(qa>>=16,ia+=16),ia+=E[qa]):(qa=Y&44736512,0!==(Y&8)&&0===(Y&2722)&&qa&&0===(qa&qa-1)?(ia=0,65535<qa&&(qa>>=16,ia+=16),ia+=E[qa]):(qa=Y&2560,0!==(Y&128)&&0===(Y&44736554)&&qa&&0===(qa&qa-1)?(ia=0,65535<qa&&(qa>>=16,ia+=16),ia+=E[qa]):(qa=Y&44736640)&&0===(Y&2602)&&
(ia=13)))}}else if(0!==(qa&1))11>=qa?5===qa?ia=4:ia=qa+1:ia=0;else if(14<=qa)switch(qa){case 14:ia=0;break;case 16:0!==(Y&44755626)&&(ia=14);break;case 18:0!==(Y&4194304)&&(ia=22);break;case 20:0!==(Y&262144)&&(ia=18);break;case 22:0!==(Y&1048576)&&(ia=20);break;case 24:0!==(Y&45017770)&&(ia=18)}V[ea-1]=ia;0<ia&&(x|=z,L|=ja);z>>=1}this.ba|=Q;ja>>=1}t[J]|=x;A[e]|=L}J+=1}else J+=16;X[m]=q|0;U[m]=U[m]|q|0}C+=16;P+=16}for(m=0;m<y;m+=1)t[m]&&(m<r&&(r=m),m>B&&(B=m));for(e=0;e<A.length;e+=1)A[e]&&(e<l&&
(l=e),e>b&&(b=e));r=(r<<4)+this.G(t[r]);B=(B<<4)+this.U(t[B]);l=(l<<4)+this.G(A[l]);b=(b<<4)+this.U(A[b]);0>b&&(b=v-1);l>=v&&(l=0);r>=u&&(r=0);0>B&&(B=u-1);b>v-1&&(b=v-1);0>l&&(l=0);0>r&&(r=0);B>u-1&&(B=u-1);f.A=b;f.o=l;f.l=r;f.v=B};p.prototype.SH=function(){var a=this.ca,c=this.Da,d=this.Ka,e,m,n,q,u,y=0,v=0,r=0,B=this.width,b=B>>4,l=this.height,f=B,t=-1,x=-1,z=l,A=this.M,C=this.ka,I,G,F=this.cb;var E=this.ua;var D=this.pa>>4;var H=0;var N=E,K=this.i+this.O-1,P=this.O,J=0<this.O?1:0;this.ba=0;if(0!==
(this.counter&1)){var S=this.Vb;var X=this.qa}else S=this.fb,X=this.ia;0>H&&(H=0);N>E&&(N=E);C.fill(0);F.fill(0);E=H<<4;var U=E+16;for(m=H;m<N;m+=1){var L=0;var ja=X[m];var W=d[m];var ma=c[m];for(n=0;n<D;n+=1){var sa=ja[n]|W[n];var ca=0;if(sa)for(q=15;0<=q;--q){if(0!==(sa&1<<q)){var V=I=0;var ea=32768;var fa=0;for(H=E;H<U;H+=1){var qa=S[H];var na=a[H];var T=L<<4;var Q=qa[L];for(u=G=32768;0<u;){var Y=e=na[T];(e<=P||e===K)&&0!==(Q&u)?e=K:(Q&=~u,e>J&&--e);na[T]=e;e>J&&(fa=1,e>P&&(I|=G,V|=ea),e===K&&
(y+=1,Y!==K&&(v+=1)));Y===K&&e!==K&&(r+=1);G>>=1;T+=1;u>>=1;Y=e=na[T];(e<=P||e===K)&&0!==(Q&u)?e=K:(Q&=~u,e>J&&--e);na[T]=e;e>J&&(fa=1,e>P&&(I|=G,V|=ea),e===K&&(y+=1,Y!==K&&(v+=1)));Y===K&&e!==K&&(r+=1);G>>=1;T+=1;u>>=1;Y=e=na[T];(e<=P||e===K)&&0!==(Q&u)?e=K:(Q&=~u,e>J&&--e);na[T]=e;e>J&&(fa=1,e>P&&(I|=G,V|=ea),e===K&&(y+=1,Y!==K&&(v+=1)));Y===K&&e!==K&&(r+=1);G>>=1;T+=1;u>>=1;Y=e=na[T];(e<=P||e===K)&&0!==(Q&u)?e=K:(Q&=~u,e>J&&--e);na[T]=e;e>J&&(fa=1,e>P&&(I|=G,V|=ea),e===K&&(y+=1,Y!==K&&(v+=1)));
Y===K&&e!==K&&(r+=1);G>>=1;T+=1;u>>=1}qa[L]=Q;this.ba|=Q;ea>>=1}C[L]|=I;F[m]|=V;fa&&(ca|=1<<q)}L+=1}else L+=16;W[n]=ca;ma[n]|=ca}E+=16;U+=16}for(n=0;n<b;n+=1)C[n]&&(n<f&&(f=n),n>t&&(t=n));for(m=0;m<F.length;m+=1)F[m]&&(m<z&&(z=m),m>x&&(x=m));f=(f<<4)+this.G(C[f]);t=(t<<4)+this.U(C[t]);z=(z<<4)+this.G(F[z]);x=(x<<4)+this.U(F[x]);0>x&&(x=l-1);z>=l&&(z=0);f>=B&&(f=0);0>t&&(t=B-1);x>l-1&&(x=l-1);0>z&&(z=0);0>f&&(f=0);t>B-1&&(t=B-1);A.A=x;A.o=z;A.l=f;A.v=t;this.oa=y;this.Qb=v;this.Ub=r};p.prototype.Vx=
function(){var a=this.ca,c=this.Da,d,e,m,n,q;var u=this.ua;var y=this.pa>>4;var v=0;var r=u,B=0<this.O?1:0;0>v&&(v=0);r>u&&(r=u);u=v<<4;var b=u+16;for(d=v;d<r;d+=1){var l=0;var f=c[d];for(e=0;e<y;e+=1)if(q=f[e])for(m=15;0<=m;--m){if(0!==(q&1<<m))for(v=u;v<b;v+=1){var t=a[v];var x=l<<4;for(n=15;0<=n;--n){var z=t[x];z>B&&(--z,t[x]=z);x+=1}}l+=1}else l+=16;u+=16;b+=16}};p.prototype.ee=function(){this.Pa||this.N||this.ga||this.T||(-1===this.i?this.Qd?this.WB():this.Il?this.rC():this.FB():this.ba||this.Vx(),
this.kj&&(this.lA(),this.ba=this.oa))};p.prototype.hB=function(){var a,c=this.tk,d=this.Da,e,m,n,q=0,u,y=this.ua,v=this.pa>>4;var r=16;for(e=0;e<y;e+=1){var B=0;var b=d[e];for(m=0;m<v;m+=1)if(u=b[m])for(n=15;0<=n;--n){if(0!==(u&1<<n))for(a=q;a<r;){var l=c[a];var f=B<<3;l[f]&=16448;f+=1;l[f]&=16448;f+=1;l[f]&=16448;f+=1;l[f]&=16448;f+=1;l[f]&=16448;f+=1;l[f]&=16448;f+=1;l[f]&=16448;f+=1;l[f]&=16448;a+=1}B+=1}else B+=16;q+=16;r+=16}};p.prototype.VM=function(){var a=this.Ca,c=this.xa,d=this.M;this.S?
this.MN():this.ye?this.yO():this.pO();if(-1!==this.ya){var e=Math.round((this.width-a)/2);var m=Math.round((this.height-c)/2);a=e+a-1;c=m+c-1;d.l<e&&(d.l=e);d.v>a&&(d.v=a);d.o<m&&(d.o=m);d.A>c&&(d.A=c)}};p.prototype.xK=function(){switch(this.Oj){case PatternConstants.Aq:this.CL();break;case PatternConstants.xq:this.BL();break;case PatternConstants.zl:this.oL();break;case PatternConstants.zq:this.JK()}};p.prototype.JK=function(){var a=this.Pg;var c=a[0],d=a[1],e=a[2],m=this.Sd,n=this.Og,q,u,y=0,v,
r,B,b=this.Da,l=this.Ka,f,t=this.ka,x,z=this.cb,A,C,I=0,G=0,F=0,E=this.height,D=this.width,H=D>>4,N=this.M,K=E,P=-1,J=D,S=-1,X=this.ua,U=this.pa>>4,L=this.sd;if(0!==(this.counter&1)){var ja=this.Ma;var W=this.wa;var ma=this.ca;var sa=this.qa;var ca=this.ia}else ja=this.ca,W=this.de,ma=this.Ma,sa=this.ia,ca=this.qa;t.fill(0);z.fill(0);var V=0;var ea=V+16;ca.Wa.fill(0);for(r=0;r<sa.length;r+=1){var fa=0;var qa=fa+16;var na=sa[r];var T=ca[r];var Q=l[r];var Y=b[r];var ia=0<r?ca[r-1]:L;var la=r<X-1?ca[r+
1]:L;for(B=0;B<U;B+=1)if(f=na[B]){var ba=T[B];var M=ia[B];var O=la[B];for(v=15;0<=v;--v){if(0!==(f&1<<v)){var oa=A=x=0;var Z=V;for(C=32768;Z<ea;){a=ja[Z];var R=ma[Z];var pa=32768;var ya=fa;0===ya?y=0:y=a[ya-1];for(u=a[ya];ya<qa-1;){var wa=y;y=u;u=a[ya+1];var va=c[y];var ka=d[wa];var aa=e[u];var ha=y;for(q=0;q<n;q+=1)if(wa=va[q]&ka[q]&aa[q]){va=0;for(aa=1;!(wa&aa);)va+=1,aa<<=1;ha=m[(q<<5)+va];break}R[ya]=ha;0<ha?(I+=1,0===y&&(G+=1),A|=C,x|=pa):0<y&&(F+=1);pa>>=1;ya+=1}wa=y;y=u;ya===D-1?u=0:u=a[ya+
1];va=c[y];ka=d[wa];aa=e[u];ha=y;for(q=0;q<n;q+=1)if(wa=va[q]&ka[q]&aa[q]){va=0;for(aa=1;!(wa&aa);)va+=1,aa<<=1;ha=m[(q<<5)+va];break}R[ya]=ha;0<ha?(I+=1,0===y&&(G+=1),A|=C,x|=pa):0<y&&(F+=1);Z+=1;C>>=1}t[fa>>4]|=x;x&&(ba|=1<<v,A&1&&(oa|=k.xb,x&32768&&(oa|=k.Xb),x&1&&(oa|=k.wb)),A&32768&&(oa|=k.Ib,x&32768&&(oa|=k.Sb),x&1&&(oa|=k.Tb)),x&32768&&(oa|=k.Lb),x&1&&(oa|=k.kb),oa&&(0!==(oa&k.Lb)&&(15>v?ba|=1<<v+1:0<B&&0<fa&&(T[B-1]|=1)),0!==(oa&k.kb)&&(0<v?ba|=1<<v-1:B<U-1&&fa<D-1&&(T[B+1]|=32768)),0!==(oa&
k.Ib)&&(M|=1<<v),0!==(oa&k.xb)&&(O|=1<<v),0!==(oa&k.Sb)&&(15>v?M|=1<<v+1:0<B&&0<fa&&(ia[B-1]|=1)),0!==(oa&k.Tb)&&(0<v?M|=1<<v-1:B<U-1&&fa<D-1&&(ia[B+1]|=32768)),0!==(oa&k.Xb)&&(15>v?O|=1<<v+1:0<B&&0<fa&&(la[B-1]|=1)),0!==(oa&k.wb)&&(0<v?O|=1<<v-1:B<U-1&&fa<D-1&&(la[B+1]|=32768))));z[r]|=A}fa+=16;qa+=16}T[B]|=ba;Q[B]=f|ba;Y[B]=Y[B]|f|ba;0<r&&(ia[B]|=M);r<X-1&&(la[B]|=O)}else fa+=256,qa+=256;V+=16;ea+=16}for(B=0;B<H;B+=1)t[B]&&(B<J&&(J=B),B>S&&(S=B));for(r=0;r<z.length;r+=1)z[r]&&(r<K&&(K=r),r>P&&(P=
r));J=(J<<4)+this.G(t[J]);S=(S<<4)+this.U(t[S]);K=(K<<4)+this.G(z[K]);P=(P<<4)+this.U(z[P]);0>P&&(P=E-1);K>=E&&(K=0);J>=D&&(J=0);0>S&&(S=D-1);P>E-1&&(P=E-1);0>K&&(K=0);0>J&&(J=0);S>D-1&&(S=D-1);N.A=P;N.o=K;N.l=J;N.v=S;L.fill(0);V=0;ea=V+16;for(r=0;r<sa.length;r+=1){fa=0;na=sa[r];T=ca[r];for(B=0;B<U;B+=1)if(f=na[B],ba=T[B],f!==ba)for(v=15;0<=v;--v){if((f&1<<v)!==(ba&1<<v)&&0===(ba&1<<v))for(Z=V;Z<ea;Z+=1)a=W[Z],ya=fa>>2,a[ya]=0,a[ya+1]=0,a[ya+2]=0,a[ya+3]=0;fa+=16}else fa+=256;V+=16;ea+=16}this.oa=
I;this.Qb=G;this.Ub=F;this.ba=I};p.prototype.CL=function(){var a=this.Pg;var c=a[0],d=a[1],e=a[2],m=a[3],n=a[4],q=this.Sd,u=this.Og,y,v=0,r,B,b,l=this.Da,f=this.Ka,t,x=this.ka,z,A=this.cb,C,I,G=0,F=0,E=0,D=this.height,H=this.width,N=H>>4,K=this.M,P=D,J=-1,S=H,X=-1,U=this.ua,L=this.pa>>4,ja=this.sd;if(0!==(this.counter&1)){var W=this.Ma;var ma=this.wa;var sa=this.ca;var ca=this.qa;var V=this.ia}else W=this.ca,ma=this.de,sa=this.Ma,ca=this.ia,V=this.qa;x.fill(0);A.fill(0);var ea=0;var fa=ea+16;V.Wa.fill(0);
for(B=0;B<ca.length;B+=1){var qa=0;var na=qa+16;var T=ca[B];var Q=V[B];var Y=f[B];var ia=l[B];var la=0<B?V[B-1]:ja;var ba=B<U-1?V[B+1]:ja;for(b=0;b<L;b+=1)if(t=T[b]){var M=Q[b];var O=la[b];var oa=ba[b];for(r=15;0<=r;--r){if(0!==(t&1<<r)){var Z=C=z=0;var R=ea;for(I=32768;R<fa;){a=0===R?this.rc:W[R-1];var pa=W[R];var ya=R===this.height-1?this.rc:W[R+1];var wa=sa[R];var va=32768;var ka=qa;0===ka?v=0:v=pa[ka-1];for(y=pa[ka];ka<na-1;){var aa=v;v=y;var ha=a[ka];y=pa[ka+1];var da=ya[ka];var ua=c[v];ha=d[ha];
var ta=e[y];var xa=m[da];var ra=n[aa];var za=v;for(da=0;da<u;da+=1)if(aa=ua[da]&ha[da])if(aa&=ta[da]&xa[da]&ra[da]){ua=0;for(ha=1;!(aa&ha);)ua+=1,ha<<=1;za=q[(da<<5)+ua];break}wa[ka]=za;0<za?(G+=1,0===v&&(F+=1),C|=I,z|=va):0<v&&(E+=1);va>>=1;ka+=1}aa=v;v=y;ha=a[ka];ka===H-1?y=0:y=pa[ka+1];da=ya[ka];ua=c[v];ha=d[ha];ta=e[y];xa=m[da];ra=n[aa];za=v;for(da=0;da<u;da+=1)if(aa=ua[da]&ha[da])if(aa&=ta[da]&xa[da]&ra[da]){ua=0;for(ha=1;!(aa&ha);)ua+=1,ha<<=1;za=q[(da<<5)+ua];break}wa[ka]=za;0<za?(G+=1,0===
v&&(F+=1),C|=I,z|=va):0<v&&(E+=1);R+=1;I>>=1}x[qa>>4]|=z;z&&(M|=1<<r,C&1&&(Z|=k.xb,z&32768&&(Z|=k.Xb),z&1&&(Z|=k.wb)),C&32768&&(Z|=k.Ib,z&32768&&(Z|=k.Sb),z&1&&(Z|=k.Tb)),z&32768&&(Z|=k.Lb),z&1&&(Z|=k.kb),Z&&(0!==(Z&k.Lb)&&(15>r?M|=1<<r+1:0<b&&0<qa&&(Q[b-1]|=1)),0!==(Z&k.kb)&&(0<r?M|=1<<r-1:b<L-1&&qa<H-1&&(Q[b+1]|=32768)),0!==(Z&k.Ib)&&(O|=1<<r),0!==(Z&k.xb)&&(oa|=1<<r),0!==(Z&k.Sb)&&(15>r?O|=1<<r+1:0<b&&0<qa&&(la[b-1]|=1)),0!==(Z&k.Tb)&&(0<r?O|=1<<r-1:b<L-1&&qa<H-1&&(la[b+1]|=32768)),0!==(Z&k.Xb)&&
(15>r?oa|=1<<r+1:0<b&&0<qa&&(ba[b-1]|=1)),0!==(Z&k.wb)&&(0<r?oa|=1<<r-1:b<L-1&&qa<H-1&&(ba[b+1]|=32768))));A[B]|=C}qa+=16;na+=16}Q[b]|=M;Y[b]=t|M;ia[b]=ia[b]|t|M;0<B&&(la[b]|=O);B<U-1&&(ba[b]|=oa)}else qa+=256,na+=256;ea+=16;fa+=16}for(b=0;b<N;b+=1)x[b]&&(b<S&&(S=b),b>X&&(X=b));for(B=0;B<A.length;B+=1)A[B]&&(B<P&&(P=B),B>J&&(J=B));S=(S<<4)+this.G(x[S]);X=(X<<4)+this.U(x[X]);P=(P<<4)+this.G(A[P]);J=(J<<4)+this.U(A[J]);0>J&&(J=D-1);P>=D&&(P=0);S>=H&&(S=0);0>X&&(X=H-1);J>D-1&&(J=D-1);0>P&&(P=0);0>S&&
(S=0);X>H-1&&(X=H-1);K.A=J;K.o=P;K.l=S;K.v=X;ja.fill(0);ea=0;fa=ea+16;for(B=0;B<ca.length;B+=1){qa=0;T=ca[B];Q=V[B];for(b=0;b<L;b+=1)if(t=T[b],M=Q[b],t!==M)for(r=15;0<=r;--r){if((t&1<<r)!==(M&1<<r)&&0===(M&1<<r))for(R=ea;R<fa;R+=1)pa=ma[R],ka=qa>>2,pa[ka]=0,pa[ka+1]=0,pa[ka+2]=0,pa[ka+3]=0;qa+=16}else qa+=256;ea+=16;fa+=16}this.oa=G;this.Qb=F;this.Ub=E;this.ba=G};p.prototype.BL=function(){var a=this.Pg;var c=a[0],d=a[1],e=a[2],m=a[3],n=a[4],q=a[5],u=a[6],y=a[7],v=a[8],r=this.Sd,B=this.Og,b,l,f,t,
x,z,A=this.Da,C=this.Ka,I,G=this.ka,F,E=this.cb,D,H,N=0,K=0,P=0,J=this.height,S=this.width,X=S>>4,U=this.M,L=J,ja=-1,W=S,ma=-1,sa=this.ua,ca=this.pa>>4,V=this.sd;if(0!==(this.counter&1)){var ea=this.Ma;var fa=this.wa;var qa=this.ca;var na=this.qa;var T=this.ia}else ea=this.ca,fa=this.de,qa=this.Ma,na=this.ia,T=this.qa;G.fill(0);E.fill(0);var Q=0;var Y=Q+16;T.Wa.fill(0);for(x=0;x<na.length;x+=1){var ia=0;var la=ia+16;var ba=na[x];var M=T[x];var O=C[x];var oa=A[x];var Z=0<x?T[x-1]:V;var R=x<sa-1?T[x+
1]:V;for(z=0;z<ca;z+=1)if(I=ba[z]){var pa=M[z];var ya=Z[z];var wa=R[z];for(t=15;0<=t;--t){if(0!==(I&1<<t)){var va=D=F=0;var ka=Q;for(H=32768;ka<Y;){a=0===ka?this.rc:ea[ka-1];var aa=ea[ka];var ha=ka===this.height-1?this.rc:ea[ka+1];var da=qa[ka];var ua=32768;var ta=ia;if(0===ta)var xa=f=b=0;else b=a[ta-1],f=ha[ta-1],xa=aa[ta-1];var ra=a[ta];var za=ha[ta];for(l=aa[ta];ta<la-1;){var Fa=b;b=ra;ra=a[ta+1];var Ca=xa;xa=l;l=aa[ta+1];var Ka=f;f=za;za=ha[ta+1];var Ja=xa;var Na=c[xa];var Ha=d[b];var La=e[ra];
var Ra=m[l];var Sa=n[za];var Aa=q[f];Ka=u[Ka];var Da=y[Ca];var Ba=v[Fa];for(Ca=0;Ca<B;Ca+=1)if(Fa=Na[Ca]&Ha[Ca])if(Fa&=La[Ca]&Ra[Ca])if(Fa&=Sa[Ca]&Aa[Ca])if(Fa&=Ka[Ca]&Da[Ca]&Ba[Ca]){Ha=0;for(La=1;!(Fa&La);)Ha+=1,La<<=1;Ja=r[(Ca<<5)+Ha];break}da[ta]=Ja;0<Ja?(N+=1,0===xa&&(K+=1),D|=H,F|=ua):0<xa&&(P+=1);ua>>=1;ta+=1}Fa=b;b=ra;Ca=xa;xa=l;Ka=f;f=za;ta===S-1?za=l=ra=0:(ra=a[ta+1],l=aa[ta+1],za=ha[ta+1]);Na=c[xa];Ha=d[b];La=e[ra];Ra=m[l];Sa=n[za];Aa=q[f];Ka=u[Ka];Da=y[Ca];Ba=v[Fa];Ja=xa;for(Ca=0;Ca<B;Ca+=
1)if(Fa=Na[Ca]&Ha[Ca])if(Fa&=La[Ca]&Ra[Ca])if(Fa&=Sa[Ca]&Aa[Ca])if(Fa&=Ka[Ca]&Da[Ca]&Ba[Ca]){Ha=0;for(La=1;!(Fa&La);)Ha+=1,La<<=1;Ja=r[(Ca<<5)+Ha];break}da[ta]=Ja;0<Ja?(N+=1,0===xa&&(K+=1),D|=H,F|=ua):0<xa&&(P+=1);ka+=1;H>>=1}G[ia>>4]|=F;F&&(pa|=1<<t,D&1&&(va|=k.xb,F&32768&&(va|=k.Xb),F&1&&(va|=k.wb)),D&32768&&(va|=k.Ib,F&32768&&(va|=k.Sb),F&1&&(va|=k.Tb)),F&32768&&(va|=k.Lb),F&1&&(va|=k.kb),va&&(0!==(va&k.Lb)&&(15>t?pa|=1<<t+1:0<z&&0<ia&&(M[z-1]|=1)),0!==(va&k.kb)&&(0<t?pa|=1<<t-1:z<ca-1&&ia<S-1&&
(M[z+1]|=32768)),0!==(va&k.Ib)&&(ya|=1<<t),0!==(va&k.xb)&&(wa|=1<<t),0!==(va&k.Sb)&&(15>t?ya|=1<<t+1:0<z&&0<ia&&(Z[z-1]|=1)),0!==(va&k.Tb)&&(0<t?ya|=1<<t-1:z<ca-1&&ia<S-1&&(Z[z+1]|=32768)),0!==(va&k.Xb)&&(15>t?wa|=1<<t+1:0<z&&0<ia&&(R[z-1]|=1)),0!==(va&k.wb)&&(0<t?wa|=1<<t-1:z<ca-1&&ia<S-1&&(R[z+1]|=32768))));E[x]|=D}ia+=16;la+=16}M[z]|=pa;O[z]=I|pa;oa[z]=oa[z]|I|pa;0<x&&(Z[z]|=ya);x<sa-1&&(R[z]|=wa)}else ia+=256,la+=256;Q+=16;Y+=16}for(z=0;z<X;z+=1)G[z]&&(z<W&&(W=z),z>ma&&(ma=z));for(x=0;x<E.length;x+=
1)E[x]&&(x<L&&(L=x),x>ja&&(ja=x));W=(W<<4)+this.G(G[W]);ma=(ma<<4)+this.U(G[ma]);L=(L<<4)+this.G(E[L]);ja=(ja<<4)+this.U(E[ja]);0>ja&&(ja=J-1);L>=J&&(L=0);W>=S&&(W=0);0>ma&&(ma=S-1);ja>J-1&&(ja=J-1);0>L&&(L=0);0>W&&(W=0);ma>S-1&&(ma=S-1);U.A=ja;U.o=L;U.l=W;U.v=ma;V.fill(0);Q=0;Y=Q+16;for(x=0;x<na.length;x+=1){ia=0;ba=na[x];M=T[x];for(z=0;z<ca;z+=1)if(I=ba[z],pa=M[z],I!==pa)for(t=15;0<=t;--t){if((I&1<<t)!==(pa&1<<t)&&0===(pa&1<<t))for(ka=Q;ka<Y;ka+=1)aa=fa[ka],ta=ia>>2,aa[ta]=0,aa[ta+1]=0,aa[ta+2]=
0,aa[ta+3]=0;ia+=16}else ia+=256;Q+=16;Y+=16}this.oa=N;this.Qb=K;this.Ub=P;this.ba=N};p.prototype.oL=function(){var a=this.Pg;var c=a[0],d=a[1],e=a[2],m=a[3],n=a[4],q=a[5],u=a[6],y=this.Sd,v=this.Og,r,B,b,l,f,t=this.Da,x=this.Ka,z,A=this.ka,C,I=this.cb,G,F,E=0,D=0,H=0,N=this.height,K=this.width,P=K>>4,J=this.M,S=N,X=-1,U=K,L=-1,ja=this.ua,W=this.pa>>4,ma=this.sd;if(0!==(this.counter&1)){var sa=this.Ma;var ca=this.wa;var V=this.ca;var ea=this.qa;var fa=this.ia}else sa=this.ca,ca=this.de,V=this.Ma,
ea=this.ia,fa=this.qa;A.fill(0);I.fill(0);var qa=0;var na=qa+16;fa.Wa.fill(0);for(l=0;l<ea.length;l+=1){var T=0;var Q=T+16;var Y=ea[l];var ia=fa[l];var la=x[l];var ba=t[l];var M=0<l?fa[l-1]:ma;var O=l<ja-1?fa[l+1]:ma;for(f=0;f<W;f+=1)if(z=Y[f]){var oa=ia[f];var Z=M[f];var R=O[f];for(b=15;0<=b;--b){if(0!==(z&1<<b)){var pa=G=C=0;var ya=qa;for(F=32768;ya<na;){a=0===ya?this.rc:sa[ya-1];var wa=sa[ya];var va=ya===this.height-1?this.rc:sa[ya+1];var ka=V[ya];var aa=32768;var ha=T;if(0===ha)var da=r=0;else r=
a[ha-1],da=wa[ha-1];var ua=va[ha];for(B=wa[ha];ha<Q-1;){var ta=r;r=a[ha];var xa=da;da=B;B=wa[ha+1];var ra=ua;ua=va[ha+1];var za=c[da];var Fa=d[r];var Ca=e[B];var Ka=m[ua];ra=n[ra];var Ja=q[xa];var Na=u[ta];var Ha=da;for(xa=0;xa<v;xa+=1)if(ta=za[xa]&Fa[xa])if(ta&=Ca[xa]&Ka[xa])if(ta&=ra[xa]&Ja[xa]&Na[xa]){Fa=0;for(Ca=1;!(ta&Ca);)Fa+=1,Ca<<=1;Ha=y[(xa<<5)+Fa];break}ka[ha]=Ha;0<Ha?(E+=1,0===da&&(D+=1),G|=F,C|=aa):0<da&&(H+=1);aa>>=1;ha+=1}ta=r;r=a[ha];xa=da;da=B;ra=ua;ha===K-1?ua=B=0:(B=wa[ha+1],ua=
va[ha+1]);za=c[da];Fa=d[r];Ca=e[B];Ka=m[ua];ra=n[ra];Ja=q[xa];Na=u[ta];Ha=da;for(xa=0;xa<v;xa+=1)if(ta=za[xa]&Fa[xa])if(ta&=Ca[xa]&Ka[xa])if(ta&=ra[xa]&Ja[xa]&Na[xa]){Fa=0;for(Ca=1;!(ta&Ca);)Fa+=1,Ca<<=1;Ha=y[(xa<<5)+Fa];break}ka[ha]=Ha;0<Ha?(E+=1,0===da&&(D+=1),G|=F,C|=aa):0<da&&(H+=1);ya+=1;F>>=1}A[T>>4]|=C;C&&(oa|=1<<b,G&1&&(pa|=k.xb,C&32768&&(pa|=k.Xb),C&1&&(pa|=k.wb)),G&32768&&(pa|=k.Ib,C&32768&&(pa|=k.Sb),C&1&&(pa|=k.Tb)),C&32768&&(pa|=k.Lb),C&1&&(pa|=k.kb),pa&&(0!==(pa&k.Lb)&&(15>b?oa|=1<<
b+1:0<f&&0<T&&(ia[f-1]|=1)),0!==(pa&k.kb)&&(0<b?oa|=1<<b-1:f<W-1&&T<K-1&&(ia[f+1]|=32768)),0!==(pa&k.Ib)&&(Z|=1<<b),0!==(pa&k.xb)&&(R|=1<<b),0!==(pa&k.Sb)&&(15>b?Z|=1<<b+1:0<f&&0<T&&(M[f-1]|=1)),0!==(pa&k.Tb)&&(0<b?Z|=1<<b-1:f<W-1&&T<K-1&&(M[f+1]|=32768)),0!==(pa&k.Xb)&&(15>b?R|=1<<b+1:0<f&&0<T&&(O[f-1]|=1)),0!==(pa&k.wb)&&(0<b?R|=1<<b-1:f<W-1&&T<K-1&&(O[f+1]|=32768))));I[l]|=G}T+=16;Q+=16}ia[f]|=oa;la[f]=z|oa;ba[f]=ba[f]|z|oa;0<l&&(M[f]|=Z);l<ja-1&&(O[f]|=R)}else T+=256,Q+=256;qa+=16;na+=16}for(f=
0;f<P;f+=1)A[f]&&(f<U&&(U=f),f>L&&(L=f));for(l=0;l<I.length;l+=1)I[l]&&(l<S&&(S=l),l>X&&(X=l));U=(U<<4)+this.G(A[U]);L=(L<<4)+this.U(A[L]);S=(S<<4)+this.G(I[S]);X=(X<<4)+this.U(I[X]);0>X&&(X=N-1);S>=N&&(S=0);U>=K&&(U=0);0>L&&(L=K-1);X>N-1&&(X=N-1);0>S&&(S=0);0>U&&(U=0);L>K-1&&(L=K-1);J.A=X;J.o=S;J.l=U;J.v=L;ma.fill(0);qa=0;na=qa+16;for(l=0;l<ea.length;l+=1){T=0;Y=ea[l];ia=fa[l];for(f=0;f<W;f+=1)if(z=Y[f],oa=ia[f],z!==oa)for(b=15;0<=b;--b){if((z&1<<b)!==(oa&1<<b)&&0===(oa&1<<b))for(ya=qa;ya<na;ya+=
1)wa=ca[ya],ha=T>>2,wa[ha]=0,wa[ha+1]=0,wa[ha+2]=0,wa[ha+3]=0;T+=16}else T+=256;qa+=16;na+=16}this.oa=E;this.Qb=D;this.Ub=H;this.ba=E};p.prototype.LL=function(){if(4===this.pg)if(null!==this.Je)switch(this.Vu){case 1:this.eM();break;case 2:this.lM();break;case 3:this.tM();break;case 4:this.SM();break;default:this.au()}else this.au();else this.SL()};p.prototype.au=function(){var a=this.Jk,c=this.Kk,d=this.Al,e=0,m,n,q,u=this.Da,y=this.Ka,v,r=this.uf,B=this.ka,b,l=this.cb,f,t=0,x=0,z=0,A=this.height,
C=this.width,I=C>>4,G=this.M,F=A,E=-1,D=C,H=-1,N=this.ua,K=this.pa>>4,P=this.sd;if(0!==(this.counter&1)){var J=this.Ma;var S=this.wa;var X=this.de;var U=this.qa;var L=this.ia}else J=this.ca,S=this.de,X=this.wa,U=this.ia,L=this.qa;B.fill(0);l.fill(0);var ja=0;var W=ja+16;L.Wa.fill(0);for(n=0;n<U.length;n+=1){var ma=0;var sa=U[n];var ca=L[n];var V=y[n];var ea=u[n];var fa=r[n];var qa=0<n?L[n-1]:P;var na=n<N-1?L[n+1]:P;for(q=0;q<K;q+=1)if(v=sa[q]){var T=ca[q];var Q=qa[q];var Y=na[q];var ia=fa[q];for(m=
15;0<=m;--m){if(0!==(v&1<<m)){var la=f=b=0;var ba=ja;var M=32768;var O=0;if(0!==(ia&1<<m)){for(;ba<W;){var oa=ba===ja||ba===W-1?!0:!1;var Z=0===ba?this.rc:J[ba-1];var R=J[ba];var pa=ba===this.height-1?this.rc:J[ba+1];var ya=X[ba];var wa=32768;var va=0;var ka=ma;0===ka?e=0:e=R[ka-1];var aa=R[ka];var ha=e;e=aa;var da=Z[ka];aa=R[ka+1];var ua=pa[ka];var ta=da=c[a[a[a[a[d+da]+ha]+aa]+ua]+e];O|=da-e;0<da?(t+=1,0===e&&(x+=1),va|=wa):0<e&&(z+=1);wa>>=1;ka+=1;oa?(ha=e,e=aa,da=Z[ka],aa=R[ka+1],ua=pa[ka],da=
c[a[a[a[a[d+da]+ha]+aa]+ua]+e],ta|=da<<8,O|=da-e,0<da?(t+=1,0===e&&(x+=1),va|=wa):0<e&&(z+=1),wa>>=1,ka+=1,ha=e,e=aa,da=Z[ka],aa=R[ka+1],ua=pa[ka],da=c[a[a[a[a[d+da]+ha]+aa]+ua]+e],ta|=da<<16,O|=da-e,0<da?(t+=1,0===e&&(x+=1),va|=wa):0<e&&(z+=1),wa>>=1,ka+=1,ha=e,e=aa,da=Z[ka],aa=R[ka+1],ua=pa[ka],da=c[a[a[a[a[d+da]+ha]+aa]+ua]+e],ta|=da<<24,ya[ka>>2]=ta,O|=da-e,0<da?(t+=1,0===e&&(x+=1),va|=wa):0<e&&(z+=1),wa>>=1,ka+=1,ha=e,e=aa,da=Z[ka],aa=R[ka+1],ua=pa[ka],ta=da=c[a[a[a[a[d+da]+ha]+aa]+ua]+e],O|=
da-e,0<da?(t+=1,0===e&&(x+=1),va|=wa):0<e&&(z+=1),wa>>=1,ka+=1,ha=e,e=aa,da=Z[ka],aa=R[ka+1],ua=pa[ka],da=c[a[a[a[a[d+da]+ha]+aa]+ua]+e],ta|=da<<8,O|=da-e,0<da?(t+=1,0===e&&(x+=1),va|=wa):0<e&&(z+=1),wa>>=1,ka+=1,ha=e,e=aa,da=Z[ka],aa=R[ka+1],ua=pa[ka],da=c[a[a[a[a[d+da]+ha]+aa]+ua]+e],ta|=da<<16,O|=da-e,0<da?(t+=1,0===e&&(x+=1),va|=wa):0<e&&(z+=1),wa>>=1,ka+=1,ha=e,e=aa,da=Z[ka],aa=R[ka+1],ua=pa[ka],da=c[a[a[a[a[d+da]+ha]+aa]+ua]+e],ta|=da<<24,ya[ka>>2]=ta,O|=da-e,0<da?(t+=1,0===e&&(x+=1),va|=wa):
0<e&&(z+=1),wa>>=1,ka+=1,ha=e,e=aa,da=Z[ka],aa=R[ka+1],ua=pa[ka],ta=da=c[a[a[a[a[d+da]+ha]+aa]+ua]+e],O|=da-e,0<da?(t+=1,0===e&&(x+=1),va|=wa):0<e&&(z+=1),wa>>=1,ka+=1,ha=e,e=aa,da=Z[ka],aa=R[ka+1],ua=pa[ka],da=c[a[a[a[a[d+da]+ha]+aa]+ua]+e],ta|=da<<8,O|=da-e,0<da?(t+=1,0===e&&(x+=1),va|=wa):0<e&&(z+=1),wa>>=1,ka+=1,ha=e,e=aa,da=Z[ka],aa=R[ka+1],ua=pa[ka],da=c[a[a[a[a[d+da]+ha]+aa]+ua]+e],ta|=da<<16,O|=da-e,0<da?(t+=1,0===e&&(x+=1),va|=wa):0<e&&(z+=1),wa>>=1,ka+=1,ha=e,e=aa,da=Z[ka],aa=R[ka+1],ua=
pa[ka],da=c[a[a[a[a[d+da]+ha]+aa]+ua]+e],ta|=da<<24,ya[ka>>2]=ta,O|=da-e,0<da?(t+=1,0===e&&(x+=1),va|=wa):0<e&&(z+=1),wa>>=1,ka+=1,ha=e,e=aa,da=Z[ka],aa=R[ka+1],ua=pa[ka],ta=da=c[a[a[a[a[d+da]+ha]+aa]+ua]+e],O|=da-e,0<da?(t+=1,0===e&&(x+=1),va|=wa):0<e&&(z+=1),wa>>=1,ka+=1,ha=e,e=aa,da=Z[ka],aa=R[ka+1],ua=pa[ka],da=c[a[a[a[a[d+da]+ha]+aa]+ua]+e],ta|=da<<8,O|=da-e,0<da?(t+=1,0===e&&(x+=1),va|=wa):0<e&&(z+=1),wa>>=1,ka+=1,ha=e,e=aa,da=Z[ka],aa=R[ka+1],ua=pa[ka],da=c[a[a[a[a[d+da]+ha]+aa]+ua]+e],ta|=
da<<16,O|=da-e,0<da?(t+=1,0===e&&(x+=1),va|=wa):0<e&&(z+=1)):(da=R[ka],ta|=da<<8,0<da&&(t+=1,va|=wa),wa>>=1,ka+=1,da=R[ka],ta|=da<<16,0<da&&(t+=1,va|=wa),wa>>=1,ka+=1,da=R[ka],ta|=da<<24,ya[ka>>2]=ta,0<da&&(t+=1,va|=wa),wa>>=1,ka+=1,0<R[ka]&&(t+=1,va|=wa),wa>>=1,ka+=1,0<R[ka]&&(t+=1,va|=wa),wa>>=1,ka+=1,0<R[ka]&&(t+=1,va|=wa),wa>>=1,ka+=1,0<R[ka]&&(t+=1,va|=wa),wa>>=1,ka+=1,0<R[ka]&&(t+=1,va|=wa),wa>>=1,ka+=1,0<R[ka]&&(t+=1,va|=wa),wa>>=1,ka+=1,0<R[ka]&&(t+=1,va|=wa),wa>>=1,ka+=1,0<R[ka]&&(t+=1,va|=
wa),wa>>=1,ka+=1,ta=da=R[ka],0<da&&(t+=1,va|=wa),wa>>=1,ka+=1,da=R[ka],ta|=da<<8,0<da&&(t+=1,va|=wa),wa>>=1,ka+=1,e=R[ka],ta|=e<<16,aa=R[ka+1],0<e&&(t+=1,va|=wa));wa>>=1;ka+=1;ha=e;e=aa;da=Z[ka];ka===C-1?aa=0:aa=R[ka+1];ua=pa[ka];da=c[a[a[a[a[d+da]+ha]+aa]+ua]+e];ta|=da<<24;ya[ka>>2]=ta;O|=da-e;0<da?(t+=1,0===e&&(x+=1),va|=wa):0<e&&(z+=1);va&&(b|=va,f|=M);ba+=1;M>>=1}0!==O&&(ia&=~(1<<m))}else{for(;ba<W;)Z=0===ba?this.rc:J[ba-1],R=J[ba],pa=ba===this.height-1?this.rc:J[ba+1],ya=X[ba],wa=32768,va=0,
ka=ma,0===ka?e=0:e=R[ka-1],aa=R[ka],ha=e,e=aa,da=Z[ka],aa=R[ka+1],ua=pa[ka],ta=da=c[a[a[a[a[d+da]+ha]+aa]+ua]+e],O|=da-e,0<da?(t+=1,0===e&&(x+=1),va|=wa):0<e&&(z+=1),wa>>=1,ka+=1,ha=e,e=aa,da=Z[ka],aa=R[ka+1],ua=pa[ka],da=c[a[a[a[a[d+da]+ha]+aa]+ua]+e],ta|=da<<8,O|=da-e,0<da?(t+=1,0===e&&(x+=1),va|=wa):0<e&&(z+=1),wa>>=1,ka+=1,ha=e,e=aa,da=Z[ka],aa=R[ka+1],ua=pa[ka],da=c[a[a[a[a[d+da]+ha]+aa]+ua]+e],ta|=da<<16,O|=da-e,0<da?(t+=1,0===e&&(x+=1),va|=wa):0<e&&(z+=1),wa>>=1,ka+=1,ha=e,e=aa,da=Z[ka],aa=
R[ka+1],ua=pa[ka],da=c[a[a[a[a[d+da]+ha]+aa]+ua]+e],ta|=da<<24,ya[ka>>2]=ta,O|=da-e,0<da?(t+=1,0===e&&(x+=1),va|=wa):0<e&&(z+=1),wa>>=1,ka+=1,ha=e,e=aa,da=Z[ka],aa=R[ka+1],ua=pa[ka],ta=da=c[a[a[a[a[d+da]+ha]+aa]+ua]+e],O|=da-e,0<da?(t+=1,0===e&&(x+=1),va|=wa):0<e&&(z+=1),wa>>=1,ka+=1,ha=e,e=aa,da=Z[ka],aa=R[ka+1],ua=pa[ka],da=c[a[a[a[a[d+da]+ha]+aa]+ua]+e],ta|=da<<8,O|=da-e,0<da?(t+=1,0===e&&(x+=1),va|=wa):0<e&&(z+=1),wa>>=1,ka+=1,ha=e,e=aa,da=Z[ka],aa=R[ka+1],ua=pa[ka],da=c[a[a[a[a[d+da]+ha]+aa]+
ua]+e],ta|=da<<16,O|=da-e,0<da?(t+=1,0===e&&(x+=1),va|=wa):0<e&&(z+=1),wa>>=1,ka+=1,ha=e,e=aa,da=Z[ka],aa=R[ka+1],ua=pa[ka],da=c[a[a[a[a[d+da]+ha]+aa]+ua]+e],ta|=da<<24,ya[ka>>2]=ta,O|=da-e,0<da?(t+=1,0===e&&(x+=1),va|=wa):0<e&&(z+=1),wa>>=1,ka+=1,ha=e,e=aa,da=Z[ka],aa=R[ka+1],ua=pa[ka],ta=da=c[a[a[a[a[d+da]+ha]+aa]+ua]+e],O|=da-e,0<da?(t+=1,0===e&&(x+=1),va|=wa):0<e&&(z+=1),wa>>=1,ka+=1,ha=e,e=aa,da=Z[ka],aa=R[ka+1],ua=pa[ka],da=c[a[a[a[a[d+da]+ha]+aa]+ua]+e],ta|=da<<8,O|=da-e,0<da?(t+=1,0===e&&
(x+=1),va|=wa):0<e&&(z+=1),wa>>=1,ka+=1,ha=e,e=aa,da=Z[ka],aa=R[ka+1],ua=pa[ka],da=c[a[a[a[a[d+da]+ha]+aa]+ua]+e],ta|=da<<16,O|=da-e,0<da?(t+=1,0===e&&(x+=1),va|=wa):0<e&&(z+=1),wa>>=1,ka+=1,ha=e,e=aa,da=Z[ka],aa=R[ka+1],ua=pa[ka],da=c[a[a[a[a[d+da]+ha]+aa]+ua]+e],ta|=da<<24,ya[ka>>2]=ta,O|=da-e,0<da?(t+=1,0===e&&(x+=1),va|=wa):0<e&&(z+=1),wa>>=1,ka+=1,ha=e,e=aa,da=Z[ka],aa=R[ka+1],ua=pa[ka],ta=da=c[a[a[a[a[d+da]+ha]+aa]+ua]+e],O|=da-e,0<da?(t+=1,0===e&&(x+=1),va|=wa):0<e&&(z+=1),wa>>=1,ka+=1,ha=
e,e=aa,da=Z[ka],aa=R[ka+1],ua=pa[ka],da=c[a[a[a[a[d+da]+ha]+aa]+ua]+e],ta|=da<<8,O|=da-e,0<da?(t+=1,0===e&&(x+=1),va|=wa):0<e&&(z+=1),wa>>=1,ka+=1,ha=e,e=aa,da=Z[ka],aa=R[ka+1],ua=pa[ka],da=c[a[a[a[a[d+da]+ha]+aa]+ua]+e],ta|=da<<16,O|=da-e,0<da?(t+=1,0===e&&(x+=1),va|=wa):0<e&&(z+=1),wa>>=1,ka+=1,ha=e,e=aa,da=Z[ka],ka===C-1?aa=0:aa=R[ka+1],ua=pa[ka],da=c[a[a[a[a[d+da]+ha]+aa]+ua]+e],ta|=da<<24,ya[ka>>2]=ta,O|=da-e,0<da?(t+=1,0===e&&(x+=1),va|=wa):0<e&&(z+=1),va&&(b|=va,f|=M),ba+=1,M>>=1;0===O&&b&&
(ia|=1<<m)}B[ma>>4]|=b;b&&(T|=1<<m,f&1&&(la|=k.xb,b&32768&&(la|=k.Xb),b&1&&(la|=k.wb)),f&32768&&(la|=k.Ib,b&32768&&(la|=k.Sb),b&1&&(la|=k.Tb)),b&32768&&(la|=k.Lb),b&1&&(la|=k.kb),la&&(0!==(la&k.Lb)&&(15>m?T|=1<<m+1:0<q&&0<ma&&(ca[q-1]|=1)),0!==(la&k.kb)&&(0<m?T|=1<<m-1:q<K-1&&ma<C-1&&(ca[q+1]|=32768)),0!==(la&k.Ib)&&(Q|=1<<m),0!==(la&k.xb)&&(Y|=1<<m),0!==(la&k.Sb)&&(15>m?Q|=1<<m+1:0<q&&0<ma&&(qa[q-1]|=1)),0!==(la&k.Tb)&&(0<m?Q|=1<<m-1:q<K-1&&ma<C-1&&(qa[q+1]|=32768)),0!==(la&k.Xb)&&(15>m?Y|=1<<m+
1:0<q&&0<ma&&(na[q-1]|=1)),0!==(la&k.wb)&&(0<m?Y|=1<<m-1:q<K-1&&ma<C-1&&(na[q+1]|=32768))));l[n]|=f}ma+=16}ca[q]|=T;fa[q]=ia;V[q]=v|T;ea[q]=ea[q]|v|T;0<n&&(qa[q]|=Q);n<N-1&&(na[q]|=Y)}else ma+=256;ja+=16;W+=16}for(q=0;q<I;q+=1)B[q]&&(q<D&&(D=q),q>H&&(H=q));for(n=0;n<l.length;n+=1)l[n]&&(n<F&&(F=n),n>E&&(E=n));D=(D<<4)+this.G(B[D]);H=(H<<4)+this.U(B[H]);F=(F<<4)+this.G(l[F]);E=(E<<4)+this.U(l[E]);0>E&&(E=A-1);F>=A&&(F=0);D>=C&&(D=0);0>H&&(H=C-1);E>A-1&&(E=A-1);0>F&&(F=0);0>D&&(D=0);H>C-1&&(H=C-1);
G.A=E;G.o=F;G.l=D;G.v=H;P.fill(0);ja=0;W=ja+16;for(n=0;n<U.length;n+=1){ma=0;sa=U[n];ca=L[n];for(q=0;q<K;q+=1)if(v=sa[q],T=ca[q],v!==T)for(m=15;0<=m;--m){if((v&1<<m)!==(T&1<<m)&&0===(T&1<<m))for(ba=ja;ba<W;ba+=1)R=S[ba],ka=ma>>2,R[ka]=0,R[ka+1]=0,R[ka+2]=0,R[ka+3]=0;ma+=16}else ma+=256;ja+=16;W+=16}this.oa=t;this.Qb=x;this.Ub=z;this.ba=t};p.prototype.SL=function(){var a=this.Jk,c=this.Kk,d=this.Al,e,m,n,q,u,y=this.Da,v=this.Ka,r,B=this.uf,b=this.ka,l,f=this.cb,t,x=0,z=0,A=0,C=this.height,I=this.width,
G=I>>4,F=this.M,E=C,D=-1,H=I,N=-1,K=this.ua,P=this.pa>>4,J=this.sd;if(0!==(this.counter&1)){var S=this.Ma;var X=this.wa;var U=this.ca;var L=this.qa;var ja=this.ia}else S=this.ca,X=this.de,U=this.Ma,L=this.ia,ja=this.qa;b.fill(0);f.fill(0);var W=0;var ma=W+16;ja.Wa.fill(0);for(q=0;q<L.length;q+=1){var sa=0;var ca=L[q];var V=ja[q];var ea=v[q];var fa=y[q];var qa=B[q];var na=0<q?ja[q-1]:J;var T=q<K-1?ja[q+1]:J;for(u=0;u<P;u+=1)if(r=ca[u]){var Q=V[u];var Y=na[u];var ia=T[u];var la=qa[u];for(n=15;0<=n;--n){if(0!==
(r&1<<n)){var ba=t=l=0;var M=W;var O=32768;var oa=0;if(0!==(la&1<<n)){for(;M<ma;){var Z=M===W||M===ma-1?!0:!1;var R=0===M?this.rc:S[M-1];var pa=S[M];var ya=M===this.height-1?this.rc:S[M+1];var wa=U[M];var va=32768;var ka=0;var aa=sa;if(0===aa)var ha=m=e=0;else e=R[aa-1],m=ya[aa-1],ha=pa[aa-1];var da=R[aa];var ua=ya[aa];var ta=pa[aa];var xa=e;e=da;da=R[aa+1];var ra=ha;ha=ta;ta=pa[aa+1];var za=m;m=ua;ua=ya[aa+1];ra=c[a[a[a[a[a[a[a[a[d+xa]+da]+za]+ua]+e]+ra]+ta]+m]+ha];oa|=ra-ha;wa[aa]=ra;0<ra?(x+=1,
0===ha&&(z+=1),ka|=va):0<ha&&(A+=1);va>>=1;aa+=1;Z?(xa=e,e=da,da=R[aa+1],ra=ha,ha=ta,ta=pa[aa+1],za=m,m=ua,ua=ya[aa+1],ra=c[a[a[a[a[a[a[a[a[d+xa]+da]+za]+ua]+e]+ra]+ta]+m]+ha],oa|=ra-ha,wa[aa]=ra,0<ra?(x+=1,0===ha&&(z+=1),ka|=va):0<ha&&(A+=1),va>>=1,aa+=1,xa=e,e=da,da=R[aa+1],ra=ha,ha=ta,ta=pa[aa+1],za=m,m=ua,ua=ya[aa+1],ra=c[a[a[a[a[a[a[a[a[d+xa]+da]+za]+ua]+e]+ra]+ta]+m]+ha],oa|=ra-ha,wa[aa]=ra,0<ra?(x+=1,0===ha&&(z+=1),ka|=va):0<ha&&(A+=1),va>>=1,aa+=1,xa=e,e=da,da=R[aa+1],ra=ha,ha=ta,ta=pa[aa+
1],za=m,m=ua,ua=ya[aa+1],ra=c[a[a[a[a[a[a[a[a[d+xa]+da]+za]+ua]+e]+ra]+ta]+m]+ha],oa|=ra-ha,wa[aa]=ra,0<ra?(x+=1,0===ha&&(z+=1),ka|=va):0<ha&&(A+=1),va>>=1,aa+=1,xa=e,e=da,da=R[aa+1],ra=ha,ha=ta,ta=pa[aa+1],za=m,m=ua,ua=ya[aa+1],ra=c[a[a[a[a[a[a[a[a[d+xa]+da]+za]+ua]+e]+ra]+ta]+m]+ha],oa|=ra-ha,wa[aa]=ra,0<ra?(x+=1,0===ha&&(z+=1),ka|=va):0<ha&&(A+=1),va>>=1,aa+=1,xa=e,e=da,da=R[aa+1],ra=ha,ha=ta,ta=pa[aa+1],za=m,m=ua,ua=ya[aa+1],ra=c[a[a[a[a[a[a[a[a[d+xa]+da]+za]+ua]+e]+ra]+ta]+m]+ha],oa|=ra-ha,wa[aa]=
ra,0<ra?(x+=1,0===ha&&(z+=1),ka|=va):0<ha&&(A+=1),va>>=1,aa+=1,xa=e,e=da,da=R[aa+1],ra=ha,ha=ta,ta=pa[aa+1],za=m,m=ua,ua=ya[aa+1],ra=c[a[a[a[a[a[a[a[a[d+xa]+da]+za]+ua]+e]+ra]+ta]+m]+ha],oa|=ra-ha,wa[aa]=ra,0<ra?(x+=1,0===ha&&(z+=1),ka|=va):0<ha&&(A+=1),va>>=1,aa+=1,xa=e,e=da,da=R[aa+1],ra=ha,ha=ta,ta=pa[aa+1],za=m,m=ua,ua=ya[aa+1],ra=c[a[a[a[a[a[a[a[a[d+xa]+da]+za]+ua]+e]+ra]+ta]+m]+ha],oa|=ra-ha,wa[aa]=ra,0<ra?(x+=1,0===ha&&(z+=1),ka|=va):0<ha&&(A+=1),va>>=1,aa+=1,xa=e,e=da,da=R[aa+1],ra=ha,ha=
ta,ta=pa[aa+1],za=m,m=ua,ua=ya[aa+1],ra=c[a[a[a[a[a[a[a[a[d+xa]+da]+za]+ua]+e]+ra]+ta]+m]+ha],oa|=ra-ha,wa[aa]=ra,0<ra?(x+=1,0===ha&&(z+=1),ka|=va):0<ha&&(A+=1),va>>=1,aa+=1,xa=e,e=da,da=R[aa+1],ra=ha,ha=ta,ta=pa[aa+1],za=m,m=ua,ua=ya[aa+1],ra=c[a[a[a[a[a[a[a[a[d+xa]+da]+za]+ua]+e]+ra]+ta]+m]+ha],oa|=ra-ha,wa[aa]=ra,0<ra?(x+=1,0===ha&&(z+=1),ka|=va):0<ha&&(A+=1),va>>=1,aa+=1,xa=e,e=da,da=R[aa+1],ra=ha,ha=ta,ta=pa[aa+1],za=m,m=ua,ua=ya[aa+1],ra=c[a[a[a[a[a[a[a[a[d+xa]+da]+za]+ua]+e]+ra]+ta]+m]+ha],
oa|=ra-ha,wa[aa]=ra,0<ra?(x+=1,0===ha&&(z+=1),ka|=va):0<ha&&(A+=1),va>>=1,aa+=1,xa=e,e=da,da=R[aa+1],ra=ha,ha=ta,ta=pa[aa+1],za=m,m=ua,ua=ya[aa+1],ra=c[a[a[a[a[a[a[a[a[d+xa]+da]+za]+ua]+e]+ra]+ta]+m]+ha],oa|=ra-ha,wa[aa]=ra,0<ra?(x+=1,0===ha&&(z+=1),ka|=va):0<ha&&(A+=1),va>>=1,aa+=1,xa=e,e=da,da=R[aa+1],ra=ha,ha=ta,ta=pa[aa+1],za=m,m=ua,ua=ya[aa+1],ra=c[a[a[a[a[a[a[a[a[d+xa]+da]+za]+ua]+e]+ra]+ta]+m]+ha],oa|=ra-ha,wa[aa]=ra,0<ra?(x+=1,0===ha&&(z+=1),ka|=va):0<ha&&(A+=1),va>>=1,aa+=1,xa=e,e=da,da=
R[aa+1],ra=ha,ha=ta,ta=pa[aa+1],za=m,m=ua,ua=ya[aa+1],ra=c[a[a[a[a[a[a[a[a[d+xa]+da]+za]+ua]+e]+ra]+ta]+m]+ha],oa|=ra-ha,wa[aa]=ra,0<ra?(x+=1,0===ha&&(z+=1),ka|=va):0<ha&&(A+=1),va>>=1,aa+=1,xa=e,e=da,da=R[aa+1],ra=ha,ha=ta,ta=pa[aa+1],za=m,m=ua,ua=ya[aa+1],ra=c[a[a[a[a[a[a[a[a[d+xa]+da]+za]+ua]+e]+ra]+ta]+m]+ha],oa|=ra-ha,wa[aa]=ra,0<ra?(x+=1,0===ha&&(z+=1),ka|=va):0<ha&&(A+=1)):(0<pa[aa]&&(x+=1,ka|=va),va>>=1,aa+=1,0<pa[aa]&&(x+=1,ka|=va),va>>=1,aa+=1,0<pa[aa]&&(x+=1,ka|=va),va>>=1,aa+=1,0<pa[aa]&&
(x+=1,ka|=va),va>>=1,aa+=1,0<pa[aa]&&(x+=1,ka|=va),va>>=1,aa+=1,0<pa[aa]&&(x+=1,ka|=va),va>>=1,aa+=1,0<pa[aa]&&(x+=1,ka|=va),va>>=1,aa+=1,0<pa[aa]&&(x+=1,ka|=va),va>>=1,aa+=1,0<pa[aa]&&(x+=1,ka|=va),va>>=1,aa+=1,0<pa[aa]&&(x+=1,ka|=va),va>>=1,aa+=1,0<pa[aa]&&(x+=1,ka|=va),va>>=1,aa+=1,0<pa[aa]&&(x+=1,ka|=va),va>>=1,aa+=1,0<pa[aa]&&(x+=1,ka|=va),va>>=1,aa+=1,e=R[aa],ha=pa[aa],m=ya[aa],da=R[aa+1],ta=pa[aa+1],ua=ya[aa+1],0<ha&&(x+=1,ka|=va));va>>=1;aa+=1;xa=e;e=da;ra=ha;ha=ta;za=m;m=ua;aa===I-1?ua=ta=
da=0:(da=R[aa+1],ta=pa[aa+1],ua=ya[aa+1]);ra=c[a[a[a[a[a[a[a[a[d+xa]+da]+za]+ua]+e]+ra]+ta]+m]+ha];oa|=ra-ha;wa[aa]=ra;0<ra?(x+=1,0===ha&&(z+=1),ka|=va):0<ha&&(A+=1);ka&&(l|=ka,t|=O);M+=1;O>>=1}0!==oa&&(la&=~(1<<n))}else{for(;M<ma;)R=0===M?this.rc:S[M-1],pa=S[M],ya=M===this.height-1?this.rc:S[M+1],wa=U[M],va=32768,ka=0,aa=sa,0===aa?ha=m=e=0:(e=R[aa-1],m=ya[aa-1],ha=pa[aa-1]),da=R[aa],ua=ya[aa],ta=pa[aa],xa=e,e=da,da=R[aa+1],ra=ha,ha=ta,ta=pa[aa+1],za=m,m=ua,ua=ya[aa+1],ra=c[a[a[a[a[a[a[a[a[d+xa]+
da]+za]+ua]+e]+ra]+ta]+m]+ha],oa|=ra-ha,wa[aa]=ra,0<ra?(x+=1,0===ha&&(z+=1),ka|=va):0<ha&&(A+=1),va>>=1,aa+=1,xa=e,e=da,da=R[aa+1],ra=ha,ha=ta,ta=pa[aa+1],za=m,m=ua,ua=ya[aa+1],ra=c[a[a[a[a[a[a[a[a[d+xa]+da]+za]+ua]+e]+ra]+ta]+m]+ha],oa|=ra-ha,wa[aa]=ra,0<ra?(x+=1,0===ha&&(z+=1),ka|=va):0<ha&&(A+=1),va>>=1,aa+=1,xa=e,e=da,da=R[aa+1],ra=ha,ha=ta,ta=pa[aa+1],za=m,m=ua,ua=ya[aa+1],ra=c[a[a[a[a[a[a[a[a[d+xa]+da]+za]+ua]+e]+ra]+ta]+m]+ha],oa|=ra-ha,wa[aa]=ra,0<ra?(x+=1,0===ha&&(z+=1),ka|=va):0<ha&&(A+=
1),va>>=1,aa+=1,xa=e,e=da,da=R[aa+1],ra=ha,ha=ta,ta=pa[aa+1],za=m,m=ua,ua=ya[aa+1],ra=c[a[a[a[a[a[a[a[a[d+xa]+da]+za]+ua]+e]+ra]+ta]+m]+ha],oa|=ra-ha,wa[aa]=ra,0<ra?(x+=1,0===ha&&(z+=1),ka|=va):0<ha&&(A+=1),va>>=1,aa+=1,xa=e,e=da,da=R[aa+1],ra=ha,ha=ta,ta=pa[aa+1],za=m,m=ua,ua=ya[aa+1],ra=c[a[a[a[a[a[a[a[a[d+xa]+da]+za]+ua]+e]+ra]+ta]+m]+ha],oa|=ra-ha,wa[aa]=ra,0<ra?(x+=1,0===ha&&(z+=1),ka|=va):0<ha&&(A+=1),va>>=1,aa+=1,xa=e,e=da,da=R[aa+1],ra=ha,ha=ta,ta=pa[aa+1],za=m,m=ua,ua=ya[aa+1],ra=c[a[a[a[a[a[a[a[a[d+
xa]+da]+za]+ua]+e]+ra]+ta]+m]+ha],oa|=ra-ha,wa[aa]=ra,0<ra?(x+=1,0===ha&&(z+=1),ka|=va):0<ha&&(A+=1),va>>=1,aa+=1,xa=e,e=da,da=R[aa+1],ra=ha,ha=ta,ta=pa[aa+1],za=m,m=ua,ua=ya[aa+1],ra=c[a[a[a[a[a[a[a[a[d+xa]+da]+za]+ua]+e]+ra]+ta]+m]+ha],oa|=ra-ha,wa[aa]=ra,0<ra?(x+=1,0===ha&&(z+=1),ka|=va):0<ha&&(A+=1),va>>=1,aa+=1,xa=e,e=da,da=R[aa+1],ra=ha,ha=ta,ta=pa[aa+1],za=m,m=ua,ua=ya[aa+1],ra=c[a[a[a[a[a[a[a[a[d+xa]+da]+za]+ua]+e]+ra]+ta]+m]+ha],oa|=ra-ha,wa[aa]=ra,0<ra?(x+=1,0===ha&&(z+=1),ka|=va):0<ha&&
(A+=1),va>>=1,aa+=1,xa=e,e=da,da=R[aa+1],ra=ha,ha=ta,ta=pa[aa+1],za=m,m=ua,ua=ya[aa+1],ra=c[a[a[a[a[a[a[a[a[d+xa]+da]+za]+ua]+e]+ra]+ta]+m]+ha],oa|=ra-ha,wa[aa]=ra,0<ra?(x+=1,0===ha&&(z+=1),ka|=va):0<ha&&(A+=1),va>>=1,aa+=1,xa=e,e=da,da=R[aa+1],ra=ha,ha=ta,ta=pa[aa+1],za=m,m=ua,ua=ya[aa+1],ra=c[a[a[a[a[a[a[a[a[d+xa]+da]+za]+ua]+e]+ra]+ta]+m]+ha],oa|=ra-ha,wa[aa]=ra,0<ra?(x+=1,0===ha&&(z+=1),ka|=va):0<ha&&(A+=1),va>>=1,aa+=1,xa=e,e=da,da=R[aa+1],ra=ha,ha=ta,ta=pa[aa+1],za=m,m=ua,ua=ya[aa+1],ra=c[a[a[a[a[a[a[a[a[d+
xa]+da]+za]+ua]+e]+ra]+ta]+m]+ha],oa|=ra-ha,wa[aa]=ra,0<ra?(x+=1,0===ha&&(z+=1),ka|=va):0<ha&&(A+=1),va>>=1,aa+=1,xa=e,e=da,da=R[aa+1],ra=ha,ha=ta,ta=pa[aa+1],za=m,m=ua,ua=ya[aa+1],ra=c[a[a[a[a[a[a[a[a[d+xa]+da]+za]+ua]+e]+ra]+ta]+m]+ha],oa|=ra-ha,wa[aa]=ra,0<ra?(x+=1,0===ha&&(z+=1),ka|=va):0<ha&&(A+=1),va>>=1,aa+=1,xa=e,e=da,da=R[aa+1],ra=ha,ha=ta,ta=pa[aa+1],za=m,m=ua,ua=ya[aa+1],ra=c[a[a[a[a[a[a[a[a[d+xa]+da]+za]+ua]+e]+ra]+ta]+m]+ha],oa|=ra-ha,wa[aa]=ra,0<ra?(x+=1,0===ha&&(z+=1),ka|=va):0<ha&&
(A+=1),va>>=1,aa+=1,xa=e,e=da,da=R[aa+1],ra=ha,ha=ta,ta=pa[aa+1],za=m,m=ua,ua=ya[aa+1],ra=c[a[a[a[a[a[a[a[a[d+xa]+da]+za]+ua]+e]+ra]+ta]+m]+ha],oa|=ra-ha,wa[aa]=ra,0<ra?(x+=1,0===ha&&(z+=1),ka|=va):0<ha&&(A+=1),va>>=1,aa+=1,xa=e,e=da,da=R[aa+1],ra=ha,ha=ta,ta=pa[aa+1],za=m,m=ua,ua=ya[aa+1],ra=c[a[a[a[a[a[a[a[a[d+xa]+da]+za]+ua]+e]+ra]+ta]+m]+ha],oa|=ra-ha,wa[aa]=ra,0<ra?(x+=1,0===ha&&(z+=1),ka|=va):0<ha&&(A+=1),va>>=1,aa+=1,xa=e,e=da,ra=ha,ha=ta,za=m,m=ua,aa===I-1?ua=ta=da=0:(da=R[aa+1],ta=pa[aa+
1],ua=ya[aa+1]),ra=c[a[a[a[a[a[a[a[a[d+xa]+da]+za]+ua]+e]+ra]+ta]+m]+ha],oa|=ra-ha,wa[aa]=ra,0<ra?(x+=1,0===ha&&(z+=1),ka|=va):0<ha&&(A+=1),ka&&(l|=ka,t|=O),M+=1,O>>=1;0===oa&&l&&(la|=1<<n)}b[sa>>4]|=l;l&&(Q|=1<<n,t&1&&(ba|=k.xb,l&32768&&(ba|=k.Xb),l&1&&(ba|=k.wb)),t&32768&&(ba|=k.Ib,l&32768&&(ba|=k.Sb),l&1&&(ba|=k.Tb)),l&32768&&(ba|=k.Lb),l&1&&(ba|=k.kb),ba&&(0!==(ba&k.Lb)&&(15>n?Q|=1<<n+1:0<u&&0<sa&&(V[u-1]|=1)),0!==(ba&k.kb)&&(0<n?Q|=1<<n-1:u<P-1&&sa<I-1&&(V[u+1]|=32768)),0!==(ba&k.Ib)&&(Y|=1<<
n),0!==(ba&k.xb)&&(ia|=1<<n),0!==(ba&k.Sb)&&(15>n?Y|=1<<n+1:0<u&&0<sa&&(na[u-1]|=1)),0!==(ba&k.Tb)&&(0<n?Y|=1<<n-1:u<P-1&&sa<I-1&&(na[u+1]|=32768)),0!==(ba&k.Xb)&&(15>n?ia|=1<<n+1:0<u&&0<sa&&(T[u-1]|=1)),0!==(ba&k.wb)&&(0<n?ia|=1<<n-1:u<P-1&&sa<I-1&&(T[u+1]|=32768))));f[q]|=t}sa+=16}V[u]|=Q;qa[u]=la;ea[u]=r|Q;fa[u]=fa[u]|r|Q;0<q&&(na[u]|=Y);q<K-1&&(T[u]|=ia)}else sa+=256;W+=16;ma+=16}for(u=0;u<G;u+=1)b[u]&&(u<H&&(H=u),u>N&&(N=u));for(q=0;q<f.length;q+=1)f[q]&&(q<E&&(E=q),q>D&&(D=q));H=(H<<4)+this.G(b[H]);
N=(N<<4)+this.U(b[N]);E=(E<<4)+this.G(f[E]);D=(D<<4)+this.U(f[D]);0>D&&(D=C-1);E>=C&&(E=0);H>=I&&(H=0);0>N&&(N=I-1);D>C-1&&(D=C-1);0>E&&(E=0);0>H&&(H=0);N>I-1&&(N=I-1);F.A=D;F.o=E;F.l=H;F.v=N;J.fill(0);W=0;ma=W+16;for(q=0;q<L.length;q+=1){sa=0;ca=L[q];V=ja[q];for(u=0;u<P;u+=1)if(r=ca[u],Q=V[u],r!==Q)for(n=15;0<=n;--n){if((r&1<<n)!==(Q&1<<n)&&0===(Q&1<<n))for(M=W;M<ma;M+=1)pa=X[M],aa=sa>>2,pa[aa]=0,pa[aa+1]=0,pa[aa+2]=0,pa[aa+3]=0;sa+=16}else sa+=256;W+=16;ma+=16}this.oa=x;this.Qb=z;this.Ub=A;this.ba=
x};p.prototype.eM=function(){var a=this.Je,c,d,e,m=this.Da,n=this.Ka,q=null,u=null,y,v=this.ka,r,B=this.cb,b,l,f=0,t=0,x=0,z=this.height,A=this.width,C=A>>4,I=this.M,G=z,F=-1,E=A,D=-1,H=this.ua,N=this.pa>>4,K=this.sd;if(0!==(this.counter&1)){var P=this.Ma;var J=this.wa;var S=this.de;var X=this.qa;var U=this.ia}else P=this.ca,J=this.de,S=this.wa,X=this.ia,U=this.qa;v.fill(0);B.fill(0);var L=0;var ja=L+16;U.Wa.fill(0);for(d=0;d<X.length;d+=1){var W=0;var ma=X[d];var sa=U[d];var ca=n[d];var V=m[d];0<
d?q=U[d-1]:q=K;d<H-1?u=U[d+1]:u=K;for(e=0;e<N;e+=1)if(y=ma[e]){var ea=sa[e];var fa=q[e];var qa=u[e];for(c=15;0<=c;--c){if(0!==(y&1<<c)){var na=b=r=0;var T=L;for(l=32768;T<ja;){var Q=0===T?this.rc:P[T-1];var Y=P[T];var ia=T===this.height-1?this.rc:P[T+1];var la=S[T];var ba=32768;var M=W;var O=Q[M];var oa=Y[M+1];var Z=ia[M];var R=0===M?Y[M]<<3|oa<<2|O<<1|Z:Y[M-1]<<4|Y[M]<<3|oa<<2|O<<1|Z;var pa=a[R];0<pa?(f+=1,0===(R&8)&&(t+=1),b|=l,r|=ba):0!==(R&8)&&(x+=1);ba>>=1;M+=1;O=Q[M];oa=Y[M+1];Z=ia[M];R=R<<
1&24|oa<<2|O<<1|Z;O=a[R];pa|=O<<8;0<O?(f+=1,0===(R&8)&&(t+=1),b|=l,r|=ba):0!==(R&8)&&(x+=1);ba>>=1;M+=1;O=Q[M];oa=Y[M+1];Z=ia[M];R=R<<1&24|oa<<2|O<<1|Z;O=a[R];pa|=O<<16;0<O?(f+=1,0===(R&8)&&(t+=1),b|=l,r|=ba):0!==(R&8)&&(x+=1);ba>>=1;M+=1;O=Q[M];oa=Y[M+1];Z=ia[M];R=R<<1&24|oa<<2|O<<1|Z;O=a[R];pa|=O<<24;la[M>>2]=pa;0<O?(f+=1,0===(R&8)&&(t+=1),b|=l,r|=ba):0!==(R&8)&&(x+=1);ba>>=1;M+=1;O=Q[M];oa=Y[M+1];Z=ia[M];R=R<<1&24|oa<<2|O<<1|Z;pa=a[R];0<pa?(f+=1,0===(R&8)&&(t+=1),b|=l,r|=ba):0!==(R&8)&&(x+=1);
ba>>=1;M+=1;O=Q[M];oa=Y[M+1];Z=ia[M];R=R<<1&24|oa<<2|O<<1|Z;O=a[R];pa|=O<<8;0<O?(f+=1,0===(R&8)&&(t+=1),b|=l,r|=ba):0!==(R&8)&&(x+=1);ba>>=1;M+=1;O=Q[M];oa=Y[M+1];Z=ia[M];R=R<<1&24|oa<<2|O<<1|Z;O=a[R];pa|=O<<16;0<O?(f+=1,0===(R&8)&&(t+=1),b|=l,r|=ba):0!==(R&8)&&(x+=1);ba>>=1;M+=1;O=Q[M];oa=Y[M+1];Z=ia[M];R=R<<1&24|oa<<2|O<<1|Z;O=a[R];pa|=O<<24;la[M>>2]=pa;0<O?(f+=1,0===(R&8)&&(t+=1),b|=l,r|=ba):0!==(R&8)&&(x+=1);ba>>=1;M+=1;O=Q[M];oa=Y[M+1];Z=ia[M];R=R<<1&24|oa<<2|O<<1|Z;pa=a[R];0<pa?(f+=1,0===(R&
8)&&(t+=1),b|=l,r|=ba):0!==(R&8)&&(x+=1);ba>>=1;M+=1;O=Q[M];oa=Y[M+1];Z=ia[M];R=R<<1&24|oa<<2|O<<1|Z;O=a[R];pa|=O<<8;0<O?(f+=1,0===(R&8)&&(t+=1),b|=l,r|=ba):0!==(R&8)&&(x+=1);ba>>=1;M+=1;O=Q[M];oa=Y[M+1];Z=ia[M];R=R<<1&24|oa<<2|O<<1|Z;O=a[R];pa|=O<<16;0<O?(f+=1,0===(R&8)&&(t+=1),b|=l,r|=ba):0!==(R&8)&&(x+=1);ba>>=1;M+=1;O=Q[M];oa=Y[M+1];Z=ia[M];R=R<<1&24|oa<<2|O<<1|Z;O=a[R];pa|=O<<24;la[M>>2]=pa;0<O?(f+=1,0===(R&8)&&(t+=1),b|=l,r|=ba):0!==(R&8)&&(x+=1);ba>>=1;M+=1;O=Q[M];oa=Y[M+1];Z=ia[M];R=R<<1&
24|oa<<2|O<<1|Z;pa=a[R];0<pa?(f+=1,0===(R&8)&&(t+=1),b|=l,r|=ba):0!==(R&8)&&(x+=1);ba>>=1;M+=1;O=Q[M];oa=Y[M+1];Z=ia[M];R=R<<1&24|oa<<2|O<<1|Z;O=a[R];pa|=O<<8;0<O?(f+=1,0===(R&8)&&(t+=1),b|=l,r|=ba):0!==(R&8)&&(x+=1);ba>>=1;M+=1;O=Q[M];oa=Y[M+1];Z=ia[M];R=R<<1&24|oa<<2|O<<1|Z;O=a[R];pa|=O<<16;0<O?(f+=1,0===(R&8)&&(t+=1),b|=l,r|=ba):0!==(R&8)&&(x+=1);ba>>=1;M+=1;O=Q[M];M===A-1?oa=0:oa=Y[M+1];Z=ia[M];R=R<<1&24|oa<<2|O<<1|Z;O=a[R];pa|=O<<24;la[M>>2]=pa;0<O?(f+=1,0===(R&3584)&&(t+=1),b|=l,r|=ba):0!==
(R&3584)&&(x+=1);T+=1;l>>=1}v[W>>4]|=r;r&&(ea|=1<<c,b&1&&(na|=k.xb,r&32768&&(na|=k.Xb),r&1&&(na|=k.wb)),b&32768&&(na|=k.Ib,r&32768&&(na|=k.Sb),r&1&&(na|=k.Tb)),r&32768&&(na|=k.Lb),r&1&&(na|=k.kb),na&&(0!==(na&k.Lb)&&(15>c?ea|=1<<c+1:0<e&&0<W&&(sa[e-1]|=1)),0!==(na&k.kb)&&(0<c?ea|=1<<c-1:e<N-1&&W<A-1&&(sa[e+1]|=32768)),0!==(na&k.Ib)&&(fa|=1<<c),0!==(na&k.xb)&&(qa|=1<<c),0!==(na&k.Sb)&&(15>c?fa|=1<<c+1:0<e&&0<W&&(q[e-1]|=1)),0!==(na&k.Tb)&&(0<c?fa|=1<<c-1:e<N-1&&W<A-1&&(q[e+1]|=32768)),0!==(na&k.Xb)&&
(15>c?qa|=1<<c+1:0<e&&0<W&&(u[e-1]|=1)),0!==(na&k.wb)&&(0<c?qa|=1<<c-1:e<N-1&&W<A-1&&(u[e+1]|=32768))));B[d]|=b}W+=16}sa[e]|=ea;ca[e]=y|ea;V[e]=V[e]|y|ea;0<d&&(q[e]|=fa);d<H-1&&(u[e]|=qa)}else W+=256;L+=16;ja+=16}for(e=0;e<C;e+=1)v[e]&&(e<E&&(E=e),e>D&&(D=e));for(d=0;d<B.length;d+=1)B[d]&&(d<G&&(G=d),d>F&&(F=d));E=(E<<4)+this.G(v[E]);D=(D<<4)+this.U(v[D]);G=(G<<4)+this.G(B[G]);F=(F<<4)+this.U(B[F]);0>F&&(F=z-1);G>=z&&(G=0);E>=A&&(E=0);0>D&&(D=A-1);F>z-1&&(F=z-1);0>G&&(G=0);0>E&&(E=0);D>A-1&&(D=A-
1);I.A=F;I.o=G;I.l=E;I.v=D;K.fill(0);L=0;ja=L+16;for(d=0;d<X.length;d+=1){W=0;ma=X[d];sa=U[d];for(e=0;e<N;e+=1)if(y=ma[e],ea=sa[e],y!==ea)for(c=15;0<=c;--c){if((y&1<<c)!==(ea&1<<c)&&0===(ea&1<<c))for(T=L;T<ja;T+=1)Y=J[T],M=W>>2,Y[M]=0,Y[M+1]=0,Y[M+2]=0,Y[M+3]=0;W+=16}else W+=256;L+=16;ja+=16}this.oa=f;this.Qb=t;this.Ub=x;this.ba=f};p.prototype.lM=function(){var a=this.Je,c,d,e,m=this.Da,n=this.Ka,q=null,u=null,y,v=this.ka,r,B=this.cb,b,l,f=0,t=0,x=0,z=this.height,A=this.width,C=A>>4,I=this.M,G=z,
F=-1,E=A,D=-1,H=this.ua,N=this.pa>>4,K=this.sd;if(0!==(this.counter&1)){var P=this.Ma;var J=this.wa;var S=this.de;var X=this.qa;var U=this.ia}else P=this.ca,J=this.de,S=this.wa,X=this.ia,U=this.qa;v.fill(0);B.fill(0);var L=0;var ja=L+16;U.Wa.fill(0);for(d=0;d<X.length;d+=1){var W=0;var ma=X[d];var sa=U[d];var ca=n[d];var V=m[d];0<d?q=U[d-1]:q=K;d<H-1?u=U[d+1]:u=K;for(e=0;e<N;e+=1)if(y=ma[e]){var ea=sa[e];var fa=q[e];var qa=u[e];for(c=15;0<=c;--c){if(0!==(y&1<<c)){var na=b=r=0;var T=L;for(l=32768;T<
ja;){var Q=0===T?this.rc:P[T-1];var Y=P[T];var ia=T===this.height-1?this.rc:P[T+1];var la=S[T];var ba=32768;var M=W;var O=Q[M];var oa=Y[M+1];var Z=ia[M];var R=0===M?Y[M]<<6|oa<<4|O<<2|Z:Y[M-1]<<8|Y[M]<<6|oa<<4|O<<2|Z;var pa=a[R];0<pa?(f+=1,0===(R&192)&&(t+=1),b|=l,r|=ba):0!==(R&192)&&(x+=1);ba>>=1;M+=1;O=Q[M];oa=Y[M+1];Z=ia[M];R=R<<2&960|oa<<4|O<<2|Z;O=a[R];pa|=O<<8;0<O?(f+=1,0===(R&192)&&(t+=1),b|=l,r|=ba):0!==(R&192)&&(x+=1);ba>>=1;M+=1;O=Q[M];oa=Y[M+1];Z=ia[M];R=R<<2&960|oa<<4|O<<2|Z;O=a[R];pa|=
O<<16;0<O?(f+=1,0===(R&192)&&(t+=1),b|=l,r|=ba):0!==(R&192)&&(x+=1);ba>>=1;M+=1;O=Q[M];oa=Y[M+1];Z=ia[M];R=R<<2&960|oa<<4|O<<2|Z;O=a[R];pa|=O<<24;la[M>>2]=pa;0<O?(f+=1,0===(R&192)&&(t+=1),b|=l,r|=ba):0!==(R&192)&&(x+=1);ba>>=1;M+=1;O=Q[M];oa=Y[M+1];Z=ia[M];R=R<<2&960|oa<<4|O<<2|Z;pa=a[R];0<pa?(f+=1,0===(R&192)&&(t+=1),b|=l,r|=ba):0!==(R&192)&&(x+=1);ba>>=1;M+=1;O=Q[M];oa=Y[M+1];Z=ia[M];R=R<<2&960|oa<<4|O<<2|Z;O=a[R];pa|=O<<8;0<O?(f+=1,0===(R&192)&&(t+=1),b|=l,r|=ba):0!==(R&192)&&(x+=1);ba>>=1;M+=
1;O=Q[M];oa=Y[M+1];Z=ia[M];R=R<<2&960|oa<<4|O<<2|Z;O=a[R];pa|=O<<16;0<O?(f+=1,0===(R&192)&&(t+=1),b|=l,r|=ba):0!==(R&192)&&(x+=1);ba>>=1;M+=1;O=Q[M];oa=Y[M+1];Z=ia[M];R=R<<2&960|oa<<4|O<<2|Z;O=a[R];pa|=O<<24;la[M>>2]=pa;0<O?(f+=1,0===(R&192)&&(t+=1),b|=l,r|=ba):0!==(R&192)&&(x+=1);ba>>=1;M+=1;O=Q[M];oa=Y[M+1];Z=ia[M];R=R<<2&960|oa<<4|O<<2|Z;pa=a[R];0<pa?(f+=1,0===(R&192)&&(t+=1),b|=l,r|=ba):0!==(R&192)&&(x+=1);ba>>=1;M+=1;O=Q[M];oa=Y[M+1];Z=ia[M];R=R<<2&960|oa<<4|O<<2|Z;O=a[R];pa|=O<<8;0<O?(f+=1,
0===(R&192)&&(t+=1),b|=l,r|=ba):0!==(R&192)&&(x+=1);ba>>=1;M+=1;O=Q[M];oa=Y[M+1];Z=ia[M];R=R<<2&960|oa<<4|O<<2|Z;O=a[R];pa|=O<<16;0<O?(f+=1,0===(R&192)&&(t+=1),b|=l,r|=ba):0!==(R&192)&&(x+=1);ba>>=1;M+=1;O=Q[M];oa=Y[M+1];Z=ia[M];R=R<<2&960|oa<<4|O<<2|Z;O=a[R];pa|=O<<24;la[M>>2]=pa;0<O?(f+=1,0===(R&192)&&(t+=1),b|=l,r|=ba):0!==(R&192)&&(x+=1);ba>>=1;M+=1;O=Q[M];oa=Y[M+1];Z=ia[M];R=R<<2&960|oa<<4|O<<2|Z;pa=a[R];0<pa?(f+=1,0===(R&192)&&(t+=1),b|=l,r|=ba):0!==(R&192)&&(x+=1);ba>>=1;M+=1;O=Q[M];oa=Y[M+
1];Z=ia[M];R=R<<2&960|oa<<4|O<<2|Z;O=a[R];pa|=O<<8;0<O?(f+=1,0===(R&192)&&(t+=1),b|=l,r|=ba):0!==(R&192)&&(x+=1);ba>>=1;M+=1;O=Q[M];oa=Y[M+1];Z=ia[M];R=R<<2&960|oa<<4|O<<2|Z;O=a[R];pa|=O<<16;0<O?(f+=1,0===(R&192)&&(t+=1),b|=l,r|=ba):0!==(R&192)&&(x+=1);ba>>=1;M+=1;O=Q[M];M===A-1?oa=0:oa=Y[M+1];Z=ia[M];R=R<<2&960|oa<<4|O<<2|Z;O=a[R];pa|=O<<24;la[M>>2]=pa;0<O?(f+=1,0===(R&192)&&(t+=1),b|=l,r|=ba):0!==(R&192)&&(x+=1);T+=1;l>>=1}v[W>>4]|=r;r&&(ea|=1<<c,b&1&&(na|=k.xb,r&32768&&(na|=k.Xb),r&1&&(na|=k.wb)),
b&32768&&(na|=k.Ib,r&32768&&(na|=k.Sb),r&1&&(na|=k.Tb)),r&32768&&(na|=k.Lb),r&1&&(na|=k.kb),na&&(0!==(na&k.Lb)&&(15>c?ea|=1<<c+1:0<e&&0<W&&(sa[e-1]|=1)),0!==(na&k.kb)&&(0<c?ea|=1<<c-1:e<N-1&&W<A-1&&(sa[e+1]|=32768)),0!==(na&k.Ib)&&(fa|=1<<c),0!==(na&k.xb)&&(qa|=1<<c),0!==(na&k.Sb)&&(15>c?fa|=1<<c+1:0<e&&0<W&&(q[e-1]|=1)),0!==(na&k.Tb)&&(0<c?fa|=1<<c-1:e<N-1&&W<A-1&&(q[e+1]|=32768)),0!==(na&k.Xb)&&(15>c?qa|=1<<c+1:0<e&&0<W&&(u[e-1]|=1)),0!==(na&k.wb)&&(0<c?qa|=1<<c-1:e<N-1&&W<A-1&&(u[e+1]|=32768))));
B[d]|=b}W+=16}sa[e]|=ea;ca[e]=y|ea;V[e]=V[e]|y|ea;0<d&&(q[e]|=fa);d<H-1&&(u[e]|=qa)}else W+=256;L+=16;ja+=16}for(e=0;e<C;e+=1)v[e]&&(e<E&&(E=e),e>D&&(D=e));for(d=0;d<B.length;d+=1)B[d]&&(d<G&&(G=d),d>F&&(F=d));E=(E<<4)+this.G(v[E]);D=(D<<4)+this.U(v[D]);G=(G<<4)+this.G(B[G]);F=(F<<4)+this.U(B[F]);0>F&&(F=z-1);G>=z&&(G=0);E>=A&&(E=0);0>D&&(D=A-1);F>z-1&&(F=z-1);0>G&&(G=0);0>E&&(E=0);D>A-1&&(D=A-1);I.A=F;I.o=G;I.l=E;I.v=D;K.fill(0);L=0;ja=L+16;for(d=0;d<X.length;d+=1){W=0;ma=X[d];sa=U[d];for(e=0;e<
N;e+=1)if(y=ma[e],ea=sa[e],y!==ea)for(c=15;0<=c;--c){if((y&1<<c)!==(ea&1<<c)&&0===(ea&1<<c))for(T=L;T<ja;T+=1)Y=J[T],M=W>>2,Y[M]=0,Y[M+1]=0,Y[M+2]=0,Y[M+3]=0;W+=16}else W+=256;L+=16;ja+=16}this.oa=f;this.Qb=t;this.Ub=x;this.ba=f};p.prototype.tM=function(){var a=this.Je,c,d,e,m=this.Da,n=this.Ka,q=null,u=null,y,v=this.ka,r,B=this.cb,b,l,f=0,t=0,x=0,z=this.height,A=this.width,C=A>>4,I=this.M,G=z,F=-1,E=A,D=-1,H=this.ua,N=this.pa>>4,K=this.sd;if(0!==(this.counter&1)){var P=this.Ma;var J=this.wa;var S=
this.de;var X=this.qa;var U=this.ia}else P=this.ca,J=this.de,S=this.wa,X=this.ia,U=this.qa;v.fill(0);B.fill(0);var L=0;var ja=L+16;U.Wa.fill(0);for(d=0;d<X.length;d+=1){var W=0;var ma=X[d];var sa=U[d];var ca=n[d];var V=m[d];0<d?q=U[d-1]:q=K;d<H-1?u=U[d+1]:u=K;for(e=0;e<N;e+=1)if(y=ma[e]){var ea=sa[e];var fa=q[e];var qa=u[e];for(c=15;0<=c;--c){if(0!==(y&1<<c)){var na=b=r=0;var T=L;for(l=32768;T<ja;){var Q=0===T?this.rc:P[T-1];var Y=P[T];var ia=T===this.height-1?this.rc:P[T+1];var la=S[T];var ba=32768;
var M=W;var O=Q[M];var oa=Y[M+1];var Z=ia[M];var R=0===M?Y[M]<<9|oa<<6|O<<3|Z:Y[M-1]<<12|Y[M]<<9|oa<<6|O<<3|Z;var pa=a[R];0<pa?(f+=1,0===(R&3584)&&(t+=1),b|=l,r|=ba):0!==(R&3584)&&(x+=1);ba>>=1;M+=1;O=Q[M];oa=Y[M+1];Z=ia[M];R=R<<3&32256|oa<<6|O<<3|Z;O=a[R];pa|=O<<8;0<O?(f+=1,0===(R&3584)&&(t+=1),b|=l,r|=ba):0!==(R&3584)&&(x+=1);ba>>=1;M+=1;O=Q[M];oa=Y[M+1];Z=ia[M];R=R<<3&32256|oa<<6|O<<3|Z;O=a[R];pa|=O<<16;0<O?(f+=1,0===(R&3584)&&(t+=1),b|=l,r|=ba):0!==(R&3584)&&(x+=1);ba>>=1;M+=1;O=Q[M];oa=Y[M+1];
Z=ia[M];R=R<<3&32256|oa<<6|O<<3|Z;O=a[R];pa|=O<<24;la[M>>2]=pa;0<O?(f+=1,0===(R&3584)&&(t+=1),b|=l,r|=ba):0!==(R&3584)&&(x+=1);ba>>=1;M+=1;O=Q[M];oa=Y[M+1];Z=ia[M];R=R<<3&32256|oa<<6|O<<3|Z;pa=a[R];0<pa?(f+=1,0===(R&3584)&&(t+=1),b|=l,r|=ba):0!==(R&3584)&&(x+=1);ba>>=1;M+=1;O=Q[M];oa=Y[M+1];Z=ia[M];R=R<<3&32256|oa<<6|O<<3|Z;O=a[R];pa|=O<<8;0<O?(f+=1,0===(R&3584)&&(t+=1),b|=l,r|=ba):0!==(R&3584)&&(x+=1);ba>>=1;M+=1;O=Q[M];oa=Y[M+1];Z=ia[M];R=R<<3&32256|oa<<6|O<<3|Z;O=a[R];pa|=O<<16;0<O?(f+=1,0===(R&
3584)&&(t+=1),b|=l,r|=ba):0!==(R&3584)&&(x+=1);ba>>=1;M+=1;O=Q[M];oa=Y[M+1];Z=ia[M];R=R<<3&32256|oa<<6|O<<3|Z;O=a[R];pa|=O<<24;la[M>>2]=pa;0<O?(f+=1,0===(R&3584)&&(t+=1),b|=l,r|=ba):0!==(R&3584)&&(x+=1);ba>>=1;M+=1;O=Q[M];oa=Y[M+1];Z=ia[M];R=R<<3&32256|oa<<6|O<<3|Z;pa=a[R];0<pa?(f+=1,0===(R&3584)&&(t+=1),b|=l,r|=ba):0!==(R&3584)&&(x+=1);ba>>=1;M+=1;O=Q[M];oa=Y[M+1];Z=ia[M];R=R<<3&32256|oa<<6|O<<3|Z;O=a[R];pa|=O<<8;0<O?(f+=1,0===(R&3584)&&(t+=1),b|=l,r|=ba):0!==(R&3584)&&(x+=1);ba>>=1;M+=1;O=Q[M];
oa=Y[M+1];Z=ia[M];R=R<<3&32256|oa<<6|O<<3|Z;O=a[R];pa|=O<<16;0<O?(f+=1,0===(R&3584)&&(t+=1),b|=l,r|=ba):0!==(R&3584)&&(x+=1);ba>>=1;M+=1;O=Q[M];oa=Y[M+1];Z=ia[M];R=R<<3&32256|oa<<6|O<<3|Z;O=a[R];pa|=O<<24;la[M>>2]=pa;0<O?(f+=1,0===(R&3584)&&(t+=1),b|=l,r|=ba):0!==(R&3584)&&(x+=1);ba>>=1;M+=1;O=Q[M];oa=Y[M+1];Z=ia[M];R=R<<3&32256|oa<<6|O<<3|Z;pa=a[R];0<pa?(f+=1,0===(R&3584)&&(t+=1),b|=l,r|=ba):0!==(R&3584)&&(x+=1);ba>>=1;M+=1;O=Q[M];oa=Y[M+1];Z=ia[M];R=R<<3&32256|oa<<6|O<<3|Z;O=a[R];pa|=O<<8;0<O?(f+=
1,0===(R&3584)&&(t+=1),b|=l,r|=ba):0!==(R&3584)&&(x+=1);ba>>=1;M+=1;O=Q[M];oa=Y[M+1];Z=ia[M];R=R<<3&32256|oa<<6|O<<3|Z;O=a[R];pa|=O<<16;0<O?(f+=1,0===(R&3584)&&(t+=1),b|=l,r|=ba):0!==(R&3584)&&(x+=1);ba>>=1;M+=1;O=Q[M];M===A-1?oa=0:oa=Y[M+1];Z=ia[M];R=R<<3&32256|oa<<6|O<<3|Z;O=a[R];pa|=O<<24;la[M>>2]=pa;0<O?(f+=1,0===(R&3584)&&(t+=1),b|=l,r|=ba):0!==(R&3584)&&(x+=1);T+=1;l>>=1}v[W>>4]|=r;r&&(ea|=1<<c,b&1&&(na|=k.xb,r&32768&&(na|=k.Xb),r&1&&(na|=k.wb)),b&32768&&(na|=k.Ib,r&32768&&(na|=k.Sb),r&1&&(na|=
k.Tb)),r&32768&&(na|=k.Lb),r&1&&(na|=k.kb),na&&(0!==(na&k.Lb)&&(15>c?ea|=1<<c+1:0<e&&0<W&&(sa[e-1]|=1)),0!==(na&k.kb)&&(0<c?ea|=1<<c-1:e<N-1&&W<A-1&&(sa[e+1]|=32768)),0!==(na&k.Ib)&&(fa|=1<<c),0!==(na&k.xb)&&(qa|=1<<c),0!==(na&k.Sb)&&(15>c?fa|=1<<c+1:0<e&&0<W&&(q[e-1]|=1)),0!==(na&k.Tb)&&(0<c?fa|=1<<c-1:e<N-1&&W<A-1&&(q[e+1]|=32768)),0!==(na&k.Xb)&&(15>c?qa|=1<<c+1:0<e&&0<W&&(u[e-1]|=1)),0!==(na&k.wb)&&(0<c?qa|=1<<c-1:e<N-1&&W<A-1&&(u[e+1]|=32768))));B[d]|=b}W+=16}sa[e]|=ea;ca[e]=y|ea;V[e]=V[e]|y|
ea;0<d&&(q[e]|=fa);d<H-1&&(u[e]|=qa)}else W+=256;L+=16;ja+=16}for(e=0;e<C;e+=1)v[e]&&(e<E&&(E=e),e>D&&(D=e));for(d=0;d<B.length;d+=1)B[d]&&(d<G&&(G=d),d>F&&(F=d));E=(E<<4)+this.G(v[E]);D=(D<<4)+this.U(v[D]);G=(G<<4)+this.G(B[G]);F=(F<<4)+this.U(B[F]);0>F&&(F=z-1);G>=z&&(G=0);E>=A&&(E=0);0>D&&(D=A-1);F>z-1&&(F=z-1);0>G&&(G=0);0>E&&(E=0);D>A-1&&(D=A-1);I.A=F;I.o=G;I.l=E;I.v=D;K.fill(0);L=0;ja=L+16;for(d=0;d<X.length;d+=1){W=0;ma=X[d];sa=U[d];for(e=0;e<N;e+=1)if(y=ma[e],ea=sa[e],y!==ea)for(c=15;0<=c;--c){if((y&
1<<c)!==(ea&1<<c)&&0===(ea&1<<c))for(T=L;T<ja;T+=1)Y=J[T],M=W>>2,Y[M]=0,Y[M+1]=0,Y[M+2]=0,Y[M+3]=0;W+=16}else W+=256;L+=16;ja+=16}this.oa=f;this.Qb=t;this.Ub=x;this.ba=f};p.prototype.SM=function(){var a=this.Je,c,d,e,m=this.Da,n=this.Ka,q=null,u=null,y,v=this.ka,r,B=this.cb,b,l,f=0,t=0,x=0,z=this.height,A=this.width,C=A>>4,I=this.M,G=z,F=-1,E=A,D=-1,H=this.ua,N=this.pa>>4,K=this.sd;if(0!==(this.counter&1)){var P=this.Ma;var J=this.wa;var S=this.de;var X=this.qa;var U=this.ia}else P=this.ca,J=this.de,
S=this.wa,X=this.ia,U=this.qa;v.fill(0);B.fill(0);var L=0;var ja=L+16;U.Wa.fill(0);for(d=0;d<X.length;d+=1){var W=0;var ma=X[d];var sa=U[d];var ca=n[d];var V=m[d];0<d?q=U[d-1]:q=K;d<H-1?u=U[d+1]:u=K;for(e=0;e<N;e+=1)if(y=ma[e]){var ea=sa[e];var fa=q[e];var qa=u[e];for(c=15;0<=c;--c){if(0!==(y&1<<c)){var na=b=r=0;var T=L;for(l=32768;T<ja;){var Q=0===T?this.rc:P[T-1];var Y=P[T];var ia=T===this.height-1?this.rc:P[T+1];var la=S[T];var ba=32768;var M=W;var O=Q[M];var oa=Y[M+1];var Z=ia[M];var R=0===M?
Y[M]<<12|oa<<8|O<<4|Z:Y[M-1]<<16|Y[M]<<12|oa<<8|O<<4|Z;var pa=a[R];0<pa?(f+=1,0===(R&61440)&&(t+=1),b|=l,r|=ba):0!==(R&61440)&&(x+=1);ba>>=1;M+=1;O=Q[M];oa=Y[M+1];Z=ia[M];R=R<<4&1044480|oa<<8|O<<4|Z;O=a[R];pa|=O<<8;0<O?(f+=1,0===(R&61440)&&(t+=1),b|=l,r|=ba):0!==(R&61440)&&(x+=1);ba>>=1;M+=1;O=Q[M];oa=Y[M+1];Z=ia[M];R=R<<4&1044480|oa<<8|O<<4|Z;O=a[R];pa|=O<<16;0<O?(f+=1,0===(R&61440)&&(t+=1),b|=l,r|=ba):0!==(R&61440)&&(x+=1);ba>>=1;M+=1;O=Q[M];oa=Y[M+1];Z=ia[M];R=R<<4&1044480|oa<<8|O<<4|Z;O=a[R];
pa|=O<<24;la[M>>2]=pa;0<O?(f+=1,0===(R&61440)&&(t+=1),b|=l,r|=ba):0!==(R&61440)&&(x+=1);ba>>=1;M+=1;O=Q[M];oa=Y[M+1];Z=ia[M];R=R<<4&1044480|oa<<8|O<<4|Z;pa=a[R];0<pa?(f+=1,0===(R&61440)&&(t+=1),b|=l,r|=ba):0!==(R&61440)&&(x+=1);ba>>=1;M+=1;O=Q[M];oa=Y[M+1];Z=ia[M];R=R<<4&1044480|oa<<8|O<<4|Z;O=a[R];pa|=O<<8;0<O?(f+=1,0===(R&61440)&&(t+=1),b|=l,r|=ba):0!==(R&61440)&&(x+=1);ba>>=1;M+=1;O=Q[M];oa=Y[M+1];Z=ia[M];R=R<<4&1044480|oa<<8|O<<4|Z;O=a[R];pa|=O<<16;0<O?(f+=1,0===(R&61440)&&(t+=1),b|=l,r|=ba):
0!==(R&61440)&&(x+=1);ba>>=1;M+=1;O=Q[M];oa=Y[M+1];Z=ia[M];R=R<<4&1044480|oa<<8|O<<4|Z;O=a[R];pa|=O<<24;la[M>>2]=pa;0<O?(f+=1,0===(R&61440)&&(t+=1),b|=l,r|=ba):0!==(R&61440)&&(x+=1);ba>>=1;M+=1;O=Q[M];oa=Y[M+1];Z=ia[M];R=R<<4&1044480|oa<<8|O<<4|Z;pa=a[R];0<pa?(f+=1,0===(R&61440)&&(t+=1),b|=l,r|=ba):0!==(R&61440)&&(x+=1);ba>>=1;M+=1;O=Q[M];oa=Y[M+1];Z=ia[M];R=R<<4&1044480|oa<<8|O<<4|Z;O=a[R];pa|=O<<8;0<O?(f+=1,0===(R&61440)&&(t+=1),b|=l,r|=ba):0!==(R&61440)&&(x+=1);ba>>=1;M+=1;O=Q[M];oa=Y[M+1];Z=ia[M];
R=R<<4&1044480|oa<<8|O<<4|Z;O=a[R];pa|=O<<16;0<O?(f+=1,0===(R&61440)&&(t+=1),b|=l,r|=ba):0!==(R&61440)&&(x+=1);ba>>=1;M+=1;O=Q[M];oa=Y[M+1];Z=ia[M];R=R<<4&1044480|oa<<8|O<<4|Z;O=a[R];pa|=O<<24;la[M>>2]=pa;0<O?(f+=1,0===(R&61440)&&(t+=1),b|=l,r|=ba):0!==(R&61440)&&(x+=1);ba>>=1;M+=1;O=Q[M];oa=Y[M+1];Z=ia[M];R=R<<4&1044480|oa<<8|O<<4|Z;pa=a[R];0<pa?(f+=1,0===(R&61440)&&(t+=1),b|=l,r|=ba):0!==(R&61440)&&(x+=1);ba>>=1;M+=1;O=Q[M];oa=Y[M+1];Z=ia[M];R=R<<4&1044480|oa<<8|O<<4|Z;O=a[R];pa|=O<<8;0<O?(f+=1,
0===(R&61440)&&(t+=1),b|=l,r|=ba):0!==(R&61440)&&(x+=1);ba>>=1;M+=1;O=Q[M];oa=Y[M+1];Z=ia[M];R=R<<4&1044480|oa<<8|O<<4|Z;O=a[R];pa|=O<<16;0<O?(f+=1,0===(R&61440)&&(t+=1),b|=l,r|=ba):0!==(R&61440)&&(x+=1);ba>>=1;M+=1;O=Q[M];M===A-1?oa=0:oa=Y[M+1];Z=ia[M];R=R<<4&1044480|oa<<8|O<<4|Z;O=a[R];pa|=O<<24;la[M>>2]=pa;0<O?(f+=1,0===(R&61440)&&(t+=1),b|=l,r|=ba):0!==(R&61440)&&(x+=1);T+=1;l>>=1}v[W>>4]|=r;r&&(ea|=1<<c,b&1&&(na|=k.xb,r&32768&&(na|=k.Xb),r&1&&(na|=k.wb)),b&32768&&(na|=k.Ib,r&32768&&(na|=k.Sb),
r&1&&(na|=k.Tb)),r&32768&&(na|=k.Lb),r&1&&(na|=k.kb),na&&(0!==(na&k.Lb)&&(15>c?ea|=1<<c+1:0<e&&0<W&&(sa[e-1]|=1)),0!==(na&k.kb)&&(0<c?ea|=1<<c-1:e<N-1&&W<A-1&&(sa[e+1]|=32768)),0!==(na&k.Ib)&&(fa|=1<<c),0!==(na&k.xb)&&(qa|=1<<c),0!==(na&k.Sb)&&(15>c?fa|=1<<c+1:0<e&&0<W&&(q[e-1]|=1)),0!==(na&k.Tb)&&(0<c?fa|=1<<c-1:e<N-1&&W<A-1&&(q[e+1]|=32768)),0!==(na&k.Xb)&&(15>c?qa|=1<<c+1:0<e&&0<W&&(u[e-1]|=1)),0!==(na&k.wb)&&(0<c?qa|=1<<c-1:e<N-1&&W<A-1&&(u[e+1]|=32768))));B[d]|=b}W+=16}sa[e]|=ea;ca[e]=y|ea;V[e]=
V[e]|y|ea;0<d&&(q[e]|=fa);d<H-1&&(u[e]|=qa)}else W+=256;L+=16;ja+=16}for(e=0;e<C;e+=1)v[e]&&(e<E&&(E=e),e>D&&(D=e));for(d=0;d<B.length;d+=1)B[d]&&(d<G&&(G=d),d>F&&(F=d));E=(E<<4)+this.G(v[E]);D=(D<<4)+this.U(v[D]);G=(G<<4)+this.G(B[G]);F=(F<<4)+this.U(B[F]);0>F&&(F=z-1);G>=z&&(G=0);E>=A&&(E=0);0>D&&(D=A-1);F>z-1&&(F=z-1);0>G&&(G=0);0>E&&(E=0);D>A-1&&(D=A-1);I.A=F;I.o=G;I.l=E;I.v=D;K.fill(0);L=0;ja=L+16;for(d=0;d<X.length;d+=1){W=0;ma=X[d];sa=U[d];for(e=0;e<N;e+=1)if(y=ma[e],ea=sa[e],y!==ea)for(c=
15;0<=c;--c){if((y&1<<c)!==(ea&1<<c)&&0===(ea&1<<c))for(T=L;T<ja;T+=1)Y=J[T],M=W>>2,Y[M]=0,Y[M+1]=0,Y[M+2]=0,Y[M+3]=0;W+=16}else W+=256;L+=16;ja+=16}this.oa=f;this.Qb=t;this.Ub=x;this.ba=f};p.prototype.rK=function(){var a=this.te,c=this.M,d=this.Ad,e=d.l;var m=d.o;var n=d.v,q=d.A,u=0,y=0,v=0,r=this.width,B=this.height,b=0,l=0,f=this.width,t=this.height,x=0,z=0,A=this.Da,C,I=this.Wf,G=this.O,F=0<this.O?1:0;var E=this.Ca;var D=this.xa;var H=Math.round((this.width-E)/2);var N=Math.round((this.height-
D)/2);-1!==this.ya&&(e=H+1,m=N+1,n=H+E-1-1,q=N+D-1-1);this.cd&&(this.bd=!this.bd,this.cd=!1);this.ba=0;0!==(this.counter&1)?(E=this.Ma,D=this.ca,this.bd&&(a=this.Kc)):(E=this.ca,D=this.Ma,this.qc&&(a=this.If),this.bd&&(a=this.qc?this.ue:this.Kc));1>m&&(m=1);q>this.height-2&&(q=this.height-2);1>e&&(e=1);n>this.width-2&&(n=this.width-2);for(--m;m<=q+1;m+=1){N=E[m-1];var K=E[m];var P=E[m+1];var J=A[m>>4];var S=D[m];var X=C=!1;var U=K[e-2];for(H=e-1;H<=n+1;H+=1){var L=P[H];var ja=K[H+1];var W=N[H];0<
G&&(L=L<=G?0:L-G,ja=ja<=G?0:ja-G,W=W<=G?0:W-G,U=U<=G?0:U-G);U=U|L<<4|ja<<8|W<<12;L=a[U];U=K[H];0<L?(u+=I[L],S[H]=L+G,C=!0,J[H>>8]=65535,H<r&&(r=H),H>b&&(b=H)):(L=U,L>G?L=G:L>F&&--L,S[H]=L,0<L&&(C=!0,H<r&&(r=H),H>b&&(b=H)),L=0);U>G?(U-=G,y+=I[L&~U],v+=I[U&~L],U+=G):y+=I[L];0<L&&(H<f&&(f=H),H>x&&(x=H),X=!0)}C&&(m<B&&(B=m),m>l&&(l=m));X&&(m<t&&(t=m),m>z&&(z=m))}this.oa=u;this.Qb=y;this.Ub=v;this.ba=u;d.l=r;d.o=B;d.v=b;d.A=l;c.l=f;c.o=t;c.v=x;c.A=z};p.prototype.FB=function(){var a=this.tk,c=this.Da,d=
this.Ka,e,m,n;var q=this.ua;var u=this.pa>>4;var y=0;var v=q;this.ba=0;if(0!==(this.counter&1)){var r=this.Vb;var B=this.qa}else r=this.fb,B=this.ia;0>y&&(y=0);v>q&&(v=q);q=y<<4;var b=q+16;for(e=y;e<v;e+=1){var l=0;var f=B[e];var t=d[e];var x=c[e];for(m=0;m<u;m+=1){var z=f[m]|x[m];var A=0;if(z)for(n=15;0<=n;--n){if(0!==(z&1<<n)){var C=0;for(y=q;y<b;){var I=r[y];var G=a[y];var F=l<<3;I=I[l];this.ba|=I;C|=I;G[F]=(I&32768)>>9|I&16384;F+=1;G[F]=(I&8192)>>7|(I&4096)<<2;F+=1;G[F]=(I&2048)>>5|(I&1024)<<
4;F+=1;G[F]=(I&512)>>3|(I&256)<<6;F+=1;G[F]=(I&128)>>1|(I&64)<<8;F+=1;G[F]=(I&32)<<1|(I&16)<<10;F+=1;G[F]=(I&8)<<3|(I&4)<<12;F+=1;G[F]=(I&2)<<5|(I&1)<<14;y+=1}C&&(A|=1<<n)}l+=1}else l+=16;t[m]=A;x[m]|=A}q+=16;b+=16}};p.prototype.rC=function(){var a=this.tk,c=this.Da,d=this.Ka,e=this.rp,m,n,q;var u=this.ua;var y=this.pa>>4;var v=0;var r=u;this.ba=0;if(0!==(this.counter&1)){var B=this.Vb;var b=this.qa}else B=this.fb,b=this.ia;0>v&&(v=0);r>u&&(r=u);u=v<<4;var l=u+16;for(m=v;m<r;m+=1){var f=0;var t=b[m];
var x=d[m];var z=c[m];for(n=0;n<y;n+=1){var A=t[n]|x[n]|z[n];var C=0;if(A)for(q=15;0<=q;--q){if(0!==(A&1<<q)){var I=0;for(v=u;v<l;){var G=B[v];var F=a[v];var E=f<<3;G=G[f];this.ba|=G;var D=e[F[E]|(G&32768)>>8|(G&16384)<<1];I|=D;F[E]=D;E+=1;D=e[F[E]|(G&8192)>>6|(G&4096)<<3];I|=D;F[E]=D;E+=1;D=e[F[E]|(G&2048)>>4|(G&1024)<<5];I|=D;F[E]=D;E+=1;D=e[F[E]|(G&512)>>2|(G&256)<<7];I|=D;F[E]=D;E+=1;D=e[F[E]|G&128|(G&64)<<9];I|=D;F[E]=D;E+=1;D=e[F[E]|(G&32)<<2|(G&16)<<11];I|=D;F[E]=D;E+=1;D=e[F[E]|(G&8)<<4|(G&
4)<<13];I|=D;F[E]=D;E+=1;D=e[F[E]|(G&2)<<6|(G&1)<<15];I|=D;F[E]=D;v+=1}if(1<(I&255)||1<I>>8)C|=1<<q}f+=1}else f+=16;x[n]=C;z[n]|=C}u+=16;l+=16}};p.prototype.WB=function(){var a=this.tk,c=this.Da,d=this.Ka,e=this.rp,m,n,q;var u=this.ua;var y=this.pa>>4;var v=0;var r=u;this.ba=0;if(0!==(this.counter&1)){var B=this.Vb;var b=this.qa}else B=this.fb,b=this.ia;0>v&&(v=0);r>u&&(r=u);u=v<<4;var l=u+16;for(m=v;m<r;m+=1){var f=0;var t=b[m];var x=d[m];var z=c[m];for(n=0;n<y;n+=1){var A=t[n]|x[n];var C=0;if(A)for(q=
15;0<=q;--q){if(0!==(A&1<<q)){var I=0;for(v=u;v<l;){var G=B[v];var F=a[v];var E=f<<3;G=G[f];this.ba|=G;var D=e[(G&49152)>>7|v+E+E&127];I|=D;F[E]=D;E+=1;D=e[(G&12288)>>5|v+E+E&127];I|=D;F[E]=D;E+=1;D=e[(G&3072)>>3|v+E+E&127];I|=D;F[E]=D;E+=1;D=e[(G&768)>>1|v+E+E&127];I|=D;F[E]=D;E+=1;D=e[(G&192)<<1|v+E+E&127];I|=D;F[E]=D;E+=1;D=e[(G&48)<<3|v+E+E&127];I|=D;F[E]=D;E+=1;D=e[(G&12)<<5|v+E+E&127];I|=D;F[E]=D;E+=1;D=e[(G&3)<<7|v+E+E&127];I|=D;F[E]=D;v+=1}if(1<(I&255)||1<I>>8)C|=1<<q}f+=1}else f+=16;x[n]=
C;z[n]|=C}u+=16;l+=16}};p.prototype.RH=function(a,c,d,e,m,n,q,u,y,v){var r=this.Kf;e=e*a+r.A;d=d*a+r.v;c=c*a+r.o;m=m*a+r.l;r=d-m+1;a=e-c+1;this.S&&(r=d-c/2-(m-e/2)+1);0===r&&(r=1);0===a&&(a=1);n/=r;q/=a;v=Math.round(1E3*(n>q?q:n)/v)/1E3;v<u?v=u:v>y&&(v=y);return v};p.prototype.FI=function(a){var c=a;1>a&&(c=1/a);var d=Math.round(c);(d<c?d/c:c/d)>=ViewConstants.wL&&(a=1>a?1/d:d);return a};p.prototype.dh=function(a,c,d,e,m,n,q,u,y,v,r,B,b,l){var f=this.M,t=this.Kf,x=this.Ad;d=this.ca;(this.N||this.ga||
this.T)&&0!==(this.counter&1)&&(d=this.Ma);B?f=x:this.sa&&(f=this.Na);if(a===ViewConstants.mv){B=c.l;x=c.v;var z=c.A;c=c.o}else B=f.l,x=f.v,z=f.A,c=f.o,this.Ea&&!b&&(t.l<B&&(B=t.l),t.v>x&&(x=t.v),t.A>z&&(z=t.A),t.o<c&&(c=t.o)),-1!==this.ya&&(t=this.Ca,b=this.xa,0<t&&(this.width/2-t/2<B&&(B=this.width/2-t/2),this.width/2+t/2>x&&(x=this.width/2+t/2)),0<b&&(this.height/2-b/2<c&&(c=this.height/2-b/2),this.height/2+b/2>z&&(z=this.height/2+b/2)));r?(t=y,b=v,B=this.width/2-t/2,x=this.width/2+t/2,z=this.height/
2+b/2,c=this.height/2-b/2):(t=x-B+1,b=z-c+1);if(this.S)if(a===ViewConstants.mv)B-=z/2,t=x-c/2-B+1;else{t=2*(this.width+this.height);f=-t;for(r=c;r<=z;r+=1)for(y=d[r],v=B;v<=x;v+=1){var A=y[v];0<A&&(A=v-r/2,A<t&&(t=A),A>f&&(f=A))}B=t;x=f;B>x&&(d=B,B=x,x=d);t=0>x&&0>B?0:x-B+1}0===t&&(t=1);0===b&&(b=1);e/=t;m/=b;this.R&&(m/=ViewConstants.ne);u=Math.round(1E3*(e>m?m:e)/u)/1E3;u/=this.xc;u<n?u=n:u>q&&(u=q);n=c-this.Zb+b/2;q=B-this.bc+t/2;l||(u=this.FI(u));a===ViewConstants.yE&&(u=this.zoom);return[u,q,
n]};p.prototype.Rx=function(a,c,d,e){var m=this.fe,n=this.I,q=this.H;if(a>c){var u=c;c=a;a=u}0>a?a=0:a>=n&&(a=n-1);0>c?c=0:c>=n&&(c=n-1);0<=d&&d<q&&m.fill(e,d*n+a,d*n+c)};p.prototype.Ux=function(a,c,d,e){var m=this.fe,n=this.I,q=this.H;if(c>d){var u=d;d=c;c=u}0>c?c=0:c>=q&&(c=q-1);0>d?d=0:d>=q&&(d=q-1);c=c*n+a;d=d*n+a;q=d-15*n;if(0<=a&&a<n){for(;c<=q;)m[c]=e,c+=n,m[c]=e,c+=n,m[c]=e,c+=n,m[c]=e,c+=n,m[c]=e,c+=n,m[c]=e,c+=n,m[c]=e,c+=n,m[c]=e,c+=n,m[c]=e,c+=n,m[c]=e,c+=n,m[c]=e,c+=n,m[c]=e,c+=n,m[c]=
e,c+=n,m[c]=e,c+=n,m[c]=e,c+=n,m[c]=e,c+=n;for(;c<=d;)m[c]=e,c+=n}};p.prototype.Qx=function(a,c,d,e,m){var n=Math.abs(d-a),q=Math.abs(e-c),u=a<d?1:-1,y=c<e?1:-1,v=n-q,r=this.I,B=this.H,b=this.fe;if(!(0>a&&0>d||a>=r&&d>=r||0>c&&0>e||c>=B&&e>=B))if(0<=a&&a<r&&0<=c&&c<B&&0<=d&&d<r&&0<=e&&e<B)for(b[c*r+a]=m;a!==d||c!==e;){var l=v+v;l>-q&&(v-=q,a+=u);l<n&&(v+=n,c+=y);b[c*r+a]=m}else for(0<=a&&a<r&&0<=c&&c<B&&(b[c*r+a]=m);a!==d||c!==e;)l=v+v,l>-q&&(v-=q,a+=u),l<n&&(v+=n,c+=y),0<=a&&a<r&&0<=c&&c<B&&(b[c*
r+a]=m)};p.prototype.fk=function(a,c,d,e,m){var n=this.I/2,q=this.H/2;if(0!==this.rb){a-=n;c-=q;var u=Math.sqrt(a*a+c*c);var y=180/Math.PI*Math.atan2(c,a);y+=this.rb;a=Math.round(u*Math.cos(Math.PI/180*y)+n);c=Math.round(u*Math.sin(Math.PI/180*y)+q);d-=n;e-=q;u=Math.sqrt(d*d+e*e);y=180/Math.PI*Math.atan2(e,d);y+=this.rb;d=Math.round(u*Math.cos(Math.PI/180*y)+n);e=Math.round(u*Math.sin(Math.PI/180*y)+q)}a===d?this.Ux(a,c,e,m):c===e?this.Rx(a,d,c,m):this.Qx(a,c,d,e,m)};p.prototype.Vl=function(a,c,d,
e,m){var n=a.tf,q=a.sf,u=0,y=0,v=this.context;var r=this.zoom;var B=this.zoom*(this.R?ViewConstants.ne:1);var b=(this.width>>1)-(a.gb>>1);var l=(this.height>>1)-(a.jb>>1);var f=a.Uc-this.va,t=a.Tc-this.Aa-(this.S?this.va/2:0),x=[0,0];switch(e){case ViewConstants.dG:c-=n>>1;break;case ViewConstants.eG:c-=n-1;break;case ViewConstants.iG:d-=q>>1;break;case ViewConstants.cG:c-=n>>1;d-=q>>1;break;case ViewConstants.bG:c-=n-1;d-=q>>1;break;case ViewConstants.hG:d-=q-1;break;case ViewConstants.fG:c-=n>>
1;d-=q-1;break;case ViewConstants.gG:c-=n-1,d-=q-1}var z=B*(d-l+f-this.Zb+a.Uc)+a.H/2;e=r*(c-b+t-this.bc+a.Tc)+a.I/2+(this.S?(a.H/2-z)/2:0);var A=B*(d+q-l+f-this.Zb+a.Uc)+a.H/2;var C=r*(c+n-b+t-this.bc+a.Tc)+a.I/2+(this.S?(a.H/2-A)/2:0);v.fillStyle=m;v.globalAlpha=.5;if(this.S)if(!this.sc&&4<=this.zoom)this.Rt(c,d,c+n-1,d+q-1,b,l);else{v.beginPath();for(m=0;m<q;m+=1)v.moveTo(e,z),v.lineTo(e+n*r+1,z),v.lineTo(e+n*r+1,z+B+1),v.lineTo(e,z+B+1),e-=B/2,z+=B;v.fill()}else this.R&&4<=this.zoom?this.St(c,
d,c+n-1,d+q-1,b,l):(v.beginPath(),this.kf(e,z,x),v.moveTo(x[0],x[1]),this.kf(C+1,z,x),v.lineTo(x[0],x[1]),this.kf(C+1,A+1,x),v.lineTo(x[0],x[1]),this.kf(e,A+1,x),v.lineTo(x[0],x[1]),v.fill());if(1<=this.zoom){if(0<this.rb){var I=Math.cos(this.rb/180*Math.PI)*this.na;var G=Math.sin(this.rb/180*Math.PI)*this.na;var F=Math.cos((this.rb+90)/180*Math.PI)*this.na;var E=Math.sin((this.rb+90)/180*Math.PI)*this.na}else I=this.na,F=G=0,E=I;z=B*(d+y-l+f-this.Zb+a.Uc)+a.H/2;e=r*(c+u-b+t-this.bc+a.Tc)+a.I/2+(this.S?
(a.H/2-z)/2:0);0!==this.rb&&(this.kf(e,z,x),e=x[0],z=x[1]);C=e;A=z;v.fillStyle="rgb(255, 128, 0)";if(this.S&&!this.sc&&4<=this.zoom)this.Sx(c,d,c+n-1,d+q-1,b,l,a.zb);else if(this.R&&4<=this.zoom)this.Tx(c,d,c+n-1,d+q-1,b,l,a.zb);else{v.beginPath();for(y=m=0;y<q;y+=1){e=C;for(u=0;u<n;u+=1)c=a.zb[m],m+=1,c&&(c=e+I,d=z+G,r=c+F,B=d+E,b=r-I,l=B-G,0>e&&0>c&&0>r&&0>b||e>=a.I&&c>=a.I&&r>=a.I&&b>=a.I||0>z&&0>d&&0>B&&0>l||z>=a.H&&d>=a.H&&B>=a.H&&l>=a.H||(v.moveTo(e,z),v.lineTo(c,d),v.lineTo(r,B),v.lineTo(b,
l))),e+=I,z+=G;C+=F;z=A+=E;this.S&&(C-=E/2)}v.fill()}}};p.prototype.kf=function(a,c,d){var e=this.I/2,m=this.H/2;if(0!==this.rb){a-=e;c-=m;var n=Math.sqrt(a*a+c*c);c=180/Math.PI*Math.atan2(c,a);c+=this.rb;a=Math.round(n*Math.cos(Math.PI/180*c)+e);c=Math.round(n*Math.sin(Math.PI/180*c)+m)}d[0]=a;d[1]=c};p.prototype.lK=function(a){var c=a.Ng+.5|0,d=(this.width>>1)-(a.gb>>1)+(a.Nb<<1),e=(this.height>>1)-(a.jb>>1)+(a.Ob<<1);(a.tb||a.vk)&&this.Px(a,a.Cb,this.ZB);a.zd&&(-1!==this.ya&&a.mh?this.Vl(a,a.Ap.l-
a.gb,a.Ap.o-a.jb,ViewConstants.iq,this.hu):this.Vl(a,a.Ap.l,a.Ap.o,ViewConstants.iq,this.hu));if(a.ld){var m=a.j.ql;var n=a.j.rl;-1!==m&&(a.px(m,n),-1!==this.ya&&a.mh&&(d+=a.gb,e+=a.jb),this.Vl(a,a.qk-d,a.rk-e,c,this.HA))}};p.prototype.Px=function(a,c,d){var e=this.context,m=this.zoom,n=this.zoom*(this.R?ViewConstants.ne:1),q=c.l,u=c.o,y=c.v;c=c.A;var v=(this.width>>1)-(a.gb>>1),r=(this.height>>1)-(a.jb>>1),B=a.Uc-this.va,b=a.Tc-this.Aa-(this.S?this.va/2:0),l=[0,0],f=a.Cb;if(q>y){var t=q;q=y;y=t}u>
c&&(t=u,u=c,c=t);t=y-q+1;var x=c-u+1;-1!==this.ya&&a.mh&&(r+=a.jb,v+=a.gb);u=n*(u-r+B-this.Zb+a.Uc)+a.H/2;q=m*(q-v+b-this.bc+a.Tc)+a.I/2+(this.S?(a.H/2-u)/2:0);c=n*(c+1-r+B-this.Zb+a.Uc)+a.H/2;y=m*(y+1-v+b-this.bc+a.Tc)+a.I/2+(this.S?(a.H/2-c)/2:0);e.fillStyle=d;e.globalAlpha=.5;if(this.S)if(!this.sc&&4<=this.zoom)this.Rt(f.l,f.o,f.v,f.A,v,r);else{e.beginPath();t*=m;for(a=0;a<x;a+=1)e.moveTo(q,u),e.lineTo(q+t+1,u),e.lineTo(q+t+1,u+n+1),e.lineTo(q,u+n+1),q-=n/2,u+=n;e.fill()}else this.R&&!this.sc&&
4<=this.zoom?this.St(f.l,f.o,f.v,f.A,v,r):(e.beginPath(),this.kf(q,u,l),e.moveTo(l[0],l[1]),this.kf(y+1,u,l),e.lineTo(l[0],l[1]),this.kf(y+1,c+1,l),e.lineTo(l[0],l[1]),this.kf(q,c+1,l),e.lineTo(l[0],l[1]),e.fill());e.globalAlpha=1};p.prototype.Zd=function(){var a,c=this.I,d=this.H,e=this.hg,m=this.gg,n=this.na,q=this.na*(this.R?ViewConstants.ne:1),u=e,y,v=0<this.pf&&this.ll,r=this.counter&1,B=((this.height/2-(this.va+this.Zb))*q+d/2)%q,b=((this.width/2-(this.Aa+this.bc))*n+c/2)%n;if(this.ic)var l=
v?2:1;else l=1,v=!1,u=e=this.De[0];var f=e;for(this.la&&2===this.pf&&this.Pl||(r=0);l;){var t=-(c/2/n)-(this.width/2-this.Aa-this.bc)|0;var x=22*-n;var z=c+n+22*n;var A=B-22*q;var C=d+22*q;var I=-c/1.5;var G=c+c/1.5;var F=-d/1.5;for(y=d+d/1.5;x<=z;x+=n)if(v&&(0===(t+r)%this.pf?u=m:u=e),t+=1,u===f)if(this.S){var E=-(d/2/q)-(this.height/2-this.va-this.Zb)|0;for(a=A;a<C;a+=q)0===(E&1)?this.fk(Math.round(x+b),Math.round(a),Math.round(x+b),Math.round(a+q-1),u):this.fk(Math.round(x+b+n/2),Math.round(a),
Math.round(x+b+n/2),Math.round(a+q-1),u),E+=1}else this.fk(Math.round(x+b),F,Math.round(x+b),y-1,u);t=-(d/2/q)-(this.height/2-this.va-this.Zb)|0;for(a=A;a<C;a+=q)v&&(0===(t+r)%this.pf?u=m:u=e),t+=1,u===f&&this.fk(I,Math.round(a),G-1,Math.round(a),u);--l;f=m}};p.prototype.Hh=function(){return 4<=this.na};p.prototype.jz=function(a,c){var d=this.Ca,e=this.xa,m=this.la?-1:0,n=Math.round((this.width-d)/2-1)+m,q=n+d+1,u=Math.round((this.height-e)/2-1)+m;m=u+e+1;var y=a[u],v=a[m];if(0===d)y.fill(c,0,this.width),
v.fill(c,0,this.width);else if(0===e)for(d=0;d<this.height;d+=1)a[d][n]=c,a[d][q]=c;else for(y.fill(c,n,q+1),v.fill(c,n,q+1),d=u+1;d<=m-1;d+=1)a[d][n]=c,a[d][q]=c};p.prototype.bN=function(a,c){var d=this.De[0],e=this.fe,m=this.ca,n=this.tk,q=this.de;this.ek=!0;(this.N||this.ga||this.T)&&0!==(this.counter&1)&&(m=this.Ma,n=this.Ah,q=this.wa);this.Gn&&(this.eE(),--this.Gn,this.Gn||(this.cf.set(this.Yd),this.Xc.set(this.oc),this.lf.set(this.Ke),this.uh.set(this.dg),this.hf.set(this.se),this.mi.set(this.Qg)));
this.na=this.zoom*this.xc;this.na<ViewConstants.za?this.na=ViewConstants.za:this.na>ViewConstants.$a&&(this.na=ViewConstants.$a);this.ve=this.Aa+this.bc;this.we=this.va+this.Zb;this.B=this.ze/2+1;this.rb=this.S||this.R?0:this.angle;-1!==this.ya&&this.jz(m,this.Pb);4<=this.na&&(!this.sc&&this.S||!this.sc&&this.R)?(e.fill(d),this.Kd(1)):(1>this.na&&this.Ox(n,q),.125>this.na?this.Cg?this.$i(this.me,this.Fc,15,a,c):this.aj(this.Fc,this.Fc,15,a,c):.25>this.na?this.Cg?this.$i(this.me,this.Fc,7,a,c):this.aj(this.Fc,
this.Fc,7,a,c):.5>this.na?this.Cg?this.$i(this.me,this.Fc,3,a,c):this.aj(this.Fc,this.Fc,3,a,c):1>this.na?this.Cg?this.$i(this.me,this.Fc,1,a,c):this.aj(this.Fc,this.Fc,1,a,c):this.Cg?this.$i(this.cc,m,0,a,c):this.aj(m,m,0,a,c))};p.prototype.gI=function(a,c,d,e){var m=this.I>>3,n=this.De,q=this.fe,u,y,v=1,r=1,B=0,b=this.Fb&~d,l=this.Kb&~d,f=~d,t=~d,x=a,z=this.na;1<this.B&&(v=this.W);a=Math.sin(this.rb/180*Math.PI)/this.na;var A=Math.cos(this.rb/180*Math.PI)/this.na;var C=-(this.I/2*-a+this.H/2*A)+
this.we;var I=-(this.I/2*A+this.H/2*a)+this.ve;1<this.W&&1<this.B&&(B=.4/(this.W-1),r=.6);this.Kd(r);var G=this.width<this.ma?n[0]|0:this.Sl|0;var F=0;var E=C;for(u=0;u<this.H;u+=1){var D=I;for(y=0;y<m;y+=1){if(0<=D&&(D&f)===(D&b)&&0<E&&(E&t)===(E&l)){var H=x[E&l][D&b]|0;q[F]=n[H]}else q[F]=G;F+=1;D+=A;E-=a;0<=D&&(D&f)===(D&b)&&0<E&&(E&t)===(E&l)?(H=x[E&l][D&b]|0,q[F]=n[H]):q[F]=G;F+=1;D+=A;E-=a;0<=D&&(D&f)===(D&b)&&0<E&&(E&t)===(E&l)?(H=x[E&l][D&b]|0,q[F]=n[H]):q[F]=G;F+=1;D+=A;E-=a;0<=D&&(D&f)===
(D&b)&&0<E&&(E&t)===(E&l)?(H=x[E&l][D&b]|0,q[F]=n[H]):q[F]=G;F+=1;D+=A;E-=a;0<=D&&(D&f)===(D&b)&&0<E&&(E&t)===(E&l)?(H=x[E&l][D&b]|0,q[F]=n[H]):q[F]=G;F+=1;D+=A;E-=a;0<=D&&(D&f)===(D&b)&&0<E&&(E&t)===(E&l)?(H=x[E&l][D&b]|0,q[F]=n[H]):q[F]=G;F+=1;D+=A;E-=a;0<=D&&(D&f)===(D&b)&&0<E&&(E&t)===(E&l)?(H=x[E&l][D&b]|0,q[F]=n[H]):q[F]=G;F+=1;D+=A;E-=a;0<=D&&(D&f)===(D&b)&&0<E&&(E&t)===(E&l)?(H=x[E&l][D&b]|0,q[F]=n[H]):q[F]=G;F+=1;D+=A;E-=a}I+=a;E=C+=A}e&&this.qe();(this.ic||this.td)&&this.Hh()&&this.Zd();
x=c;for(c=1;c<v;c+=1)for(e=2<this.i?this.T?1:0===this.O?this.i/this.W*c|0:c<v/2?this.O/this.W*c*2|0:this.O+this.i/this.W*c|0:this.Qd?1:(this.ff+1)/this.W*c|0,r+=B,this.Kd(r),a/=this.B,A/=this.B,z*=this.B,b=d,d=.125>z?15:.25>z?7:.5>z?3:1>z?1:0,d!==b&&(x=this.ca),b=this.Fb&~d,l=this.Kb&~d,f=~d,t=~d,C=-(this.I/2*-a+this.H/2*A)+this.we,I=-(this.I/2*A+this.H/2*a)+this.ve,F=0,E=C,u=0;u<this.H;u+=1){D=I;for(y=0;y<m;y+=1)0<=D&&(D&f)===(D&b)&&0<E&&(E&t)===(E&l)&&(H=x[E&l][D&b]|0,H>=e&&(q[F]=n[H])),F+=1,D+=
A,E-=a,0<=D&&(D&f)===(D&b)&&0<E&&(E&t)===(E&l)&&(H=x[E&l][D&b]|0,H>=e&&(q[F]=n[H])),F+=1,D+=A,E-=a,0<=D&&(D&f)===(D&b)&&0<E&&(E&t)===(E&l)&&(H=x[E&l][D&b]|0,H>=e&&(q[F]=n[H])),F+=1,D+=A,E-=a,0<=D&&(D&f)===(D&b)&&0<E&&(E&t)===(E&l)&&(H=x[E&l][D&b]|0,H>=e&&(q[F]=n[H])),F+=1,D+=A,E-=a,0<=D&&(D&f)===(D&b)&&0<E&&(E&t)===(E&l)&&(H=x[E&l][D&b]|0,H>=e&&(q[F]=n[H])),F+=1,D+=A,E-=a,0<=D&&(D&f)===(D&b)&&0<E&&(E&t)===(E&l)&&(H=x[E&l][D&b]|0,H>=e&&(q[F]=n[H])),F+=1,D+=A,E-=a,0<=D&&(D&f)===(D&b)&&0<E&&(E&t)===
(E&l)&&(H=x[E&l][D&b]|0,H>=e&&(q[F]=n[H])),F+=1,D+=A,E-=a,0<=D&&(D&f)===(D&b)&&0<E&&(E&t)===(E&l)&&(H=x[E&l][D&b]|0,H>=e&&(q[F]=n[H])),F+=1,D+=A,E-=a;I+=a;E=C+=A}};p.prototype.hI=function(a,c,d,e){var m=this.I>>3,n=this.De,q=this.fe,u,y,v=1,r=1,B=0,b=this.Fb&~d,l=this.Kb&~d,f=~d,t=~d,x=a,z=this.na;1<this.B&&(v=this.W);a=1/this.na;this.R&&(a/=ViewConstants.ne);var A=1/this.na;var C=-(this.H/2*a)+this.we;var I=-(this.I/2*A)+this.ve;1<this.W&&1<this.B&&(B=.4/(this.W-1),r=.6);this.Kd(r);var G=this.width<
this.ma?n[0]|0:this.Sl|0;var F=0;var E=C;for(u=0;u<this.H;u+=1){if(0<=E&&(E&t)===(E&l)){var D=x[E&l];var H=I;this.S&&(H+=.5*(E|0));for(y=0;y<m;y+=1){if(0<=H&&(H&f)===(H&b)){var N=D[H&b]|0;q[F]=n[N]}else q[F]=G;F+=1;H+=A;0<=H&&(H&f)===(H&b)?(N=D[H&b]|0,q[F]=n[N]):q[F]=G;F+=1;H+=A;0<=H&&(H&f)===(H&b)?(N=D[H&b]|0,q[F]=n[N]):q[F]=G;F+=1;H+=A;0<=H&&(H&f)===(H&b)?(N=D[H&b]|0,q[F]=n[N]):q[F]=G;F+=1;H+=A;0<=H&&(H&f)===(H&b)?(N=D[H&b]|0,q[F]=n[N]):q[F]=G;F+=1;H+=A;0<=H&&(H&f)===(H&b)?(N=D[H&b]|0,q[F]=n[N]):
q[F]=G;F+=1;H+=A;0<=H&&(H&f)===(H&b)?(N=D[H&b]|0,q[F]=n[N]):q[F]=G;F+=1;H+=A;0<=H&&(H&f)===(H&b)?(N=D[H&b]|0,q[F]=n[N]):q[F]=G;F+=1;H+=A}}else q.fill(G,F,F+this.I+1),F+=this.I;E=C+=a}e&&this.qe();(this.ic||this.td)&&this.Hh()&&this.Zd();x=c;for(c=1;c<v;c+=1)for(e=2<this.i?this.T?1:0===this.O?this.i/this.W*c|0:c<v/2?this.O/this.W*c*2|0:this.O+this.i/this.W*c|0:this.Qd?1:(this.ff+1)/this.W*c|0,r+=B,this.Kd(r),a/=this.B,A/=this.B,z*=this.B,b=d,d=.125>z?15:.25>z?7:.5>z?3:1>z?1:0,d!==b&&(x=this.ca),b=
this.Fb&~d,l=this.Kb&~d,f=~d,t=~d,C=-(this.H/2*a)+this.we,I=-(this.I/2*A)+this.ve,F=0,E=C,u=0;u<this.H;u+=1){if(0<=E&&(E&t)===(E&l))for(D=x[E&l],H=I,this.S&&(H+=.5*(E|0)),y=0;y<m;y+=1)0<=H&&(H&f)===(H&b)&&(N=D[H&b]|0,N>=e&&(q[F]=n[N])),F+=1,H+=A,0<=H&&(H&f)===(H&b)&&(N=x[E&l][H&b]|0,N>=e&&(q[F]=n[N])),F+=1,H+=A,0<=H&&(H&f)===(H&b)&&(N=x[E&l][H&b]|0,N>=e&&(q[F]=n[N])),F+=1,H+=A,0<=H&&(H&f)===(H&b)&&(N=x[E&l][H&b]|0,N>=e&&(q[F]=n[N])),F+=1,H+=A,0<=H&&(H&f)===(H&b)&&(N=x[E&l][H&b]|0,N>=e&&(q[F]=n[N])),
F+=1,H+=A,0<=H&&(H&f)===(H&b)&&(N=x[E&l][H&b]|0,N>=e&&(q[F]=n[N])),F+=1,H+=A,0<=H&&(H&f)===(H&b)&&(N=x[E&l][H&b]|0,N>=e&&(q[F]=n[N])),F+=1,H+=A,0<=H&&(H&f)===(H&b)&&(N=x[E&l][H&b]|0,N>=e&&(q[F]=n[N])),F+=1,H+=A;else F+=m<<3;E=C+=a}};p.prototype.iI=function(a,c,d,e){var m=this.I>>3,n=this.De,q=this.fe,u,y,v=1,r=1,B=0,b=this.Fb&~d,l=this.Kb&~d,f=a,t=this.na;1<this.B&&(v=this.W);a=Math.sin(this.rb/180*Math.PI)/this.na;var x=Math.cos(this.rb/180*Math.PI)/this.na;var z=-(this.I/2*-a+this.H/2*x)+this.we;
var A=-(this.I/2*x+this.H/2*a)+this.ve;1<this.W&&1<this.B&&(B=.4/(this.W-1),r=.6);this.Kd(r);var C=0;var I=z;for(u=0;u<this.H;u+=1){var G=A;for(y=0;y<m;y+=1){var F=f[I&l][G&b]|0;q[C]=n[F];C+=1;G+=x;I-=a;F=f[I&l][G&b]|0;q[C]=n[F];C+=1;G+=x;I-=a;F=f[I&l][G&b]|0;q[C]=n[F];C+=1;G+=x;I-=a;F=f[I&l][G&b]|0;q[C]=n[F];C+=1;G+=x;I-=a;F=f[I&l][G&b]|0;q[C]=n[F];C+=1;G+=x;I-=a;F=f[I&l][G&b]|0;q[C]=n[F];C+=1;G+=x;I-=a;F=f[I&l][G&b]|0;q[C]=n[F];C+=1;G+=x;I-=a;F=f[I&l][G&b]|0;q[C]=n[F];C+=1;G+=x;I-=a}A+=a;I=z+=x}e&&
this.qe();(this.ic||this.td)&&this.Hh()&&this.Zd();f=c;for(c=1;c<v;c+=1)for(e=2<this.i?this.T?1:0===this.O?this.i/this.W*c|0:c<v/2?this.O/this.W*c*2|0:this.O+this.i/this.W*c|0:this.Qd?1:(this.ff+1)/this.W*c|0,r+=B,this.Kd(r),a/=this.B,x/=this.B,t*=this.B,b=d,.125>t?d=15:.25>t?d=7:.5>t?d=3:1>t?d=1:(f=this.ca,d=0),d!==b&&(f=this.ca),b=this.Fb&~d,l=this.Kb&~d,z=-(this.I/2*-a+this.H/2*x)+this.we,A=-(this.I/2*x+this.H/2*a)+this.ve,C=0,I=z,u=0;u<this.H;u+=1){G=A;for(y=0;y<m;y+=1)F=f[I&l][G&b]|0,F>=e&&(q[C]=
n[F]),C+=1,G+=x,I-=a,F=f[I&l][G&b]|0,F>=e&&(q[C]=n[F]),C+=1,G+=x,I-=a,F=f[I&l][G&b]|0,F>=e&&(q[C]=n[F]),C+=1,G+=x,I-=a,F=f[I&l][G&b]|0,F>=e&&(q[C]=n[F]),C+=1,G+=x,I-=a,F=f[I&l][G&b]|0,F>=e&&(q[C]=n[F]),C+=1,G+=x,I-=a,F=f[I&l][G&b]|0,F>=e&&(q[C]=n[F]),C+=1,G+=x,I-=a,F=f[I&l][G&b]|0,F>=e&&(q[C]=n[F]),C+=1,G+=x,I-=a,F=f[I&l][G&b]|0,F>=e&&(q[C]=n[F]),C+=1,G+=x,I-=a;A+=a;I=z+=x}};p.prototype.jI=function(a,c,d,e){var m=this.I>>3,n=this.De,q=this.fe,u,y=1,v=1,r=0,B=this.Fb&~d,b=this.Kb&~d,l=a,f=this.na;
1<this.B&&(y=this.W);a=1/this.na;this.R&&(a/=ViewConstants.ne);var t=1/this.na;var x=-(this.H/2*a)+this.we;var z=-(this.I/2*t)+this.ve;1<this.W&&1<this.B&&(r=.4/(this.W-1),v=.6);this.Kd(v);var A=0;var C=x;for(u=0;u<this.H;u+=1){var I=l[C&b];var G=z;this.S&&(G+=.5*(C|0));for(C=0;C<m;C+=1){var F=I[G&B];q[A]=n[F];A+=1;G+=t;F=I[G&B];q[A]=n[F];A+=1;G+=t;F=I[G&B];q[A]=n[F];A+=1;G+=t;F=I[G&B];q[A]=n[F];A+=1;G+=t;F=I[G&B];q[A]=n[F];A+=1;G+=t;F=I[G&B];q[A]=n[F];A+=1;G+=t;F=I[G&B];q[A]=n[F];A+=1;G+=t;F=I[G&
B];q[A]=n[F];A+=1;G+=t}C=x+=a}e&&this.qe();(this.ic||this.td)&&this.Hh()&&this.Zd();l=c;for(c=1;c<y;c+=1)for(e=2<this.i?this.T?1:0===this.O?this.i/this.W*c|0:c<y/2?this.O/this.W*c*2|0:this.O+this.i/this.W*c|0:this.Qd?1:(this.ff+1)/this.W*c|0,v+=r,this.Kd(v),a/=this.B,t/=this.B,f*=this.B,B=d,d=.125>f?15:.25>f?7:.5>f?3:1>f?1:0,d!==B&&(l=this.ca),B=this.Fb&~d,b=this.Kb&~d,x=-(this.H/2*a)+this.we,z=-(this.I/2*t)+this.ve,A=0,C=x,u=0;u<this.H;u+=1){I=l[C&b];G=z;this.S&&(G+=.5*(C|0));for(C=0;C<m;C+=1)F=
I[G&B]|0,F>=e&&(q[A]=n[F]),A+=1,G+=t,F=I[G&B]|0,F>=e&&(q[A]=n[F]),A+=1,G+=t,F=I[G&B]|0,F>=e&&(q[A]=n[F]),A+=1,G+=t,F=I[G&B]|0,F>=e&&(q[A]=n[F]),A+=1,G+=t,F=I[G&B]|0,F>=e&&(q[A]=n[F]),A+=1,G+=t,F=I[G&B]|0,F>=e&&(q[A]=n[F]),A+=1,G+=t,F=I[G&B]|0,F>=e&&(q[A]=n[F]),A+=1,G+=t,F=I[G&B]|0,F>=e&&(q[A]=n[F]),A+=1,G+=t;C=x+=a}};p.prototype.aj=function(a,c,d,e,m){var n=Math.sin(this.rb/180*Math.PI)/this.na,q=Math.cos(this.rb/180*Math.PI)/this.na,u=this.R?ViewConstants.ne:1,y=this.I,v=this.H,r=-(this.I/2*-n+this.H/
2*q/u)+this.we,B=-(this.I/2*q+this.H/2*n)+this.ve,b=r+y*-n,l=B+y*q;u=r+v*q/u;v=B+v*n;n=u+y*-n;q=v+y*q;y=u;var f=v;q<f&&(f=q);B<f&&(f=B);l<f&&(f=B);q>v&&(v=q);B>v&&(v=B);l>v&&(v=l);n>y&&(y=n);r>y&&(y=r);b>y&&(y=b);n<u&&(u=n);r<u&&(u=r);b<u&&(u=b);0>(f|0)||(v|0)>=this.width||0>(u|0)||(y|0)>=this.height?0===this.rb?this.nh&&!this.S&&1<=this.na&&1===this.W&&(this.na|0)!==this.na?(this.Kd(1),this.width!==this.ma?this.Dt(a,f,u,v,y,this.De[0],e,m):this.Dt(a,f,u,v,y,this.Sl,e,m)):this.hI(a,c,d,e):this.gI(a,
c,d,e):0===this.rb?this.nh&&!this.S&&1<=this.na&&1===this.W&&(this.na|0)!==this.na?(this.Kd(1),this.Dt(a,f,u,v,y,this.De[0],e,m)):this.jI(a,c,d,e):this.iI(a,c,d,e)};p.prototype.Dt=function(a,c,d,e,m,n,q,u){var y=this.De,v=this.ik,r=this.bj,B=this.cj,b=(this.na|0)<<1,l=this.rd.width,f=l*b,t=e-c,x=m-d,z=this.na*(this.R?ViewConstants.ne:1),A=-(c-Math.floor(c))*this.na,C=-(d-Math.floor(d))*z,I=this.width-1,G=this.height-1,F,E=0,D,H=b>>1,N;d|=0;c|=0;t=(t|0)+2;x=(x|0)+2;e=c+t;m=d+x;switch(H){case 1:var K=
f;for(N=t<<1;d<m;d+=1){if((d&G)!==d)v.fill(n,E,E+N),E+=l,v.fill(n,E,E+N);else{var P=a[d];var J=E;for(F=c;F<e;F+=1){var S=(F&I)!==F?n:y[P[F]];v[E]=S;v[E+1]=S;E+=2}E=J+l;v.copyWithin(E,J,J+N)}E=K;K+=f}break;case 2:K=f;for(N=t<<2;d<m;d+=1){if((d&G)!==d)v.fill(n,E,E+N),E+=l,v.fill(n,E,E+N),E+=l,v.fill(n,E,E+N),E+=l,v.fill(n,E,E+N);else{P=a[d];J=E;for(F=c;F<e;F+=1)S=(F&I)!==F?n:y[P[F]],v[E]=S,v[E+1]=S,v[E+2]=S,v[E+3]=S,E+=4;E=J+l;v.copyWithin(E,J,J+N);E+=l;J+=l;v.copyWithin(E,J,J+N);E+=l;J+=l;v.copyWithin(E,
J,J+N)}E=K;K+=f}break;default:for(K=f,N=t*b;d<m;d+=1){if((d&G)!==d)for(P=0;P<H;P+=1)v.fill(n,E,E+N),E+=l,v.fill(n,E,E+N),E+=l;else{P=a[d];J=E;for(F=c;F<e;F+=1)for(S=(F&I)!==F?n:y[P[F]],D=0;D<H;D+=1)v[E]=S,v[E+1]=S,E+=2;E=J+l;for(P=1;P<b;P+=1)v.copyWithin(E,J,J+N),J+=l,E+=l}E=K;K+=f}}r.putImageData(B,0,0,0,0,t*b,x*b);this.context.imageSmoothingEnabled=!0;this.context.drawImage(this.rd,0,0,t*b,x*b,A,C,t*this.na,x*z);this.context.imageSmoothingEnabled=!1;q||u||(this.ic||this.td)&&this.Hh()?(this.pd=
this.context.getImageData(0,0,this.context.canvas.width,this.context.canvas.height),this.fe=new Uint32Array(this.pd.data.buffer),q&&this.qe(),(this.ic||this.td)&&this.Hh()&&this.Zd()):this.ek=!1};p.prototype.Bt=function(a,c,d,e,m,n,q,u,y){var v=this.De,r=this.ik,B=this.bj,b=this.cj,l=(this.na|0)<<1,f=this.rd.width,t=f*l,x=m-d,z=n-e,A=-(d-Math.floor(d))*this.na,C=-(e-Math.floor(e))*this.na,I=this.width-1,G=this.height-1,F,E=0,D=this.Hb,H=l>>1,N=ViewConstants.Za[3]+128,K=ViewConstants.Za[4]+128,P=ViewConstants.Za[5]+
128,J=ViewConstants.Za[6]+128,S;e|=0;d|=0;x=(x|0)+2;z=(z|0)+2;m=d+x;n=e+z;switch(H){case 1:var X=t;for(S=x<<1;e<n;e+=1){if((e&G)!==e)r.fill(q,E,E+S),E+=f,r.fill(q,E,E+S);else{var U=c[e];var L=a[e];var ja=E;for(F=d;F<m;F+=1){if((F&I)!==F)var W=q;else{W=U[F];var ma=L[F];ma===K||ma===J?(W>=D&&(ma=N),W=v[ma]):ma===N||ma===P?(W<D&&(ma=K),W=v[ma]):W=v[W]}r[E]=W;r[E+1]=W;E+=2}E=ja+f;r.copyWithin(E,ja,ja+S)}E=X;X+=t}break;case 2:X=t;for(S=x<<2;e<n;e+=1){if((e&G)!==e)r.fill(q,E,E+S),E+=f,r.fill(q,E,E+S),E+=
f,r.fill(q,E,E+S),E+=f,r.fill(q,E,E+S);else{U=c[e];L=a[e];ja=E;for(F=d;F<m;F+=1)(F&I)!==F?W=q:(W=U[F],ma=L[F],ma===K||ma===J?(W>=D&&(ma=N),W=v[ma]):ma===N||ma===P?(W<D&&(ma=K),W=v[ma]):W=v[W]),r[E]=W,r[E+1]=W,r[E+2]=W,r[E+3]=W,E+=4;E=ja+f;r.copyWithin(E,ja,ja+S);E+=f;ja+=f;r.copyWithin(E,ja,ja+S);E+=f;ja+=f;r.copyWithin(E,ja,ja+S)}E=X;X+=t}break;default:for(X=t,S=x*l;e<n;e+=1){if((e&G)!==e)for(U=0;U<H;U+=1)r.fill(q,E,E+S),E+=f,r.fill(q,E,E+S),E+=f;else{U=c[e];L=a[e];ja=E;for(F=d;F<m;F+=1)for((F&I)!==
F?W=q:(W=U[F],ma=L[F],ma===K||ma===J?(W>=D&&(ma=N),W=v[ma]):ma===N||ma===P?(W<D&&(ma=K),W=v[ma]):W=v[W]),ma=0;ma<H;ma+=1)r[E]=W,r[E+1]=W,E+=2;E=ja+f;for(U=1;U<l;U+=1)r.copyWithin(E,ja,ja+S),ja+=f,E+=f}E=X;X+=t}}B.putImageData(b,0,0,0,0,x*l,z*l);this.context.imageSmoothingEnabled=!0;this.context.drawImage(this.rd,0,0,x*l,z*l,A,C,x*this.na,z*this.na);this.context.imageSmoothingEnabled=!1;u||y||(this.ic||this.td)&&this.Hh()?(this.pd=this.context.getImageData(0,0,this.context.canvas.width,this.context.canvas.height),
this.fe=new Uint32Array(this.pd.data.buffer),u&&this.qe(),(this.ic||this.td)&&this.Hh()&&this.Zd()):this.ek=!1};p.prototype.bI=function(a,c,d,e){var m=this.I>>3,n=this.De,q=this.fe,u,y,v=ViewConstants.Za[3]+128,r=ViewConstants.Za[4]+128,B=ViewConstants.Za[5]+128,b=ViewConstants.Za[6]+128,l=1,f=1,t=0,x=this.Hb,z=this.Fb&~d,A=this.Kb&~d,C=~d,I=~d,G=c,F=this.na;1<this.B&&(l=this.W);var E=Math.sin(this.rb/180*Math.PI)/this.na;var D=Math.cos(this.rb/180*Math.PI)/this.na;var H=-(this.I/2*-E+this.H/2*D)+
this.we;var N=-(this.I/2*D+this.H/2*E)+this.ve;1<this.W&&1<this.B&&(t=.4/(this.W-1),f=.6);this.Kd(f);var K=this.width<this.ma?n[0]|0:this.Sl|0;var P=0;var J=H;for(u=0;u<this.H;u+=1){var S=N;for(y=0;y<m;y+=1){if(0<=S&&(S&C)===(S&z)&&0<=J&&(J&I)===(J&A)){var X=G[J&A][S&z];var U=a[J&A][S&z];U===r||U===b?(X>=x&&(U=v),X=n[U]|0):U===v||U===B?(X<x&&(U=r),X=n[U]|0):X=n[X]|0;q[P]=X}else q[P]=K;P+=1;S+=D;J-=E;0<=S&&(S&C)===(S&z)&&0<=J&&(J&I)===(J&A)?(X=G[J&A][S&z],U=a[J&A][S&z],U===r||U===b?(X>=x&&(U=v),X=
n[U]|0):U===v||U===B?(X<x&&(U=r),X=n[U]|0):X=n[X]|0,q[P]=X):q[P]=K;P+=1;S+=D;J-=E;0<=S&&(S&C)===(S&z)&&0<=J&&(J&I)===(J&A)?(X=G[J&A][S&z],U=a[J&A][S&z],U===r||U===b?(X>=x&&(U=v),X=n[U]|0):U===v||U===B?(X<x&&(U=r),X=n[U]|0):X=n[X]|0,q[P]=X):q[P]=K;P+=1;S+=D;J-=E;0<=S&&(S&C)===(S&z)&&0<=J&&(J&I)===(J&A)?(X=G[J&A][S&z],U=a[J&A][S&z],U===r||U===b?(X>=x&&(U=v),X=n[U]|0):U===v||U===B?(X<x&&(U=r),X=n[U]|0):X=n[X]|0,q[P]=X):q[P]=K;P+=1;S+=D;J-=E;0<=S&&(S&C)===(S&z)&&0<=J&&(J&I)===(J&A)?(X=G[J&A][S&z],U=a[J&
A][S&z],U===r||U===b?(X>=x&&(U=v),X=n[U]|0):U===v||U===B?(X<x&&(U=r),X=n[U]|0):X=n[X]|0,q[P]=X):q[P]=K;P+=1;S+=D;J-=E;0<=S&&(S&C)===(S&z)&&0<=J&&(J&I)===(J&A)?(X=G[J&A][S&z],U=a[J&A][S&z],U===r||U===b?(X>=x&&(U=v),X=n[U]|0):U===v||U===B?(X<x&&(U=r),X=n[U]|0):X=n[X]|0,q[P]=X):q[P]=K;P+=1;S+=D;J-=E;0<=S&&(S&C)===(S&z)&&0<=J&&(J&I)===(J&A)?(X=G[J&A][S&z],U=a[J&A][S&z],U===r||U===b?(X>=x&&(U=v),X=n[U]|0):U===v||U===B?(X<x&&(U=r),X=n[U]|0):X=n[X]|0,q[P]=X):q[P]=K;P+=1;S+=D;J-=E;0<=S&&(S&C)===(S&z)&&0<=
J&&(J&I)===(J&A)?(X=G[J&A][S&z],U=a[J&A][S&z],U===r||U===b?(X>=x&&(U=v),X=n[U]|0):U===v||U===B?(X<x&&(U=r),X=n[U]|0):X=n[X]|0,q[P]=X):q[P]=K;P+=1;S+=D;J-=E}N+=E;J=H+=D}e&&this.qe();(this.ic||this.td)&&this.Hh()&&this.Zd();G=c;for(a=1;a<l;a+=1)for(c=2<this.i?0===this.O?this.i/this.W*a|0:a<l/2?this.O/this.W*a*2|0:this.O+this.i/this.W*a|0:this.Qd?1:(this.ff+1)/this.W*a|0,f+=t,this.Kd(f),E/=this.B,D/=this.B,F*=this.B,u=d,.125>F?d=15:.25>F?d=7:.5>F?d=3:1>F?d=1:(G=this.ca,d=0),d!==u&&(G=this.ca),z=this.Fb&
~d,A=this.Kb&~d,C=~d,I=~d,H=-(this.I/2*-E+this.H/2*D)+this.we,N=-(this.I/2*D+this.H/2*E)+this.ve,P=0,J=H,u=0;u<this.H;u+=1){S=N;for(y=0;y<m;y+=1)0<=S&&(S&C)===(S&z)&&0<=J&&(J&I)===(J&A)&&(X=G[J&A][S&z]|0,X>=c&&(q[P]=n[X])),P+=1,S+=D,J-=E,0<=S&&(S&C)===(S&z)&&0<=J&&(J&I)===(J&A)&&(X=G[J&A][S&z]|0,X>=c&&(q[P]=n[X])),P+=1,S+=D,J-=E,0<=S&&(S&C)===(S&z)&&0<=J&&(J&I)===(J&A)&&(X=G[J&A][S&z]|0,X>=c&&(q[P]=n[X])),P+=1,S+=D,J-=E,0<=S&&(S&C)===(S&z)&&0<=J&&(J&I)===(J&A)&&(X=G[J&A][S&z]|0,X>=c&&(q[P]=n[X])),
P+=1,S+=D,J-=E,0<=S&&(S&C)===(S&z)&&0<=J&&(J&I)===(J&A)&&(X=G[J&A][S&z]|0,X>=c&&(q[P]=n[X])),P+=1,S+=D,J-=E,0<=S&&(S&C)===(S&z)&&0<=J&&(J&I)===(J&A)&&(X=G[J&A][S&z]|0,X>=c&&(q[P]=n[X])),P+=1,S+=D,J-=E,0<=S&&(S&C)===(S&z)&&0<=J&&(J&I)===(J&A)&&(X=G[J&A][S&z]|0,X>=c&&(q[P]=n[X])),P+=1,S+=D,J-=E,0<=S&&(S&C)===(S&z)&&0<=J&&(J&I)===(J&A)&&(X=G[J&A][S&z]|0,X>=c&&(q[P]=n[X])),P+=1,S+=D,J-=E;N+=E;J=H+=D}};p.prototype.dI=function(a,c,d,e){var m=this.I>>3,n=this.De,q=this.fe,u,y,v=ViewConstants.Za[3]+128,r=
ViewConstants.Za[4]+128,B=ViewConstants.Za[5]+128,b=ViewConstants.Za[6]+128,l=1,f=1,t=0,x=this.Hb,z=this.Fb&~d,A=this.Kb&~d,C=c,I=this.na;1<this.B&&(l=this.W);var G=Math.sin(this.rb/180*Math.PI)/this.na;var F=Math.cos(this.rb/180*Math.PI)/this.na;var E=-(this.I/2*-G+this.H/2*F)+this.we;var D=-(this.I/2*F+this.H/2*G)+this.ve;1<this.W&&1<this.B&&(t=.4/(this.W-1),f=.6);this.Kd(f);var H=0;var N=E;for(u=0;u<this.H;u+=1){var K=D;for(y=0;y<m;y+=1){var P=C[N&A][K&z];var J=a[N&A][K&z];J===r||J===b?(P>=x&&
(J=v),P=n[J]|0):J===v||J===B?(P<x&&(J=r),P=n[J]|0):P=n[P]|0;q[H]=P;H+=1;K+=F;N-=G;P=C[N&A][K&z];J=a[N&A][K&z];J===r||J===b?(P>=x&&(J=v),P=n[J]|0):J===v||J===B?(P<x&&(J=r),P=n[J]|0):P=n[P]|0;q[H]=P;H+=1;K+=F;N-=G;P=C[N&A][K&z];J=a[N&A][K&z];J===r||J===b?(P>=x&&(J=v),P=n[J]|0):J===v||J===B?(P<x&&(J=r),P=n[J]|0):P=n[P]|0;q[H]=P;H+=1;K+=F;N-=G;P=C[N&A][K&z];J=a[N&A][K&z];J===r||J===b?(P>=x&&(J=v),P=n[J]|0):J===v||J===B?(P<x&&(J=r),P=n[J]|0):P=n[P]|0;q[H]=P;H+=1;K+=F;N-=G;P=C[N&A][K&z];J=a[N&A][K&z];J===
r||J===b?(P>=x&&(J=v),P=n[J]|0):J===v||J===B?(P<x&&(J=r),P=n[J]|0):P=n[P]|0;q[H]=P;H+=1;K+=F;N-=G;P=C[N&A][K&z];J=a[N&A][K&z];J===r||J===b?(P>=x&&(J=v),P=n[J]|0):J===v||J===B?(P<x&&(J=r),P=n[J]|0):P=n[P]|0;q[H]=P;H+=1;K+=F;N-=G;P=C[N&A][K&z];J=a[N&A][K&z];J===r||J===b?(P>=x&&(J=v),P=n[J]|0):J===v||J===B?(P<x&&(J=r),P=n[J]|0):P=n[P]|0;q[H]=P;H+=1;K+=F;N-=G;P=C[N&A][K&z];J=a[N&A][K&z];J===r||J===b?(P>=x&&(J=v),P=n[J]|0):J===v||J===B?(P<x&&(J=r),P=n[J]|0):P=n[P]|0;q[H]=P;H+=1;K+=F;N-=G}D+=G;N=E+=F}e&&
this.qe();(this.ic||this.td)&&this.Hh()&&this.Zd();C=c;for(a=1;a<l;a+=1)for(c=2<this.i?0===this.O?this.i/this.W*a|0:a<l/2?this.O/this.W*a*2|0:this.O+this.i/this.W*a|0:this.Qd?1:(this.ff+1)/this.W*a|0,f+=t,this.Kd(f),G/=this.B,F/=this.B,I*=this.B,u=d,.125>I?d=15:.25>I?d=7:.5>I?d=3:1>I?d=1:(C=this.ca,d=0),d!==u&&(C=this.ca),z=this.Fb&~d,A=this.Kb&~d,E=-(this.I/2*-G+this.H/2*F)+this.we,D=-(this.I/2*F+this.H/2*G)+this.ve,H=0,N=E,u=0;u<this.H;u+=1){K=D;for(y=0;y<m;y+=1)P=C[N&A][K&z]|0,P>=c&&(q[H]=n[P]),
H+=1,K+=F,N-=G,P=C[N&A][K&z]|0,P>=c&&(q[H]=n[P]),H+=1,K+=F,N-=G,P=C[N&A][K&z]|0,P>=c&&(q[H]=n[P]),H+=1,K+=F,N-=G,P=C[N&A][K&z]|0,P>=c&&(q[H]=n[P]),H+=1,K+=F,N-=G,P=C[N&A][K&z]|0,P>=c&&(q[H]=n[P]),H+=1,K+=F,N-=G,P=C[N&A][K&z]|0,P>=c&&(q[H]=n[P]),H+=1,K+=F,N-=G,P=C[N&A][K&z]|0,P>=c&&(q[H]=n[P]),H+=1,K+=F,N-=G,P=C[N&A][K&z]|0,P>=c&&(q[H]=n[P]),H+=1,K+=F,N-=G;D+=G;N=E+=F}};p.prototype.fI=function(a,c,d,e){var m=this.I>>3,n=this.De,q=this.fe,u,y=ViewConstants.Za[3]+128,v=ViewConstants.Za[4]+128,r=ViewConstants.Za[5]+
128,B=ViewConstants.Za[6]+128,b=1,l=1,f=0,t=this.Hb,x=this.Fb&~d,z=this.Kb&~d,A=c,C=this.na;1<this.B&&(b=this.W);var I=1/this.na;this.R&&(I/=ViewConstants.ne);var G=1/this.na;var F=-(this.H/2*I)+this.we;var E=-(this.I/2*G)+this.ve;1<this.W&&1<this.B&&(f=.4/(this.W-1),l=.6);this.Kd(l);var D=0;var H=F;for(u=0;u<this.H;u+=1){var N=A[H&z];var K=a[H&z];var P=E;this.S&&(P+=.5*(H|0));for(H=0;H<m;H+=1){var J=N[P&x];var S=K[P&x];S===v||S===B?(J>=t&&(S=y),J=n[S]|0):S===y||S===r?(J<t&&(S=v),J=n[S]|0):J=n[J]|
0;q[D]=J;D+=1;P+=G;J=N[P&x];S=K[P&x];S===v||S===B?(J>=t&&(S=y),J=n[S]|0):S===y||S===r?(J<t&&(S=v),J=n[S]|0):J=n[J]|0;q[D]=J;D+=1;P+=G;J=N[P&x];S=K[P&x];S===v||S===B?(J>=t&&(S=y),J=n[S]|0):S===y||S===r?(J<t&&(S=v),J=n[S]|0):J=n[J]|0;q[D]=J;D+=1;P+=G;J=N[P&x];S=K[P&x];S===v||S===B?(J>=t&&(S=y),J=n[S]|0):S===y||S===r?(J<t&&(S=v),J=n[S]|0):J=n[J]|0;q[D]=J;D+=1;P+=G;J=N[P&x];S=K[P&x];S===v||S===B?(J>=t&&(S=y),J=n[S]|0):S===y||S===r?(J<t&&(S=v),J=n[S]|0):J=n[J]|0;q[D]=J;D+=1;P+=G;J=N[P&x];S=K[P&x];S===
v||S===B?(J>=t&&(S=y),J=n[S]|0):S===y||S===r?(J<t&&(S=v),J=n[S]|0):J=n[J]|0;q[D]=J;D+=1;P+=G;J=N[P&x];S=K[P&x];S===v||S===B?(J>=t&&(S=y),J=n[S]|0):S===y||S===r?(J<t&&(S=v),J=n[S]|0):J=n[J]|0;q[D]=J;D+=1;P+=G;J=N[P&x];S=K[P&x];S===v||S===B?(J>=t&&(S=y),J=n[S]|0):S===y||S===r?(J<t&&(S=v),J=n[S]|0):J=n[J]|0;q[D]=J;D+=1;P+=G}H=F+=I}e&&this.qe();(this.ic||this.td)&&this.Hh()&&this.Zd();A=c;for(a=1;a<b;a+=1)for(c=2<this.i?0===this.O?this.i/this.W*a|0:a<b/2?this.O/this.W*a*2|0:this.O+this.i/this.W*a|0:this.Qd?
1:(this.ff+1)/this.W*a|0,l+=f,this.Kd(l),I/=this.B,G/=this.B,C*=this.B,u=d,.125>C?d=15:.25>C?d=7:.5>C?d=3:1>C?d=1:(A=this.ca,d=0),d!==u&&(A=this.ca),x=this.Fb&~d,z=this.Kb&~d,F=-(this.H/2*I)+this.we,E=-(this.I/2*G)+this.ve,D=0,H=F,u=0;u<this.H;u+=1){N=A[H&z];P=E;this.S&&(P+=.5*(H|0));for(H=0;H<m;H+=1)J=N[P&x]|0,J>=c&&(q[D]=n[J]),D+=1,P+=G,J=N[P&x]|0,J>=c&&(q[D]=n[J]),D+=1,P+=G,J=N[P&x]|0,J>=c&&(q[D]=n[J]),D+=1,P+=G,J=N[P&x]|0,J>=c&&(q[D]=n[J]),D+=1,P+=G,J=N[P&x]|0,J>=c&&(q[D]=n[J]),D+=1,P+=G,J=N[P&
x]|0,J>=c&&(q[D]=n[J]),D+=1,P+=G,J=N[P&x]|0,J>=c&&(q[D]=n[J]),D+=1,P+=G,J=N[P&x]|0,J>=c&&(q[D]=n[J]),D+=1,P+=G;H=F+=I}};p.prototype.cI=function(a,c,d,e){var m=this.I>>3,n=this.De,q=this.fe,u,y=ViewConstants.Za[3]+128,v=ViewConstants.Za[4]+128,r=ViewConstants.Za[5]+128,B=ViewConstants.Za[6]+128,b=1,l=1,f=0,t=this.Hb,x=this.Fb&~d,z=this.Kb&~d,A=~d,C=~d,I=c,G=this.na;1<this.B&&(b=this.W);var F=1/this.na;this.R&&(F/=ViewConstants.ne);var E=1/this.na;var D=-(this.H/2*F)+this.we;var H=-(this.I/2*E)+this.ve;
1<this.W&&1<this.B&&(f=.4/(this.W-1),l=.6);this.Kd(l);var N=this.width<this.ma?n[0]|0:this.Sl|0;var K=0;var P=D;for(u=0;u<this.H;u+=1){if(0<=P&&(P&C)===(P&z)){var J=I[P&z];var S=a[P&z];var X=H;this.S&&(X+=.5*(P|0));for(P=0;P<m;P+=1){if(0<=X&&(X&A)===(X&x)){var U=J[X&x];var L=S[X&x];L===v||L===B?(U>=t&&(L=y),U=n[L]|0):L===y||L===r?(U<t&&(L=v),U=n[L]|0):U=n[U]|0}else U=N;q[K]=U;K+=1;X+=E;0<=X&&(X&A)===(X&x)?(U=J[X&x],L=S[X&x],L===v||L===B?(U>=t&&(L=y),U=n[L]|0):L===y||L===r?(U<t&&(L=v),U=n[L]|0):U=
n[U]|0):U=N;q[K]=U;K+=1;X+=E;0<=X&&(X&A)===(X&x)?(U=J[X&x],L=S[X&x],L===v||L===B?(U>=t&&(L=y),U=n[L]|0):L===y||L===r?(U<t&&(L=v),U=n[L]|0):U=n[U]|0):U=N;q[K]=U;K+=1;X+=E;0<=X&&(X&A)===(X&x)?(U=J[X&x],L=S[X&x],L===v||L===B?(U>=t&&(L=y),U=n[L]|0):L===y||L===r?(U<t&&(L=v),U=n[L]|0):U=n[U]|0):U=N;q[K]=U;K+=1;X+=E;0<=X&&(X&A)===(X&x)?(U=J[X&x],L=S[X&x],L===v||L===B?(U>=t&&(L=y),U=n[L]|0):L===y||L===r?(U<t&&(L=v),U=n[L]|0):U=n[U]|0):U=N;q[K]=U;K+=1;X+=E;0<=X&&(X&A)===(X&x)?(U=J[X&x],L=S[X&x],L===v||L===
B?(U>=t&&(L=y),U=n[L]|0):L===y||L===r?(U<t&&(L=v),U=n[L]|0):U=n[U]|0):U=N;q[K]=U;K+=1;X+=E;0<=X&&(X&A)===(X&x)?(U=J[X&x],L=S[X&x],L===v||L===B?(U>=t&&(L=y),U=n[L]|0):L===y||L===r?(U<t&&(L=v),U=n[L]|0):U=n[U]|0):U=N;q[K]=U;K+=1;X+=E;0<=X&&(X&A)===(X&x)?(U=J[X&x],L=S[X&x],L===v||L===B?(U>=t&&(L=y),U=n[L]|0):L===y||L===r?(U<t&&(L=v),U=n[L]|0):U=n[U]|0):U=N;q[K]=U;K+=1;X+=E}}else q.fill(N,K,K+this.I+1),K+=this.I;P=D+=F}e&&this.qe();(this.ic||this.td)&&this.Hh()&&this.Zd();I=c;for(a=1;a<b;a+=1)for(c=2<
this.i?0===this.O?this.i/this.W*a|0:a<b/2?this.O/this.W*a*2|0:this.O+this.i/this.W*a|0:this.Qd?1:(this.ff+1)/this.W*a|0,l+=f,this.Kd(l),F/=this.B,E/=this.B,G*=this.B,u=d,.125>G?d=15:.25>G?d=7:.5>G?d=3:1>G?d=1:(I=this.ca,d=0),d!==u&&(I=this.ca),x=this.Fb&~d,z=this.Kb&~d,A=~d,C=~d,D=-(this.H/2*F)+this.we,H=-(this.I/2*E)+this.ve,K=0,P=D,u=0;u<this.H;u+=1){if(0<=P&&(P&C)===(P&z))for(J=I[P&z],X=H,this.S&&(X+=.5*(P|0)),P=0;P<m;P+=1)0<=X&&(X&A)===(X&x)&&(U=J[X&x]|0,U>=c&&(q[K]=n[U])),K+=1,X+=E,0<=X&&(X&
A)===(X&x)&&(U=J[X&x]|0,U>=c&&(q[K]=n[U])),K+=1,X+=E,0<=X&&(X&A)===(X&x)&&(U=J[X&x]|0,U>=c&&(q[K]=n[U])),K+=1,X+=E,0<=X&&(X&A)===(X&x)&&(U=J[X&x]|0,U>=c&&(q[K]=n[U])),K+=1,X+=E,0<=X&&(X&A)===(X&x)&&(U=J[X&x]|0,U>=c&&(q[K]=n[U])),K+=1,X+=E,0<=X&&(X&A)===(X&x)&&(U=J[X&x]|0,U>=c&&(q[K]=n[U])),K+=1,X+=E,0<=X&&(X&A)===(X&x)&&(U=J[X&x]|0,U>=c&&(q[K]=n[U])),K+=1,X+=E,0<=X&&(X&A)===(X&x)&&(U=J[X&x]|0,U>=c&&(q[K]=n[U])),K+=1,X+=E;else K+=m<<3;P=D+=F}};p.prototype.$i=function(a,c,d,e,m){var n=Math.sin(this.rb/
180*Math.PI)/this.na,q=Math.cos(this.rb/180*Math.PI)/this.na,u=this.I,y=this.H,v=-(this.I/2*-n+this.H/2*q)+this.we,r=-(this.I/2*q+this.H/2*n)+this.ve,B=v+u*-n,b=r+u*q,l=v+y*q;y=r+y*n;n=l+u*-n;q=y+u*q;u=l;var f=y;q<f&&(f=q);r<f&&(f=r);b<f&&(f=r);q>y&&(y=q);r>y&&(y=r);b>y&&(y=b);n>u&&(u=n);v>u&&(u=v);B>u&&(u=B);n<l&&(l=n);v<l&&(l=v);B<l&&(l=B);0>(f|0)||(y|0)>=this.width||0>(l|0)||(u|0)>=this.height?0===this.rb?this.nh&&1<=this.na&&1===this.W&&(this.na|0)!==this.na?(this.Kd(1),this.width!==this.ma?this.Bt(a,
c,f,l,y,u,this.De[0],e,m):this.Bt(a,c,f,l,y,u,this.Sl,e,m)):this.cI(a,c,d,e):this.bI(a,c,d,e):0===this.rb?this.nh&&1<=this.na&&1===this.W&&(this.na|0)!==this.na?(this.Kd(1),this.Bt(a,c,f,l,y,u,this.De[0],e,m)):this.fI(a,c,d,e):this.dI(a,c,d,e)};p.prototype.cv=function(){var a;if(this.ek){if(!this.pd.data.buffer){var c=this.pd.data;var d=this.Yk;var e=d.length;for(a=0;a<e;)c[a]=d[a],a+=1,c[a]=d[a],a+=1,c[a]=d[a],a+=1,c[a]=d[a],a+=1}this.context.putImageData(this.pd,0,0)}};p.prototype.uB=function(a){this.fe.fill(a)};
window.LifeConstants=k;window.Life=p}(),function(){function w(h,g){var p=0,k=0,a=h.length,c=!1,d=!1,e=!1,m=0,n=new Uint32Array(a),q=new Uint16Array(a),u=new Uint32Array(a),y=0,v=0;-1!==h.indexOf("&")&&(h=h.replace(/&amp;/g,"&"),h=h.replace(/&lt;/g,"<"),h=h.replace(/&gt;/g,">"),a=h.length);for(;p<a;){var r=h.charCodeAt(p);switch(r){case 32:case 13:case 9:case 123:case 125:!d&&c&&(n[m]=k,q[m]=p-k,u[m]=(y<<1)+1&v,m+=1,c=!1);break;case 44:g?!d&&c&&(n[m]=k,q[m]=p-k,u[m]=(y<<1)+1&v,m+=1,c=!1):c||(c=!0,
v=0,d=!1,k=p);break;case 10:c&&(n[m]=k,q[m]=p-k,u[m]=(y<<1)+1&v,m+=1,c=!1);d=!1;g&&(0<m&&"\n"!==h[n[m-1]]&&(n[m]=p,q[m]=1,u[m]=0,m+=1),e=!1);break;case 58:case 61:g?d||(c&&(n[m]=k,q[m]=p-k,u[m]=(y<<1)+1&v,m+=1,c=!1),n[m]=p,q[m]=1,u[m]=0,m+=1):c||(c=!0,v=0,d=!1,k=p);break;case 34:g?d||(e=!e,c||(c=!0,k=p)):c||(c=!0,v=0,k=p);break;case 35:g?e||d||(c&&(n[m]=k,q[m]=p-k,u[m]=(y<<1)+1&v,m+=1,c=!1),d=!0):c||(c=!0,v=0,d=!1,k=p);break;default:d||(c?48<=r&&57>=r?y=10*y+r-48:v=0:(c=!0,k=p,48<=r&&57>=r?(v=-1,
y=r-48):v=0))}p+=1}c&&(n[m]=k,q[m]=p-k,u[m]=(y<<1)+1&v,m+=1);this.B=n.slice(0,m);this.G=q.slice(0,m);this.U=u.slice(0,m);this.current=0;this.source=h}w.prototype.NK=function(h,g){return 0>h||h>=this.B.length||0>g||g>=this.B.length||h>g?"":this.source.substring(this.B[h],this.B[g]+this.G[g])};w.prototype.cH=function(){0<this.current&&--this.current};w.prototype.fn=function(){for(;this.current<this.B.length&&10!==this.source.charCodeAt(this.B[this.current]);)this.current+=1;this.current<this.B.length&&
(this.current+=1)};w.prototype.$w=function(){for(;this.current<this.B.length&&10===this.source.charCodeAt(this.B[this.current]);)this.current+=1};w.prototype.bM=function(){var h=!1;this.current<this.B.length&&10!==this.source.charCodeAt(this.B[this.current])&&(h=!0);return h};w.prototype.Zp=function(){var h=!1;this.current<this.B.length&&10===this.source.charCodeAt(this.B[this.current])&&(h=!0);return h};w.prototype.V=function(){var h="";this.current<this.B.length&&(h=this.source.substr(this.B[this.current],
this.G[this.current]),this.current+=1);return h};w.prototype.EE=function(){var h;for(h=this.V();"\n"===h;)h=this.V();return h};w.prototype.Ia=function(){var h="";this.current<this.B.length&&(h=this.source.substr(this.B[this.current],this.G[this.current]));return h};w.prototype.xE=function(){return this.ka(Keywords.Io,-1,!1)};w.prototype.Cp=function(h,g){return this.ka(h,g,!0)};w.prototype.ka=function(h,g,p){var k=-1,a=this.current;for(-1!==g&&0<=g&&g<this.B.length&&(a=g);a<this.B.length&&-1===k;){if(h.length===
this.G[a]){var c=0;for(g=!0;g&&c<h.length;)h[c]!==this.source[this.B[a]+c]?g=!1:c+=1}else g=!1;g&&(p&&0!==a&&10!==this.source.charCodeAt(this.B[a-1])&&(g=!1),g&&(k=a));a+=1}-1!==k&&(this.current=a);return k};w.prototype.um=function(h){return!isNaN(parseFloat(h))&&isFinite(Number(h))};w.prototype.$=function(h){var g=!1,p=h.indexOf("/");-1!==p&&(g=h.substr(0,p),h=h.substr(p+1),g=this.um(g)&&this.um(h));return g};w.prototype.ty=function(h){var g=0;if(this.$(h)){var p=h.indexOf("/");var k=h.substr(0,
p);h=h.substr(p+1);0!==Number(h)&&(g=Number(k)/Number(h))}else this.um(h)&&(g=parseFloat(h));return g};w.prototype.L=function(){var h=0;this.current<this.B.length&&(0!==this.U[this.current]?(h=this.U[this.current]>>1,this.current+=1):(h=this.V(),h=this.ty(h)));return h};w.prototype.K=function(){var h=!1;if(this.current<this.B.length)if(this.U[this.current])h=!0;else{var g=this.source.substr(this.B[this.current],this.G[this.current]);this.$(g)?h=!0:h=this.um(g)}return h};w.prototype.EK=function(){var h=
!1;var g=this.current+1;g<this.B.length&&(this.U[g]?h=!0:(g=this.source.substr(this.B[g],this.G[g]),this.$(g)?h=!0:h=this.um(g)));return h};w.prototype.qK=function(){this.current=this.B.length};window.Script=w}(),function(){function w(c){this.D=c;this.Do=this.Rh=this.Op=!1;this.jh=a.EA;this.Fk=a.oq;this.ib=this.dc=-1;this.angle=this.y=this.x=0;this.depth=this.W=this.zoom=1;this.Gc=0;this.Cc=60;this.step=1;this.ed=this.fc=0;this.Tf="";this.Ss=this.kl=this.dx=this.Ct=this.Ol=this.Nl=this.tC=this.fH=
this.it=this.zm=this.ln=this.Oi=this.yi=this.sg=this.ui=this.Fi=this.Wd=this.Fh=this.zf=this.Vf=this.jd=this.gn=this.ki=this.ii=this.fi=this.nf=!1}function h(c,d,e,m,n,q,u,y,v,r,B,b,l,f,t,x,z,A,C){this.coords=c;this.Oz=d;this.zoom=e;this.za=m;this.$a=n;this.Yg=q;this.alpha=u;this.size=y;this.pc=v;this.th=r;this.Ed=B;this.angle=b;this.Ql=l;this.Vm=f;this.tn=t;this.un=x;this.Sf=z;this.fm=A;this.gm=C;-2E3===this.$a&&-2E3===this.za?(this.za=this.zoom/4,this.$a=4*this.zoom):-2E3===this.za&&(this.za=this.zoom)}
function g(c,d,e,m,n,q,u,y,v,r,B,b,l,f,t,x,z,A,C,I,G,F){this.yD=c;this.zD=d;this.PH=e;this.QH=m;this.zoom=n;this.za=q;this.$a=u;this.Yg=y;this.alpha=v;this.size=r;this.RE=B;this.pc=b;this.th=l;this.Ed=f;this.angle=t;this.Ql=x;this.Vm=z;this.tn=A;this.un=C;this.Sf=I;this.fm=G;this.gm=F;-2E3===this.$a&&-2E3===this.za?(this.za=this.zoom/4,this.$a=4*this.zoom):-2E3===this.za&&(this.za=this.zoom)}function p(c,d,e,m,n,q,u,y,v,r,B,b,l,f,t,x,z,A,C,I){this.message="";this.x=c;this.y=d;this.zoom=e;this.za=
m;this.$a=n;this.Yg=q;this.alpha=u;this.size=y;this.eO=v;this.pc=r;this.th=B;this.Ed=b;this.angle=l;this.Ql=f;this.Vm=t;this.tn=x;this.un=z;this.Sf=A;this.fm=C;this.gm=I;-2E3===this.$a&&-2E3===this.za?(this.za=this.zoom/4,this.$a=4*this.zoom):(-2E3===this.za&&(this.za=this.zoom),this.zoom=this.za*Math.pow(this.$a/this.za,.5))}function k(){this.Ua=[];this.uc=[];this.Se=[];this.Cf=[];this.Of=[];this.current=new w(this);this.Ya=new w(this);this.G=new w(this);this.U=!1;this.Pi=0;this.Kr=this.$=!1}var a=
{EA:0,play:1,stop:2,oq:12,pG:0,oG:200};w.prototype.set=function(c){this.Op=c.Op;this.Rh=c.Rh;this.Do=c.Do;this.jh=c.jh;this.Fk=c.Fk;this.dc=c.dc;this.ib=c.ib;this.x=c.x;this.y=c.y;this.fi=c.fi;this.ii=c.ii;this.ki=c.ki;this.nf=c.nf;this.angle=c.angle;this.zoom=c.zoom;this.W=c.W;this.depth=c.depth;this.Gc=c.Gc;this.Cc=c.Cc;this.step=c.step;this.fc=c.fc;this.ed=c.ed;this.Tf=c.Tf;this.gn=c.gn;this.jd=c.jd};w.prototype.B=function(){var c="";switch(this.jh){case a.play:c=Keywords.pq;break;case a.stop:c=
Keywords.qq}return c};w.prototype.TN=function(c){this.Rh?(this.jh!==a.EA&&(c[c.length]=[Keywords.pq,"overwrites "+this.B()]),this.jh=a.play):c[c.length]=[Keywords.pq,"only valid at POI"]};w.prototype.XN=function(c){this.Rh?(this.jh!==a.EA&&(c[c.length]=[Keywords.qq,"overwrites "+this.B()]),this.jh=a.stop):c[c.length]=[Keywords.qq,"only valid at POI"]};w.prototype.UN=function(c){this.Rh?(this.Do&&(c[c.length]=[Keywords.Ms,"already defined"]),this.Do=!0):c[c.length]=[Keywords.Ms,"only valid at POI"]};
w.prototype.ZN=function(c,d){this.Rh?(this.Fk!==a.oq&&(d[d.length]=[Keywords.Ns+" "+c,"overwrites "+this.Fk]),this.Fk=c):d[d.length]=[Keywords.Ns,"only valid at POI"]};w.prototype.G=function(c,d,e){var m=c.ed+0,n=d.ed+0,q=c.angle+0,u=d.angle+0,y=1,v=1,r=1,B=1,b=1;e>n&&(e=n);n-m===ViewConstants.dO&&(m=n);n!==m&&(y=Math.round((e-m)/(n-m)*1E6)/1E6,v=this.D.PD(y)+0);d.fi||d.nf?r=y:r=v;d.ii||d.nf?B=y:B=v;d.ki||d.nf?b=y:b=v;this.x=c.x+r*(d.x-c.x);this.y=c.y+B*(d.y-c.y);this.zoom=c.zoom*Math.pow(d.zoom/
c.zoom,b);180<u-q?q+=360:-180>u-q&&(u+=360);this.angle=(q+v*(u-q))%360;this.W=c.W+y*(d.W-c.W)|0;this.depth=c.depth+y*(d.depth-c.depth);this.Gc=d.Gc;this.Cc=d.Cc;this.step=d.step;this.fc=c.fc+y*(d.fc-c.fc)|0;this.ed=e;this.Tf=d.Tf;this.nf=d.nf;this.Op=d.Op};k.prototype.QJ=function(c,d,e,m,n,q,u,y,v,r,B,b,l,f,t,x,z,A,C){return new h(c,d,e,m,n,q,u,y,v,r,B,b,l,f,t,x,z,A,C)};k.prototype.Db=function(){this.Of=[]};k.prototype.MI=function(c){this.Of[this.Of.length]=c};k.prototype.LJ=function(c,d,e,m,n,q,
u,y,v,r,B,b,l,f,t,x,z,A,C,I,G,F){return new g(c,d,e,m,n,q,u,y,v,r,B,b,l,f,t,x,z,A,C,I,G,F)};k.prototype.cb=function(){this.Cf=[]};k.prototype.JI=function(c){this.Cf[this.Cf.length]=c};k.prototype.OJ=function(c,d,e,m,n,q,u,y,v,r,B,b,l,f,t,x,z,A,C,I){return new p(c,d,e,m,n,q,u,y,v,r,B,b,l,f,t,x,z,A,C,I)};k.prototype.ob=function(){this.Se=[]};k.prototype.FD=function(c){this.Se[this.Se.length]=c};k.prototype.lo=function(){return this.Se.length+this.Cf.length+this.Of.length};k.prototype.oJ=function(){this.ob();
this.cb();this.Db()};k.prototype.CM=function(c){var d="",e="";0<=c&&c<this.Of.length&&(c=this.Of[c],c.Vm&&(e="*"),d=c.Oz?"FILL\t":"LINE\t",d+="X1"+e+" "+c.coords[0]+"\tY1"+e+" "+c.coords[1]);return d};k.prototype.DM=function(c){var d="",e="";0<=c&&c<this.Of.length&&(d=this.Of[c],c=d.zoom,0<=c&&1>c&&(c=-1/c),d.Ql&&(e="*"),d="Z "+c.toFixed(1)+"\tA"+e+" "+d.angle.toFixed(1));return d};k.prototype.EM=function(c){var d="";0<=c&&c<this.Of.length&&(c=this.Of[c],d="Alpha "+c.alpha.toFixed(1),-1!==c.pc&&(d+=
"\tT1 "+c.pc+"\tT2 "+c.th,0<c.Ed&&(d+="\tFade "+c.Ed)));return d};k.prototype.FM=function(c){var d="";0<=c&&c<this.Of.length&&(d=this.Of[c].Yg);return d};k.prototype.$I=function(c){var d="",e="";0<=c&&c<this.Cf.length&&(c=this.Cf[c],c.Vm&&(e="*"),d="X1"+e+" "+c.yD+"\tY1"+e+" "+c.zD,d+="\tX2"+e+" "+c.PH+"\tY2"+e+" "+c.QH);return d};k.prototype.aJ=function(c){var d="",e="";0<=c&&c<this.Cf.length&&(d=this.Cf[c],c=d.zoom,0<=c&&1>c&&(c=-1/c),d.Ql&&(e="*"),d="Z "+c.toFixed(1)+"\tA"+e+" "+d.angle.toFixed(1));
return d};k.prototype.bJ=function(c){var d="";0<=c&&c<this.Cf.length&&(c=this.Cf[c],d="Alpha "+c.alpha.toFixed(1),-1!==c.pc&&(d+="\tT1 "+c.pc+"\tT2 "+c.th,0<c.Ed&&(d+="\tFade "+c.Ed)));return d};k.prototype.nu=function(c){var d="";0<=c&&c<this.Cf.length&&(d=this.Cf[c].Yg);return d};k.prototype.DL=function(c){var d="",e="",m="";if(0<=c&&c<this.Se.length){var n=this.Se[c];c=n.zoom;0<=c&&1>c&&(c=-1/c);n.Vm&&(e="*");n.Ql&&(m="*");d="X"+e+" "+n.x+"\tY"+e+" "+n.y;d+="\tZ "+c.toFixed(1)+"\tA"+m+" "+n.angle.toFixed(1)}return d};
k.prototype.EL=function(c){var d="";0<=c&&c<this.Se.length&&(c=this.Se[c],d="Alpha "+c.alpha.toFixed(1),-1!==c.pc&&(d+="\tT1 "+c.pc+"\tT2 "+c.th,0<c.Ed&&(d+="\tFade "+c.Ed)));return d};k.prototype.FL=function(c){var d="";0<=c&&c<this.Se.length&&(c=this.Se[c],d="Size "+c.size+'\t"'+c.message+'"');return d};k.prototype.GL=function(c){var d="";0<=c&&c<this.Se.length&&(d=this.Se[c].Yg);return d};k.prototype.Qc=function(){this.Se.sort(function(c,d){return c.zoom-d.zoom})};k.prototype.oc=function(){this.Cf.sort(function(c,
d){return c.zoom-d.zoom})};k.prototype.Xc=function(){this.Of.sort(function(c,d){return c.zoom-d.zoom})};k.prototype.gO=function(){this.Qc();this.oc();this.Xc()};k.prototype.ka=function(c,d){var e,m=c.g,n=m.context,q=m.width/2-m.Aa-m.bc,u=m.height/2-m.va-m.Zb,y=m.zoom*m.xc,v=m.zoom*m.xc*(m.R?ViewConstants.ne:1),r=m.I/2,B=m.H/2,b=c.g.counter,l=m.S?-(m.height>>2):0,f=0,t=0,x=0,z=0,A=0;m.S&&(q+=u/2);d&&(n.strokeStyle=ViewConstants.dJ);for(e=0;e<this.Cf.length;e+=1){var C=this.Cf[e];var I=!0;-1!==C.pc&&
(b<C.pc||b>C.th)&&(I=!1);if(I){var G=C.size*y/C.zoom;d&&(f=1,24<=G&&(f=2,48<=G&&(f=3)));if(y>=C.za&&y<=C.$a){var F=Math.log(y/C.za)/Math.log(C.$a/C.za);F=.25>=F?4*F:.75<=F?4*(1-F):1;var E=1;-1!==C.pc&&0<C.Ed&&(b-C.pc<C.Ed?E=(b-C.pc+1)/C.Ed:C.th-b<C.Ed&&(E=(C.th-b+1)/C.Ed));I=!0;var D=1;if(-1!==C.Sf){var H=Math.sqrt((-(q+l)-C.tn)*(-(q+l)-C.tn)+(-u-C.un)*(-u-C.un));H>C.Sf?I=!1:0<C.Sf&&.75<H/C.Sf&&(D=4*(1-H/C.Sf))}I&&(n.globalAlpha=F*C.alpha*E*D,D=C.zD+u-(c.jb>>1)+.5,F=C.yD+q+l-(c.gb>>1)+.5,C.Vm||(F+=
m.bc,D+=m.Zb),-1!==C.pc?(F+=C.fm*(c.sb-C.pc),D+=C.gm*(c.sb-C.pc)):(F+=C.fm*c.sb,D+=C.gm*c.sb),0!==m.rb&&(E=Math.sqrt(F*F+D*D),I=180/Math.PI*Math.atan2(D,F),I+=m.rb,F=E*Math.cos(Math.PI/180*I),D=E*Math.sin(Math.PI/180*I)),m.S&&(F-=D/2),I=D*v+B,H=F*y+r,F=(C.PH-C.yD)*y,E=(C.QH-C.zD)*v,m.S&&(F-=E/2),D=0===C.RE?0:Math.sqrt(F*F+E*E)*C.RE,n.save(),n.translate(H,I),I=C.angle,C.Ql||(I+=m.rb),n.rotate(I/180*Math.PI),n.lineWidth=G,d||(n.strokeStyle=C.Yg),n.lineCap="round",n.lineJoin="round",0<D&&(C=Math.atan2(E,
F),t=Math.cos(.85*Math.PI+C),x=Math.sin(.85*Math.PI+C),z=Math.cos(.85*-Math.PI+C),A=Math.sin(.85*-Math.PI+C)),0<f&&n.translate(f,f),n.beginPath(),n.moveTo(0,0),n.lineTo(F,E),0<D&&(n.moveTo(F,E),n.lineTo(F+D*t,E+D*x),n.moveTo(F,E),n.lineTo(F+D*z,E+D*A)),n.stroke(),n.restore())}}}n.globalAlpha=1};k.prototype.Gb=function(c){this.ka(c,!0);this.ka(c,!1)};k.prototype.wa=function(c,d){var e,m=c.g,n=m.context,q=m.width/2-m.Aa-m.bc,u=m.height/2-m.va-m.Zb,y=m.zoom*m.xc,v=m.zoom*m.xc*(m.R?ViewConstants.ne:1),
r=m.I/2,B=m.H/2,b=c.g.counter,l=m.S?-(m.height>>2):0,f=0;d&&(n.strokeStyle=ViewConstants.rG,n.fillStyle=ViewConstants.rG);m.S&&(q+=u/2);for(e=0;e<this.Of.length;e+=1){var t=this.Of[e];var x=t.coords;var z=x.length;var A=!0;-1!==t.pc&&(b<t.pc||b>t.th)&&(A=!1);if(A){var C=t.size*y/t.zoom;d&&(f=1,24<=C&&(f=2,48<=C&&(f=3)));if(y>=t.za&&y<=t.$a){var I=Math.log(y/t.za)/Math.log(t.$a/t.za);I=.25>=I?4*I:.75<=I?4*(1-I):1;var G=1;-1!==t.pc&&0<t.Ed&&(b-t.pc<t.Ed?G=(b-t.pc+1)/t.Ed:t.th-b<t.Ed&&(G=(t.th-b+1)/
t.Ed));A=!0;var F=1;if(-1!==t.Sf){var E=Math.sqrt((-(q+l)-t.tn)*(-(q+l)-t.tn)+(-u-t.un)*(-u-t.un));E>t.Sf?A=!1:0<t.Sf&&.75<E/t.Sf&&(F=4*(1-E/t.Sf))}if(A){n.globalAlpha=I*t.alpha*G*F;I=0;F=x[I]+q+l-(c.gb>>1)+.5;G=x[I+1]+u-(c.jb>>1)+.5;I+=2;t.Vm||(F+=m.bc,G+=m.Zb);-1!==t.pc?(F+=t.fm*(c.sb-t.pc),G+=t.gm*(c.sb-t.pc)):(F+=t.fm*c.sb,G+=t.gm*c.sb);0!==m.rb&&(A=Math.sqrt(F*F+G*G),G=180/Math.PI*Math.atan2(G,F),G+=m.rb,F=A*Math.cos(Math.PI/180*G),G=A*Math.sin(Math.PI/180*G));m.S&&(F-=G/2);G=G*v+B;E=F*y+r;F=
(x[I]-x[0])*y;A=(x[I+1]-x[1])*v;m.S&&(F-=A/2);I+=2;n.save();n.translate(E,G);G=t.angle;t.Ql||(G+=m.rb);n.rotate(G/180*Math.PI);n.lineWidth=C;d||(t.Oz?n.fillStyle=t.Yg:n.strokeStyle=t.Yg);n.lineCap="round";n.lineJoin="round";0<f&&n.translate(f,f);n.beginPath();n.moveTo(0,0);for(n.lineTo(F,A);I<z;)F=(x[I]-x[0])*y,A=(x[I+1]-x[1])*v,m.S&&(F-=A/2),I+=2,n.lineTo(F,A);t.Oz?n.fill():n.stroke();n.restore()}}}}n.globalAlpha=1};k.prototype.$b=function(c){this.wa(c,!0);this.wa(c,!1)};k.prototype.Pb=function(c){var d,
e=c.g,m=e.context,n=e.width/2-e.Aa-e.bc,q=e.height/2-e.va-e.Zb,u=e.zoom*e.xc,y=e.zoom*e.xc*(e.R?ViewConstants.ne:1),v=e.I/2,r=e.H/2,B=0,b=ViewConstants.JL,l="px "+ViewConstants.HL,f=c.g.counter,t=e.S?-(e.height>>2):0;e.S&&(n+=q/2);for(d=0;d<this.Se.length;d+=1){var x=this.Se[d];var z=!0;-1!==x.pc&&(f<x.pc||f>x.th)&&(z=!1);if(z){x.eO?B=x.size:B=x.size*u/x.zoom;var A=1;24<=B&&(A=2,48<=B&&(A=3));if(u>=x.za&&u<=x.$a){var C=Math.log(u/x.za)/Math.log(x.$a/x.za);m.font=B+l;C=.25>=C?4*C:.75<=C?4*(1-C):1;
var I=1;-1!==x.pc&&0<x.Ed&&(f-x.pc<x.Ed?I=(f-x.pc+1)/x.Ed:x.th-f<x.Ed&&(I=(x.th-f+1)/x.Ed));z=!0;var G=1;if(-1!==x.Sf){var F=Math.sqrt((-(n+t)-x.tn)*(-(n+t)-x.tn)+(-q-x.un)*(-q-x.un));F>x.Sf?z=!1:0<x.Sf&&.75<F/x.Sf&&(G=4*(1-F/x.Sf))}if(z){m.globalAlpha=C*x.alpha*I*G;z=x.x+n+t-(c.gb>>1)+.5;G=x.y+q-(c.jb>>1)+.5;x.Vm||(z+=e.bc,G+=e.Zb);-1!==x.pc?(z+=x.fm*(c.sb-x.pc),G+=x.gm*(c.sb-x.pc)):(z+=x.fm*c.sb,G+=x.gm*c.sb);0!==e.rb&&(C=Math.sqrt(z*z+G*G),G=180/Math.PI*Math.atan2(G,z),G+=e.rb,z=C*Math.cos(Math.PI/
180*G),G=C*Math.sin(Math.PI/180*G));e.S&&(z-=G/2);C=x.message;I=C.indexOf("\\n");G=G*y+r;z=z*u+v;m.save();m.translate(z,G);G=x.angle;x.Ql||(G+=e.rb);m.rotate(G/180*Math.PI);for(G=0;-1!==I;)z=C.substr(0,I),C=C.substr(I+2),I=m.measureText(z).width>>1,m.fillStyle=b,m.fillText(z,-I+A,G+A),m.fillStyle=x.Yg,m.fillText(z,-I,G),G+=B,I=C.indexOf("\\n");I=m.measureText(C).width>>1;m.fillStyle=b;m.fillText(C,-I+A,G+A);m.fillStyle=x.Yg;m.fillText(C,-I,G);m.restore()}}}}m.globalAlpha=1};k.prototype.iz=function(c){this.$b(c);
this.Gb(c);this.Pb(c)};k.prototype.kO=function(c){var d;for(d=this.Ua.length-1;0<=d;--d){var e=this.Ua[d];e.ed>c&&e.Ss&&(this.Pi=d,e.Ss=!1)}};k.prototype.nN=function(){var c;for(c=0;c<this.Ua.length;c+=1)this.Ua[c].Ss=!1;this.Pi=0;this.$=!1};k.prototype.vp=function(){return new w(this)};k.prototype.PD=function(c){return-2*Math.pow(c,3)+3*Math.pow(c,2)+0*c};k.prototype.reset=function(){this.Ua=[];this.uc=[];this.U=!1;this.Pi=0};k.prototype.KL=function(){return this.Ua[this.Ua.length-1]};k.prototype.sK=
function(c){var d=this.La(c),e=this.Ua[d];c>e.fc?c=e.ed+1E3*(c-e.fc)/(e.Cc*e.step):0<d?(d=this.Ua[d-1],c=d.ed+1E3*(c-d.fc)/(e.Cc*e.step)):c=1E3*c/(e.Cc*e.step);return c};k.prototype.RJ=function(c,d,e,m,n,q,u,y,v,r,B){var b=this.Ya;b.x=c;b.y=d;b.zoom=e;b.angle=m;b.Cc=y;b.step=v;b.W=n;b.depth=q;b.Gc=u;b.fc=r;this.U&&(B=this.G.ed);b.ed=B-1E3;this.update(null,B,r);this.G.set(this.current);this.G.nf=!1;this.G.ed=B;this.U=!0;return b.ed};k.prototype.Dr=function(){return this.Ua[0]};k.prototype.kM=function(){return this.Ua.length};
k.prototype.add=function(c){if(c.Rh)this.uc[this.uc.length]=c;else if(this.Ua[this.Ua.length]=c,c.Vf||c.zf||c.Wd||c.Fh||c.nf)this.Kr=!0};k.prototype.OD=function(c){var d=!1;this.Pi>=this.Ua.length-1&&c>=this.Ua[this.Pi].ed&&(d=!0);return d};k.prototype.B=function(c){return c===(c|0)?String(c|0):String(c.toFixed(1))};k.prototype.xM=function(c){var d="";0<=c&&c<this.uc.length&&(c=this.uc[c],c.Vf&&(d+=" X "+-c.x),c.zf&&(d+=" Y "+-c.y),c.Wd&&(d+=" ZOOM "+this.B(c.zoom)),c.Fh&&(d+=" ANGLE "+c.angle));
return d.substr(1)};k.prototype.nG=function(c){var d="";0<=c&&c<this.uc.length&&(c=this.uc[c],c.Do&&(d+=" POIRESET"),c.jh===a.play?d+=" POIPLAY":c.jh===a.stop&&(d+=" POISTOP"),c.Fk!==a.oq&&(d+=" POITRANS "+c.Fk));return d.substr(1)};k.prototype.yM=function(c){var d="";0<=c&&c<this.uc.length&&(c=this.uc[c],c.zm&&(d+=" LOOP "+(-1===c.ib?"OFF":c.ib)),c.ln&&(d+=" STOP "+(-1===c.dc?"OFF":c.dc)),c.yi&&(d+=" GPS "+c.Cc),c.Oi&&(d+=" STEP "+c.step));return d.substr(1)};k.prototype.nG=function(c){var d="";
0<=c&&c<this.uc.length&&(c=this.uc[c],c.Do&&(d+=" POIRESET"),c.jh===a.play?d+=" POIPLAY":c.jh===a.stop&&(d+=" POISTOP"),c.Fk!==a.oq&&(d+=" POITRANS "+c.Fk));return d.substr(1)};k.prototype.BM=function(c){var d="";0<=c&&c<this.uc.length&&(c=this.uc[c],c.sg&&(d+=" THEME "+c.Gc),c.ui&&(d+=" DEPTH "+this.B(c.depth)),c.Fi&&(d+=" LAYERS "+c.W));return d.substr(1)};k.prototype.AM=function(c){var d="";0<=c&&c<this.uc.length&&(c=this.uc[c],c.it&&(d+=" POIT "+c.fc));return d.substr(1)};k.prototype.zM=function(c){var d=
Keywords.xd,e="";0<=c&&c<this.uc.length&&(c=this.uc[c],""!==c.Tf&&(e+=" "+d+c.Tf+d));return e.substr(1)};k.prototype.ZO=function(c){var d=Keywords.xd,e="";if(0<=c&&c<this.Ua.length){var m=this.Ua[c];0<c?(c=this.Ua[c-1],e=m.fc===c.fc?"P "+this.B((m.ed-c.ed|0)/1E3):"T "+m.fc,m.nf?e+=" F":(m.x!==c.x&&(e+=" X "+-m.x),m.y!==c.y&&(e+=" Y "+-m.y),m.zoom!==c.zoom&&(e+=" Z "+this.B(m.zoom))),m.angle!==c.angle&&(e+=" A "+m.angle),m.W!==c.W&&(e+=" L "+m.W),m.depth!==c.depth&&(e+=" D "+this.B(m.depth)),m.Gc!==
c.Gc&&(e+=" C "+m.Gc),m.Cc!==c.Cc&&(e+=" G "+m.Cc),m.step!==c.step&&(e+=" S "+m.step),""!==m.Tf&&(e+=" "+d+m.Tf+d)):e="T "+m.fc+" X "+-m.x+" Y "+-m.y+" Z "+this.B(m.zoom)+" A "+m.angle+" L "+m.W+" D "+this.B(m.depth)+" C "+m.Gc+" G "+m.Cc+" S "+m.step}return e};k.prototype.update=function(c,d,e){var m=this.Ua.length,n=!1,q=this.Pi,u=q,y=!1;if(this.U)this.current.G(this.Ya,this.G,d),d>=this.G.ed&&(this.U=!1);else{for(;q<m&&!n;){var v=this.Ua[q];v.ed>=d||!v.Ss?n=!0:q+=1}n?(this.Ua[q].Ss=!0,0<q?(this.Ua[q].nf&&
(this.Ua[q].x=this.current.x,this.Ua[q].y=this.current.y,this.Ua[q].zoom=this.current.zoom),this.current.G(this.Ua[q-1],this.Ua[q],d)):(q=0,this.current.set(this.Ua[q]))):(q=m-1,this.current.set(this.Ua[q]),e>=this.current.fc&&this.$&&(y=!0),this.$=!0);this.Pi=q}this.Pi!==u&&this.current.Op&&c&&c.j.SI();return y};k.prototype.La=function(c){for(var d=0,e=!1,m=this.Ua,n=this.Ua.length;d<n&&!e;)m[d].fc>=c?e=!0:d+=1;e||(d=n-1);return d};k.prototype.yK=function(c){this.Pi=this.La(c);var d=this.Ua[this.Pi];
var e=this.Ua[this.Pi-1];return(d.ed-e.ed)*(c-e.fc)/(d.fc-e.fc)+e.ed};k.prototype.Jd=function(c,d,e,m){if(0===this.Ua.length)e[e.length]=[c+" "+Keywords.mc,"no initial waypoint defined"];else switch(c){case Keywords.yf:d.Vf&&(e[e.length]=[c+" "+Keywords.mc,m?"already defined":"overwrites "+-d.x]);d.x=this.Ua[0].x;d.Vf=!0;break;case Keywords.Af:d.zf&&(e[e.length]=[c+" "+Keywords.mc,m?"already defined":"overwrites "+-d.y]);d.y=this.Ua[0].y;d.zf=!0;break;case Keywords.Xd:d.Wd&&(e[e.length]=[c+" "+Keywords.mc,
m?"already defined":"overwrites "+this.B(1>d.zoom?-(1/d.zoom):d.zoom)]);d.zoom=this.Ua[0].zoom;d.Wd=!0;break;case Keywords.Rl:d.Fh&&(e[e.length]=[c+" "+Keywords.mc,m?"already defined":"overwrites "+d.angle]);d.angle=this.Ua[0].angle;d.Fh=!0;break;case Keywords.On:d.ui&&(e[e.length]=[c+" "+Keywords.mc,m?"already defined":"overwrites "+this.B(d.depth)]);d.depth=this.Ua[0].depth;d.ui=!0;break;case Keywords.fo:d.Fi&&(e[e.length]=[c+" "+Keywords.mc,m?"already defined":"overwrites "+d.W]);d.W=this.Ua[0].W;
d.Fi=!0;break;case Keywords.Jl:d.sg&&(e[e.length]=[c+" "+Keywords.mc,m?"already defined":"overwrites "+d.Gc]);d.Gc=this.Ua[0].Gc;d.sg=!0;break;case Keywords.Xn:d.yi&&(e[e.length]=[c+" "+Keywords.mc,m?"already defined":"overwrites "+d.Cc]);d.Cc=this.Ua[0].Cc;d.yi=!0;break;case Keywords.Qo:d.Oi&&(e[e.length]=[c+" "+Keywords.mc,m?"already defined":"overwrites "+d.step]);d.step=this.Ua[0].step;d.Oi=!0;break;case Keywords.Vj:d.ln&&(e[e.length]=[c+" "+Keywords.mc,m?"already defined":"overwrites "+(-1===
d.dc?"OFF":d.dc)]);d.dc=this.Ua[0].dc;d.ln=!0;break;case Keywords.yj:d.zm&&(e[e.length]=[c+" "+Keywords.mc,m?"already defined":"overwrites "+(-1===d.ib?"OFF":d.ib)]);d.ib=this.Ua[0].ib;d.zm=!0;break;default:e[e.length]=[c+" "+Keywords.mc,"illegal command before "+Keywords.mc]}};k.prototype.BJ=function(c,d){this.Jd(Keywords.yf,c,d,!1);this.Jd(Keywords.Af,c,d,!1);this.Jd(Keywords.Xd,c,d,!1);this.Jd(Keywords.Rl,c,d,!1);this.Jd(Keywords.fo,c,d,!1);this.Jd(Keywords.On,c,d,!1);this.Jd(Keywords.Jl,c,d,!1);
this.Jd(Keywords.Xn,c,d,!1);this.Jd(Keywords.Qo,c,d,!1);this.Jd(Keywords.yj,c,d,!1);this.Jd(Keywords.Vj,c,d,!1)};k.prototype.HM=function(c){var d,e=this.Ua,m=this.Ua.length;for(d=1;d<m;d+=1){var n=e[d-1];var q=e[d];q.Vf||(q.x=n.x);q.zf||(q.y=n.y);q.Nl||(q.fi=n.fi);q.Ol||(q.ii=n.ii);q.Ct||(q.ki=n.ki);q.Fh||(q.angle=n.angle);q.Wd||(q.zoom=n.zoom);q.Fi||(q.W=n.W);q.ui||(q.depth=n.depth);q.sg||(q.Gc=n.Gc);q.yi||(q.Cc=n.Cc);q.Oi||(q.step=n.step);q.it?q.fc<=n.fc&&(c[c.length]=[Keywords.ht+" "+q.fc,"target generation must be later than previous ("+
n.fc+")"]):q.fc=n.fc;q.ed=q.fH?1E3*q.ed+n.ed:n.ed+1E3*(q.fc-n.fc)/(q.Cc*q.step);q.dx||(q.gn=n.gn);q.kl||(q.jd=n.jd)}};window.Waypoint=w;window.WaypointManager=k;window.WaypointConstants=a}(),function(){function w(h,g){var p=this,k=h.getElementsByTagName("div")[0];this.rx=!1;this.Lh=-1;this.xf=1;this.OH=h;this.view=g;this.j=g.j;this.top=this.left=0;""!==h.style.left&&(this.left=parseInt(h.style.left,10));""!==h.style.top&&(this.top=parseInt(h.style.top,10));this.Nc=this.Pn=!1;this.rl=this.ql=-1;this.MB=
0;registerEvent(k,"mousedown",function(a){p.G(p,a)},!1);registerEvent(document,"mousemove",function(a){p.U(p,a)},!1);registerEvent(document,"mouseup",function(a){p.$(p,a)},!1);registerEvent(k,"touchstart",function(a){p.B(p,a)},!1);registerEvent(k,"touchmove",function(a){p.B(p,a)},!1);registerEvent(k,"touchend",function(a){p.B(p,a)},!1);registerEvent(window,"resize",function(){p.IG(p)},!1)}w.prototype.Bp=function(h,g){for(var p=null,k=0;null===p&&k<h.length;)h[k].identifier===g?p=h[k]:k+=1;return p};
w.prototype.reset=function(){this.Nc=!1;this.Lh=-1};w.prototype.B=function(h,g){var p=g.changedTouches;this.rx=!0;switch(g.type){case "touchstart":-1===h.Lh&&(p=p[0],h.Lh=p.identifier,h.Is(h,p.pageX,p.pageY));break;case "touchend":p=h.Bp(p,h.Lh);null!==p&&(h.Ks(h,p.pageX,p.pageY),h.Lh=-1);break;case "touchmove":p=h.Bp(p,h.Lh),null!==p&&h.Js(h,p.pageX,p.pageY)}g.stopPropagation&&g.stopPropagation();g.cancelable&&g.preventDefault()};w.prototype.IG=function(h){var g=this.view;g.I=g.eq;g.H=g.cq;g.QG();
g.yr.style.transform="scale("+g.xf+","+g.xf+")";g.yr.style.transformOrigin="top left";g.sw&&(this.j.rg(!0),g.resize());h.XG(h.left+h.MB,h.top,h.OH);h.MB=0};w.prototype.EO=function(h,g){this.XG(this.left+h,this.top+g,this.OH)};w.prototype.XG=function(h,g,p){var k=window.innerWidth-p.clientWidth*this.xf,a=window.innerHeight-p.clientHeight*this.xf;k-=(window.innerWidth-document.body.clientWidth)*this.xf;h>k&&(h=k);g>a&&(g=a);0>h&&(h=0);0>g&&(g=0);p.style.left=h+"px";p.style.top=g+"px";p.style.position=
"fixed";this.left=h;this.top=g};w.prototype.Is=function(h,g,p){h.Pq(h,g,p);h.Nc=!0;h.j.to=!0};w.prototype.Ks=function(h,g,p){h.Pq(h,g,p);h.Nc=!1;h.j.to=!1};w.prototype.Js=function(h,g,p){h.Nc&&h.EO(g-h.ql,p-h.rl);h.ql=g;h.rl=p};w.prototype.G=function(h,g){if(!h.rx){if(g.pageX||g.pageY){var p=g.pageX;var k=g.pageY}else p=g.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,k=g.clientY+document.body.scrollTop+document.documentElement.scrollTop;h.Is(h,p,k)}g.stopPropagation&&g.stopPropagation();
g.preventDefault()};w.prototype.$=function(h,g){if(!h.rx&&h.Pn&&h.Nc){if(g.pageX||g.pageY){var p=g.pageX;var k=g.pageY}else p=g.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,k=g.clientY+document.body.scrollTop+document.documentElement.scrollTop;h.Ks(h,p,k)}g.stopPropagation&&g.stopPropagation();g.preventDefault()};w.prototype.U=function(h,g){if(!h.rx&&h.Pn&&h.Nc){if(g.pageX||g.pageY){var p=g.pageX;g=g.pageY}else p=g.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,
g=g.clientY+document.body.scrollTop+document.documentElement.scrollTop;h.Js(h,p,g)}};w.prototype.Pq=function(h,g,p){h.ql=g|0;h.rl=p|0};window.PopupWindow=w}(),function(){function w(){this.key=new Uint8Array(256);this.G=this.B=0}w.prototype.qf=function(h){var g,p,k=this.key;for(g=0;256>g;g+=1)k[g]=g;for(g=p=0;256>g;g+=1){p=p+k[g]+h.charCodeAt(g%h.length)&255;var a=k[g];k[g]=k[p];k[p]=a}this.G=this.B=0};w.prototype.random=function(){var h,g=0,p=1,k=this.key,a=this.B,c=this.G;for(h=0;8>h;h+=1){a=a+1&
255;c=c+k[a]&255;var d=k[a];k[a]=k[c];k[c]=d;g+=k[k[a]+k[c]&255]*p;p*=256}this.B=a;this.G=c;return g/1.8446744073709552E19};window.Random=w}(),function(){function w(h,g){this.jw=h;this.x=g.P(Float32,0,"Stars.x");this.y=g.P(Float32,0,"Stars.y");this.z=g.P(Float32,0,"Stars.z");this.blue=this.green=this.red=255;this.Wb=new Random;this.Wb.qf(Date.now().toString());this.sin=g.P(Float32,0,"Stars.sin");this.cos=g.P(Float32,0,"Stars.cos");this.B=Math.PI/180;this.U=180/Math.PI;this.u=g;this.G=!1}w.prototype.qf=
function(h,g,p){var k,a=this.jw,c=h*h+g*g;this.x=this.u.P(Float32,a,"Stars.x");this.y=this.u.P(Float32,a,"Stars.y");this.z=this.u.P(Float32,a,"Stars.z");for(k=0;k<a;k+=1){var d=k/a*(k/a)*(k/a)*(k/a)*p+1;do{var e=3*(this.Wb.random()*h-h/2);var m=3*(this.Wb.random()*g-g/2)}while(e*e+m*m>c);this.x[k]=e;this.y[k]=m;this.z[k]=d}this.sin=this.u.P(Float32,2880,"Stars.sin");this.cos=this.u.P(Float32,2880,"Stars.cos");for(k=0;2880>k;)this.sin[k]=Math.sin(k/8*this.B),this.cos[k]=Math.cos(k/8*this.B),k+=1};
w.prototype.RO=function(h,g,p,k,a,c,d,e){var m;this.G||(this.qf(8192,8192,1024),this.G=!0);if(littleEndian){var n=e>>16&255;var q=e>>8&255;var u=e&255}else u=e>>24&255,q=e>>16&255,n=e>>8&255;for(m=0;m<this.jw;m+=1){var y=this.x[m]+h;var v=this.y[m]+g;if(0!==k){var r=Math.sqrt(y*y+v*v);v=Math.atan2(v,y)*this.U;v+=k;0>v?v+=360:360<=v&&(v-=360);v*=8;v|=0;y=r*this.cos[v];v=r*this.sin[v]}r=this.z[m]/p*2;y=a/2+y/r|0;v=c/2+v/r|0;if(0<y&&y<a-1&&0<v&&v<c-1){y+=v*a;r=1536/r|0;255<r&&(r=255);r/=255;if(d[y]===
e){v=u+(this.red-u)*r;var B=q+(this.green-q)*r;var b=n+(this.blue-n)*r;v=littleEndian?-16777216|b<<16|B<<8|v:v<<24|b<<16|B<<8|255;d[y]=v}r/=2;v=u+(this.red-u)*r;B=q+(this.green-q)*r;b=n+(this.blue-n)*r;v=littleEndian?-16777216|b<<16|B<<8|v:v<<24|b<<16|B<<8|255;--y;d[y]===e&&(d[y]=v);y+=2;d[y]===e&&(d[y]=v);--y;y-=a;d[y]===e&&(d[y]=v);y+=a+a;d[y]===e&&(d[y]=v)}}};window.Stars=w}(),function(){window.ScriptParser={CD:"",Bx:0,bo:function(w){switch(w){case Keywords.qz:case Keywords.Lz:case Keywords.DA:case Keywords.NB:case Keywords.sC:case Keywords.pz:case Keywords.cC:case Keywords.eC:case Keywords.rz:case Keywords.dC:case Keywords.CA:case Keywords.Sh:case Keywords.hj:case Keywords.uP:case Keywords.Bz:case Keywords.bx:case Keywords.wy:case Keywords.EB:case Keywords.BB:case Keywords.DB:case Keywords.yB:case Keywords.xB:case Keywords.zB:case Keywords.CB:case Keywords.yw:case Keywords.xw:case Keywords.Fw:case Keywords.fz:case Keywords.qw:case Keywords.Lq:case Keywords.oB:case Keywords.rw:case Keywords.mB:case Keywords.pB:case Keywords.qB:case Keywords.nB:case Keywords.rB:case Keywords.sG:case Keywords.Xq:case Keywords.my:case Keywords.oy:case Keywords.py:case Keywords.ny:case Keywords.qy:case Keywords.ry:case Keywords.fs:case Keywords.Vz:case Keywords.Xz:case Keywords.Yz:case Keywords.Wz:case Keywords.Zz:case Keywords.$z:case Keywords.yA:case Keywords.AA:case Keywords.zA:case Keywords.Gz:case Keywords.rt:case Keywords.Az:case Keywords.Ms:case Keywords.qq:case Keywords.pq:case Keywords.pw:case Keywords.Ns:case Keywords.lB:case Keywords.mc:case Keywords.xg:case Keywords.Yb:case Keywords.kC:case Keywords.ep:case Keywords.qt:case Keywords.nv:case Keywords.iw:case Keywords.xz:case Keywords.yz:case Keywords.et:case Keywords.kA:case Keywords.pu:case Keywords.Hz:case Keywords.Bv:case Keywords.iu:case Keywords.ht:case Keywords.Qo:case Keywords.gB:case Keywords.Ir:case Keywords.Hr:case Keywords.vB:case Keywords.oC:case Keywords.Oa:case Keywords.Gy:case Keywords.yf:case Keywords.Af:case Keywords.wx:case Keywords.xx:case Keywords.Xd:case Keywords.jy:case Keywords.WE:case Keywords.yj:case Keywords.yt:case Keywords.xA:case Keywords.wA:case Keywords.GC:case Keywords.BC:case Keywords.zC:case Keywords.DC:case Keywords.FC:case Keywords.ru:case Keywords.iC:case Keywords.Io:case Keywords.Cq:case Keywords.Rl:case Keywords.Jl:case Keywords.Xn:case Keywords.Vj:case Keywords.fo:case Keywords.On:case Keywords.Qq:case Keywords.Gp:case Keywords.Ps:case Keywords.Os:case Keywords.Uz:case Keywords.vq:case Keywords.Eo:case Keywords.jq:case Keywords.Br:case Keywords.Cs:case Keywords.IA:case Keywords.YA:case Keywords.dB:case Keywords.QA:case Keywords.LA:case Keywords.$A:case Keywords.MA:case Keywords.cB:case Keywords.bB:case Keywords.XA:case Keywords.TA:case Keywords.ZA:case Keywords.VA:case Keywords.NA:case Keywords.UA:case Keywords.OA:case Keywords.SA:case Keywords.WA:case Keywords.RA:w=
!0;break;default:w=!1}return w},ko:function(w,h,g,p,k){var a=w.Ia();""===a||this.bo(a)?h[h.length]=[g,p+" missing"]:(h[h.length]=[g+" "+a,p+" must be "+k],w.V())},jc:function(w,h,g,p,k){var a=!0,c=0,d=0,e=0,m=h.V();if(h.K()){c=h.L()|0;if(0>c||255<c)g[g.length]=[k+" "+m+" "+c,"RED out of range"];if(h.K()){d=h.L();if(0>d||255<d)g[g.length]=[k+" "+m+" "+c+" "+d,"GREEN out of range"];h.K()?(e=h.L(),0>e||255<e?g[g.length]=[k+" "+m+" "+c+" "+d+" "+e,"BLUE out of range"]:a=!1):this.ko(h,g,k+" "+m+" "+c+
" "+d,"BLUE","numeric")}else this.ko(h,g,k+" "+m+" "+c,"GREEN","numeric")}else{var n=h.Ia();var q=ColourManager.zg[n.toLowerCase()];void 0!==q?(h.V(),c=q[1],d=q[2],e=q[3],a=!1):""===n||this.bo(n)?g[g.length]=[k+" "+m,"name missing"]:(g[g.length]=[k+" "+m+" "+n,"name not known"],h.V())}if(!a)switch(-1!==w.ta[p]&&p!==ViewConstants.nr&&p!==ViewConstants.jr&&p!==ViewConstants.pr&&(g[g.length]=[k+" "+m+" "+c+" "+d+" "+e,"overwrites "+(w.ta[p]>>16)+" "+(w.ta[p]>>8&255)+" "+(w.ta[p]&255)]),w.ta[p]=c<<16|
d<<8|e,p){case ViewConstants.lr:w.nE=w.ta[p];w.Nh=!0;break;case ViewConstants.mr:w.oE=w.ta[p];w.Nh=!0;break;case ViewConstants.Tu:w.Gl.red=c;w.Gl.green=d;w.Gl.blue=e;break;case ViewConstants.Uu:w.Mh=[c,d,e];break;case ViewConstants.Nu:w.al=[c,d,e];w.pj="rgb("+c+","+d+","+e+")";break;case ViewConstants.nr:w.Ry="rgb("+c+","+d+","+e+")";break;case ViewConstants.jr:w.Qy="rgb("+c+","+d+","+e+")";break;case ViewConstants.pr:w.Sy="rgb("+c+","+d+","+e+")";break;case ViewConstants.Lu:w.$l=[c,d,e];w.g.Sl=w.g.ie?
-16777216|e<<16|d<<8|c:c<<24|d<<16|e<<8|255;break;case ViewConstants.Uy:w.am=[c,d,e];w.g.Tl=w.g.ie?-16777216|e<<16|d<<8|c:c<<24|d<<16|e<<8|255;break;case ViewConstants.Xy:w.dm=[c,d,e];w.g.ZB="rgb("+c+","+d+","+e+")";break;case ViewConstants.Wy:w.cm=[c,d,e];w.g.HA="rgb("+c+","+d+","+e+")";break;case ViewConstants.Ty:w.Zl=[c,d,e];w.g.hu="rgb("+c+","+d+","+e+")";break;case ViewConstants.Qu:w.g.sj=[c,d,e];break;case ViewConstants.Pu:w.g.rj=[c,d,e];break;case ViewConstants.Ou:w.g.qj=[c,d,e];break;case ViewConstants.Ru:w.g.tj=
[c,d,e];break;case ViewConstants.Su:w.g.uj=[c,d,e];break;case ViewConstants.sr:case ViewConstants.qr:case ViewConstants.tr:case ViewConstants.vr:case ViewConstants.ur:case ViewConstants.rr:break;default:w.Nh=!0}},bO:function(w){var h=w.g.lb[w.g.Ue],g=w.ta;h.nm=w.g.pf;-1===g[ViewConstants.mj]&&(w=g[ViewConstants.ti],-1!==w?g[ViewConstants.mj]=16777215-w:(w=g[ViewConstants.ah],g[ViewConstants.mj]=-1!==w?16777215-w:16777215));-1===g[ViewConstants.ah]&&-1===g[ViewConstants.ti]&&(g[ViewConstants.ah]=16777215-
g[ViewConstants.mj]);w=g[ViewConstants.ah];-1===w&&(w=g[ViewConstants.ti]);h.hb.red=w>>16;h.hb.green=w>>8&255;h.hb.blue=w&255;w=g[ViewConstants.mj];h.yb.Z.red=w>>16;h.yb.Z.green=w>>8&255;h.yb.Z.blue=w&255;w=g[ViewConstants.Ku];-1===w&&(w=g[ViewConstants.mj]);h.yb.aa.red=w>>16;h.yb.aa.green=w>>8&255;h.yb.aa.blue=w&255;w=g[ViewConstants.ti];-1===w&&(w=g[ViewConstants.ah]);h.mb.aa.red=w>>16;h.mb.aa.green=w>>8&255;h.mb.aa.blue=w&255;w=g[ViewConstants.kr];-1===w&&(w=g[ViewConstants.ti],-1===w&&(w=g[ViewConstants.ah]));
h.mb.Z.red=w>>16;h.mb.Z.green=w>>8&255;h.mb.Z.blue=w&255;w=g[ViewConstants.ah];-1===w&&(w=g[ViewConstants.ti]);h.Si.red=w>>16;h.Si.green=w>>8&255;h.Si.blue=w&255;w=g[ViewConstants.mj];h.wg.red=w>>16;h.wg.green=w>>8&255;h.wg.blue=w&255;w=g[ViewConstants.ti];-1===w&&(w=g[ViewConstants.ah]);h.Jc.aa.red=w>>16;h.Jc.aa.green=w>>8&255;h.Jc.aa.blue=w&255;w=g[ViewConstants.kr];-1===w&&(w=g[ViewConstants.ti],-1===w&&(w=g[ViewConstants.ah]));h.Jc.Z.red=w>>16;h.Jc.Z.green=w>>8&255;h.Jc.Z.blue=w&255;w=g[ViewConstants.Mu];
-1===w?h.hm=!0:(h.hm=!1,h.ac.aa.red=w>>16,h.ac.aa.green=w>>8&255,h.ac.aa.blue=w&255);w=g[ViewConstants.Vy];-1===w&&(w=g[ViewConstants.Mu],-1===w&&(w=g[ViewConstants.ah]));h.ac.Z.red=w>>16;h.ac.Z.green=w>>8&255;h.ac.Z.blue=w&255;h.PN(g[ViewConstants.lr],g[ViewConstants.mr])},Zw:function(w,h){var g=w;w.length>h&&(g=w.substr(0,h-1)+"...");return g},vH:function(w,h,g,p){var k=w.indexOf("\\n");-1!==k&&(g?h[h.length]=[Keywords.Lq+" "+Keywords.xd+this.Zw(w,23)+Keywords.xd,"only one line allowed"]:(k=w.substr(k+
2).indexOf("\\n"),-1===k||p||(h[h.length]=[Keywords.xd+this.Zw(w,23),"only two lines allowed"])))},wB:function(w,h,g,p){var k=Keywords.Jl+" ",a="overwrites ";k=g>=w.g.Ue?k+Keywords.Kq:k+g;a=p>=w.g.Ue?a+Keywords.Kq:a+p;h[h.length]=[k,a]},wp:function(w,h,g,p,k,a,c){var d=0,e=0,m=0;if(h.K())if(d=h.L()|0,0>d||255<d)g[g.length]=[k+" "+c+" "+d,"RED out of range"],a=!0;else if(h.K())if(e=h.L()|0,0>e||255<e)g[g.length]=[k+" "+c+" "+d+" "+e,"GREEN out of range"],a=!0;else if(h.K()){if(m=h.L()|0,0>m||255<m)g[g.length]=
[k+" "+c+" "+d+" "+e+" "+m,"BLUE out of range"],a=!0}else this.ko(h,g,k+" "+c+" "+d+" "+e,"BLUE","numeric"),a=!0;else this.ko(h,g,k+" "+c+" "+d,"GREEN","numeric"),a=!0;else{var n=h.Ia();var q=ColourManager.zg[n.toLowerCase()];void 0!==q?(h.V(),d=q[1],e=q[2],m=q[3]):(a=!0,""===n||this.bo(n)?g[g.length]=[k+" "+c,"name missing"]:(g[g.length]=[k+" "+c+" "+n,"name not known"],h.V()))}a||(-1!==w.ec[p]&&(g[g.length]=[k+" "+c+" "+d+" "+e+" "+m,"overwrites "+(w.ec[p]>>16)+" "+(w.ec[p]>>8&255)+" "+(w.ec[p]&
255)]),w.ec[p]=d<<16|e<<8|m)},Qk:function(w,h){var g=Keywords.ug+String(h);w=w.j.OK(h);-1!==w&&(g=w.toFixed(1));return g},Jq:function(w,h){var g="",p=h.indexOf(Keywords.ug);if(-1===p)g=h;else{for(;-1!==p;)if(g+=h.substr(0,p),p+1<h.length){var k=h[p+1];h=h.substr(p+2);switch(k){case "B":g+=ViewConstants.sx;break;case "N":g+=w.kq;break;case "R":g+=w.Ab;break;case "A":g=""===w.Vc?g+w.Ab:g+w.Vc;break;case "O":g+=w.Es;break;case "T":g+=ViewConstants.wK;break;case "0":g+=this.Qk(w,0);break;case "1":g+=
this.Qk(w,1);break;case "2":g+=this.Qk(w,2);break;case "3":g+=this.Qk(w,3);break;case "4":g+=this.Qk(w,4);break;case "5":g+=this.Qk(w,5);break;case "6":g+=this.Qk(w,6);break;case "7":g+=this.Qk(w,7);break;case "8":g+=this.Qk(w,8);break;case "9":g+=this.Qk(w,9);break;case Keywords.ug:g+=Keywords.ug;break;default:g+=Keywords.ug+k}p=h.indexOf(Keywords.ug)}else h=h.substr(p+1),p=-1;g+=h}return g},Gi:function(w,h,g,p){p[p.length]=w?h===Keywords.Sh?[h+" "+g,"already defined"]:[h+" "+g,"overwrites "+Keywords.Sh]:
h===Keywords.Sh?[h+" "+g,"overwrites "+Keywords.hj]:[h+" "+g,"already defined"]},Ri:function(w,h){var g="";w===(w|0)?g=String(w):g=w.toFixed(h);return g},PO:function(w){var h=w.substr(0,1);w=w.substr(1);var g=!1;if("B"===h||"S"===h){this.CD=h;h=0;for(g=!0;g&&h<w.length;)"0"<=w[h]&&"9">=w[h]?h+=1:g=!1;g&&(this.Bx=Number(w))}return g},FN:function(w,h){if("B"===this.CD){var g=w.Wh.length;w.Wh[g]=this.Bx;w.Wh[g+1]=h}else g=w.Jj.length,w.Jj[g]=this.Bx,w.Jj[g+1]=h},pM:function(w,h,g){var p=new Script(h,
!1),k=!1,a=!1,c="",d="",e="",m="",n=!1,q="",u=0,y=!1,v=!1,r=w.od,B=null,b=0,l=0,f="",t=!1,x=w.X.vp(),z=null,A=!1,C=!1,I=null,G=1,F=ViewConstants.ND,E=-1,D=-1,H=0,N=0,K=!1,P=!1,J=0,S=0,X=-1,U=0,L=0,ja=null,W=1,ma=ViewConstants.ND,sa=ViewConstants.cJ,ca=-1,V=-1,ea=0,fa=0,qa=!1,na=!1,T=0,Q=0,Y=-1,ia=0,la=0,ba=null,M=1,O=ViewConstants.IL,oa=!1,Z=-1,R=-1,pa=0,ya=0,wa=!1,va=!1,ka=0,aa=0,ha=-1,da=0,ua=0,ta=!1,xa=!1,ra="numeric",za=-1,Fa=-1,Ca=-1,Ka=-1,Ja=-1,Na=-1,Ha=0,La=0,Ra=0,Sa=0,Aa=0,Da=0,Ba=0,Oa=0,
Ea=0,lb=0,mb=0,Ma=[],Ia=0,nb=new Pattern("decode",w.D),Za=!1,$a=!1,ab=!1,bb=!1,cb=!1,db=!1,Ua=!1,eb=!1,fb=!1,Va=!1,Wa=!1,gb=!1,hb=!1,ib=!1,jb=!1;w.X.Kr=!1;w.no=0;w.FA=0;w.Ju=!1;w.Nh=!1;w.ta[ViewConstants.ah]=-1;w.ta[ViewConstants.mj]=-1;w.ta[ViewConstants.Ku]=-1;w.ta[ViewConstants.ti]=-1;w.ta[ViewConstants.kr]=-1;w.ta[ViewConstants.lr]=-1;w.ta[ViewConstants.mr]=-1;w.ta[ViewConstants.Tu]=-1;w.ta[ViewConstants.Uu]=-1;w.ta[ViewConstants.Lu]=-1;w.ta[ViewConstants.Qu]=-1;w.ta[ViewConstants.Pu]=-1;w.ta[ViewConstants.Ou]=
-1;w.ta[ViewConstants.Ru]=-1;w.ta[ViewConstants.Su]=-1;w.ta[ViewConstants.Nu]=-1;w.ta[ViewConstants.nr]=-1;w.ta[ViewConstants.sr]=-1;w.ta[ViewConstants.qr]=-1;w.ta[ViewConstants.tr]=-1;w.ta[ViewConstants.vr]=-1;w.ta[ViewConstants.ur]=-1;w.ta[ViewConstants.rr]=-1;w.ta[ViewConstants.jr]=-1;w.ta[ViewConstants.pr]=-1;w.ec=null;if(-1!==p.xE()){w.ec=w.g.u.P(Int32,256,"View.customColours");w.ec.fill(-1);for(c=p.V();""!==c;){ra="numeric";if(n)c[c.length-1]===Keywords.xd?(q=q+" "+c.substr(0,c.length-1),n=
!1,this.vH(q,r,a,ta),a?(""!==w.Ti&&(r[r.length]=[Keywords.Lq+" "+Keywords.xd+this.Zw(q,20)+Keywords.xd,"overwrites "+Keywords.xd+w.Ti+Keywords.xd]),w.Ti=q,a=!1):ta?(ba.message=this.Jq(w,q),ta=!1,w.X.FD(ba)):(x.Tf=this.Jq(w,q),x.tC=!0)):q=q+" "+c;else if(c[0]===Keywords.xd)q=c.substr(1),n=!0,c[c.length-1]===Keywords.xd&&(n=!1,q=q.substr(0,q.length-1),this.vH(q,r,a,ta),a?(""!==w.Ti&&(r[r.length]=[Keywords.Lq+" "+Keywords.xd+this.Zw(q,20)+Keywords.xd,"overwrites "+Keywords.xd+w.Ti+Keywords.xd]),w.Ti=
q,a=!1):ta?(ba.message=this.Jq(w,q),ta=!1,w.X.FD(ba)):(x.Tf=this.Jq(w,q),x.tC=!0));else{y=v=!1;w.no+=1;switch(c){case Keywords.Lq:y=a=!0;break;case Keywords.pB:p.K()&&(v=!0,u=p.L(),u>=ViewConstants.bw&&u<=ViewConstants.Wv&&(F=u,y=!0));break;case Keywords.sG:p.K()?(v=!0,u=p.L(),u>=ViewConstants.ih&&u<=ViewConstants.gh&&(Aa=u,v=!1,p.K()&&(v=!0,u=p.L(),u>=ViewConstants.ih&&u<=ViewConstants.gh&&(U=Aa,L=u,y=!0)))):(d=p.Ia(),d===Keywords.Ld&&(d=p.V(),L=U=0,y=!0));break;case Keywords.rB:p.K()?(v=!0,u=p.L(),
u>=-w.g.ma/2&&u<=w.g.ma/2&&(v=!1,Aa=u,p.K()&&(v=!0,u=p.L(),u>=-w.g.ma/2&&u<=w.g.ma/2&&(v=!1,Da=u,p.K()&&(v=!0,u=p.L(),0<=u&&u<=w.g.ma/2&&(J=Aa,S=Da,X=u,y=!0)))))):(d=p.Ia(),d===Keywords.Yb&&(d=p.V(),S=J=0,X=-1,y=!0));break;case Keywords.nB:p.K()&&(v=!0,u=p.L(),0<=u&&360>u&&(N=u,K=!1,d=p.Ia(),d===Keywords.Ld&&(d=p.V(),K=!0),y=!0));break;case Keywords.qB:p.K()?(v=!0,u=p.L()|0,0<=u&&(Aa=u,p.K()?(u=p.L()|0,u>=Aa?(Da=u,p.K()?(u=p.L()|0,0<=u&&u<=Da-Aa>>1?(E=Aa,D=Da,H=u,y=!0):(y=!0,r[r.length]=[c+" "+Aa+
" "+Da+" "+u,"third argument must from 0 to "+(Da-Aa>>1)])):v=!1):(y=!0,r[r.length]=[c+" "+Aa+" "+u,"second argument must be >= first"])):v=!1)):(d=p.Ia(),d===Keywords.xg?(d=p.V(),D=E=-1,H=0,y=!0):v=!1);break;case Keywords.mB:p.K()&&(v=!0,u=p.L(),0<=u&&1>=u&&(G=u,y=!0));break;case Keywords.oB:case Keywords.rw:Ma=[];y=!0;Ba=-1E3;for(Ea=Oa=-2E3;y&&p.K();)Aa=p.L(),p.K()?(Da=p.L(),Aa>=-w.g.ma&&Aa<2*w.g.ma&&Da>=-w.g.ma&&Da<2*w.g.ma?(Ma[Ma.length]=Aa,Ma[Ma.length]=Da):(r[r.length]=[c+" "+Aa+" "+Da,"coordinate out of range"],
Ba=0,y=!1)):Aa>=ViewConstants.za&&Aa<=ViewConstants.$a?Ba=Aa:Aa>=ViewConstants.Cj&&Aa<=ViewConstants.Aj?Ba=-(1/Aa):(r[r.length]=[c+" "+Aa,"zoom out of range"],Ba=0,y=!1);-1E3===Ba&&(4<Ma.length?(Aa=Ma[Ma.length-2],Aa>=ViewConstants.za&&Aa<=ViewConstants.$a?Ba=Aa:Aa>=ViewConstants.Cj&&Aa<=ViewConstants.Aj?Ba=-(1/Aa):(r[r.length]=[c+" "+Aa,"zoom out of range"],Ba=0,y=!1),y&&(Aa=Ma[Ma.length-1],Aa>=ViewConstants.za&&Aa<=ViewConstants.$a?Ea=Aa:Aa>=ViewConstants.Cj&&Aa<=ViewConstants.Aj?Ea=-(1/Aa):(r[r.length]=
[c+" "+Aa,"zoom out of range"],Ea=0,y=!1)),y&&(Ma=Ma.slice(0,Ma.length-2))):(r[r.length]=[c,"missing zoom value"],y=!1));y&&4>Ma.length&&(r[r.length]=[c,"requires at least 2 coordinate pairs"],y=!1);y?(d=p.Ia(),P=!1,d===Keywords.Ld&&(d=p.V(),P=!0,d=p.Ia()),I=w.X.QJ(Ma,c===Keywords.rw,Ba,Oa,Ea,w.Sy,G,F,E,D,H,N,K,P,J,S,X,U,L),w.X.MI(I)):y=!0;break;case Keywords.oy:p.K()&&(v=!0,u=p.L(),u>=ViewConstants.bw&&u<=ViewConstants.Wv&&(Aa=u,v=!1,p.K()&&(v=!0,u=p.L(),0<=u&&1>=u&&(sa=u,ma=Aa,y=!0))));break;case Keywords.ry:p.K()?
(v=!0,u=p.L(),u>=ViewConstants.ih&&u<=ViewConstants.gh&&(Aa=u,v=!1,p.K()&&(v=!0,u=p.L(),u>=ViewConstants.ih&&u<=ViewConstants.gh&&(ia=Aa,la=u,y=!0)))):(d=p.Ia(),d===Keywords.Ld&&(d=p.V(),la=ia=0,y=!0));break;case Keywords.qy:p.K()?(v=!0,u=p.L(),u>=-w.g.ma/2&&u<=w.g.ma/2&&(v=!1,Aa=u,p.K()&&(v=!0,u=p.L(),u>=-w.g.ma/2&&u<=w.g.ma/2&&(v=!1,Da=u,p.K()&&(v=!0,u=p.L(),0<=u&&u<=w.g.ma/2&&(T=Aa,Q=Da,Y=u,y=!0)))))):(d=p.Ia(),d===Keywords.Yb&&(d=p.V(),Q=T=0,Y=-1,y=!0));break;case Keywords.ny:p.K()&&(v=!0,u=p.L(),
0<=u&&360>u&&(fa=u,qa=!1,d=p.Ia(),d===Keywords.Ld&&(d=p.V(),qa=!0),y=!0));break;case Keywords.py:p.K()?(v=!0,u=p.L()|0,0<=u&&(Aa=u,p.K()?(u=p.L()|0,u>=Aa?(Da=u,p.K()?(u=p.L()|0,0<=u&&u<=Da-Aa>>1?(ca=Aa,V=Da,ea=u,y=!0):(y=!0,r[r.length]=[c+" "+Aa+" "+Da+" "+u,"third argument must from 0 to "+(Da-Aa>>1)])):v=!1):(y=!0,r[r.length]=[c+" "+Aa+" "+u,"second argument must be >= first"])):v=!1)):(d=p.Ia(),d===Keywords.xg?(d=p.V(),V=ca=-1,ea=0,y=!0):v=!1);break;case Keywords.my:p.K()&&(v=!0,u=p.L(),0<=u&&
1>=u&&(W=u,y=!0));break;case Keywords.Xq:p.K()&&(v=!0,u=p.L(),u>=-w.g.ma&&u<2*w.g.ma&&(v=!1,Aa=u,p.K()&&(v=!0,u=p.L(),u>=-w.g.ma&&u<2*w.g.ma&&(v=!1,Da=u,p.K()&&(v=!0,u=p.L(),u>=-w.g.ma&&u<2*w.g.ma&&(v=!1,lb=u,p.K()&&(v=!0,u=p.L(),u>=-w.g.ma&&u<2*w.g.ma&&(v=!1,mb=u,p.K()&&(v=!0,u=p.L(),Ba=-1E3,u>=ViewConstants.za&&u<=ViewConstants.$a?Ba=u:u>=ViewConstants.Cj&&u<=ViewConstants.Aj&&(Ba=-(1/u)),-1E3!==Ba&&(Ea=Oa=-2E3,p.K()&&(v=!0,u=p.L(),Ea=-1E3,u>=ViewConstants.za&&u<=ViewConstants.$a?Ea=u:u>=ViewConstants.Cj&&
u<=ViewConstants.Aj&&(Ea=-(1/u))),-1E3!==Ea&&p.K()&&(v=!0,u=p.L(),Oa=Ea,Ea=-1E3,u>=ViewConstants.za&&u<=ViewConstants.$a?Ea=u:u>=ViewConstants.Cj&&u<=ViewConstants.Aj&&(Ea=-(1/u)),-1E3!==Ea&&Ea<Oa&&(Ea=-1E3)),-1E3!==Ea&&(d=p.Ia(),na=!1,d===Keywords.Ld&&(d=p.V(),na=!0,d=p.Ia()),ja=w.X.LJ(Aa,Da,lb,mb,Ba,Oa,Ea,w.Qy,W,ma,sa,ca,V,ea,fa,qa,na,T,Q,Y,ia,la),w.X.JI(ja),y=!0)))))))))));break;case Keywords.Xz:p.K()&&(v=!0,u=p.L(),u>=ViewConstants.zF&&u<=ViewConstants.rF&&(O=u,y=!0,d=p.Ia(),d===Keywords.Ld?(d=
p.V(),oa=!0):oa=!1));break;case Keywords.$z:p.K()?(v=!0,u=p.L(),u>=ViewConstants.ih&&u<=ViewConstants.gh&&(Aa=u,v=!1,p.K()&&(v=!0,u=p.L(),u>=ViewConstants.ih&&u<=ViewConstants.gh&&(da=Aa,ua=u,y=!0)))):(d=p.Ia(),d===Keywords.Ld&&(d=p.V(),ua=da=0,y=!0));break;case Keywords.Zz:p.K()?(v=!0,u=p.L(),u>=-w.g.ma/2&&u<=w.g.ma/2&&(v=!1,Aa=u,p.K()&&(v=!0,u=p.L(),u>=-w.g.ma/2&&u<=w.g.ma/2&&(v=!1,Da=u,p.K()&&(v=!0,u=p.L(),0<=u&&u<=w.g.ma/2&&(ka=Aa,aa=Da,ha=u,y=!0)))))):(d=p.Ia(),d===Keywords.Yb&&(d=p.V(),aa=ka=
0,ha=-1,y=!0));break;case Keywords.Wz:p.K()&&(v=!0,u=p.L(),0<=u&&360>u&&(ya=u,wa=!1,d=p.Ia(),d===Keywords.Ld&&(d=p.V(),wa=!0),y=!0));break;case Keywords.Yz:p.K()?(v=!0,u=p.L()|0,0<=u&&(Aa=u,p.K()?(u=p.L()|0,u>=Aa?(Da=u,p.K()?(u=p.L()|0,0<=u&&u<=Da-Aa>>1?(Z=Aa,R=Da,pa=u,y=!0):(y=!0,r[r.length]=[c+" "+Aa+" "+Da+" "+u,"third argument must from 0 to "+(Da-Aa>>1)])):v=!1):(y=!0,r[r.length]=[c+" "+Aa+" "+u,"second argument must be >= first"])):v=!1)):(d=p.Ia(),d===Keywords.xg?(d=p.V(),R=Z=-1,pa=0,y=!0):
v=!1);break;case Keywords.Vz:p.K()&&(v=!0,u=p.L(),0<=u&&1>=u&&(M=u,y=!0));break;case Keywords.fs:p.K()&&(v=!0,u=p.L(),u>=-w.g.ma&&u<2*w.g.ma&&(v=!1,Aa=u,p.K()&&(v=!0,u=p.L(),u>=-w.g.ma&&u<2*w.g.ma&&(v=!1,Da=u,p.K()&&(v=!0,u=p.L(),Ba=-1E3,u>=ViewConstants.za&&u<=ViewConstants.$a?Ba=u:u>=ViewConstants.Cj&&u<=ViewConstants.Aj&&(Ba=-(1/u)),-1E3!==Ba&&(Ea=Oa=-2E3,p.K()&&(v=!0,u=p.L(),Ea=-1E3,u>=ViewConstants.za&&u<=ViewConstants.$a?Ea=u:u>=ViewConstants.Cj&&u<=ViewConstants.Aj&&(Ea=-(1/u))),-1E3!==Ea&&
p.K()&&(v=!0,u=p.L(),Oa=Ea,Ea=-1E3,u>=ViewConstants.za&&u<=ViewConstants.$a?Ea=u:u>=ViewConstants.Cj&&u<=ViewConstants.Aj&&(Ea=-(1/u)),-1E3!==Ea&&Ea<Oa&&(Ea=-1E3)),-1E3!==Ea&&(d=p.Ia(),va=!1,d===Keywords.Ld&&(d=p.V(),va=!0,d=p.Ia()),d[0]===Keywords.xd?(ba=w.X.OJ(Aa,Da,Ba,Oa,Ea,w.Ry,M,O,oa,Z,R,pa,ya,wa,va,ka,aa,ha,da,ua),y=ta=!0):v=!1)))))));break;case Keywords.vB:y=w.g.nh=!0;break;case Keywords.Uz:y=w.g.kj=!0;break;case Keywords.vq:y=!1;d=p.V();if(""!==d){for(w.uq=[];p.K();)u=p.L(),w.uq[w.uq.length]=
u;w.LI(r,d,w.uq);w.uq=[];y=!0}break;case Keywords.Eo:y=!1;d=p.V();if(""!==d&&(e=p.Ia(),""!==e)){p.V();for(m=p.Ia();""!==m&&!this.bo(m)&&!p.K()&&-1!==w.D.xp(nb,m,!1,w.g.u);)p.V(),e+=m,m=p.Ia();Da=Aa=0;p.K()&&(v=!0,Aa=p.L());p.K()&&(v=!0,Da=p.L());Ba=-1;m=p.Ia();if(""!==m){switch(m){case Keywords.WC:Ba=ViewConstants.st;break;case Keywords.TC:Ba=ViewConstants.MC;break;case Keywords.UC:Ba=ViewConstants.NC;break;case Keywords.VC:Ba=ViewConstants.OC;break;case Keywords.ZC:Ba=ViewConstants.RC;break;case Keywords.$C:Ba=
ViewConstants.SC;break;case Keywords.YC:Ba=ViewConstants.QC;break;case Keywords.XC:Ba=ViewConstants.PC}-1!==Ba&&p.V()}-1===Ba&&(Ba=ViewConstants.st);w.KI(r,d,e,Aa,Da,Ba);y=!0}break;case Keywords.jq:e=p.Ia();if(""!==e){p.V();for(m=p.Ia();""!==m&&!this.bo(m)&&!p.K()&&-1!==w.D.xp(nb,m,!1,w.g.u);)p.V(),e+=m,m=p.Ia();Da=Aa=0;p.K()&&(v=!0,Aa=p.L());p.K()&&(v=!0,Da=p.L());Ba=-1;m=p.Ia();if(""!==m){switch(m){case Keywords.WC:Ba=ViewConstants.st;break;case Keywords.TC:Ba=ViewConstants.MC;break;case Keywords.UC:Ba=
ViewConstants.NC;break;case Keywords.VC:Ba=ViewConstants.OC;break;case Keywords.ZC:Ba=ViewConstants.RC;break;case Keywords.$C:Ba=ViewConstants.SC;break;case Keywords.YC:Ba=ViewConstants.QC;break;case Keywords.XC:Ba=ViewConstants.PC}-1!==Ba&&p.V()}-1===Ba&&(Ba=ViewConstants.st);w.OI(w.hq,w.zs,w.gq,w.As,w.$c,w.JA,w.KA,e,Aa,Da,Ba)||(r[r.length]=[Keywords.jq+" "+e,"invalid name or rle"]);y=!0}break;case Keywords.IA:p.K()&&(v=!0,u=p.L(),-4096<=u&&4096>=u&&(w.JA=u,v=!1,p.K()&&(v=!0,u=p.L(),-4096<=u&&4096>=
u&&(w.KA=u,y=!0))));break;case Keywords.Cs:if(p.K()){if(v=!0,u=p.L(),0<=u){w.hq=u;w.As=0;w.zs=-1;w.gq=[];for(k=!0;k;)p.K()?(u=p.L(),w.gq[w.gq.length]=u):(d=p.Ia(),w.QI(d,w.gq)?p.V():k=!1);y=!0}}else d=p.Ia(),d===Keywords.Br&&(d=p.V(),p.K()&&(v=!0,u=p.L(),1<=u&&(w.As=u,w.hq=0,w.zs=-1,p.K()?(u=p.L(),0<=u&&(w.hq=u,p.K()?(u=p.L(),u>=w.hq+w.As&&(w.zs=u,y=!0)):y=!0)):y=!0)));break;case Keywords.gH:y=x.Op=!0;break;case Keywords.YA:y=!0;v=!1;ra="paste mode";d=p.Ia();switch(d){case Keywords.dB:w.$c=ViewConstants.aG;
break;case Keywords.QA:w.$c=ViewConstants.PA;break;case Keywords.LA:w.$c=ViewConstants.PF;break;case Keywords.$A:w.$c=ViewConstants.YF;break;case Keywords.MA:w.$c=ViewConstants.QF;break;case Keywords.cB:w.$c=ViewConstants.$F;break;case Keywords.bB:w.$c=ViewConstants.aB;break;case Keywords.XA:w.$c=ViewConstants.Bs;break;case Keywords.TA:w.$c=ViewConstants.UF;break;case Keywords.ZA:w.$c=ViewConstants.ZF;break;case Keywords.VA:w.$c=ViewConstants.WF;break;case Keywords.NA:w.$c=ViewConstants.RF;break;
case Keywords.UA:w.$c=ViewConstants.VF;break;case Keywords.OA:w.$c=ViewConstants.SF;break;case Keywords.SA:w.$c=ViewConstants.TF;break;case Keywords.WA:w.$c=ViewConstants.XF;break;case Keywords.RA:w.$c=ViewConstants.lw;break;default:if(4===d.length){for(Ia=u=0;4>Ia&&y;){u<<=1;switch(d.substr(Ia,1)){case "1":u|=1;break;case "0":break;default:y=!1}Ia+=1}y&&(w.$c=u)}else p.K()?(v=!0,u=p.L()|0,0<=u&&15>=u?w.$c=u:y=!1):y=!1}y&&!v&&p.V();break;case Keywords.Gz:y=w.Bi=!0;break;case Keywords.zA:w.Hj=!1;y=
!0;break;case Keywords.yA:y=w.Pd=!0;break;case Keywords.AA:w.Ep=!1;y=!0;break;case Keywords.kA:p.K()&&(v=!0,u=p.L()|0,u>=ViewConstants.yF&&u<=ViewConstants.qF&&(w.g.ma=1<<u,y=!0));break;case Keywords.et:d=p.Ia();d===Keywords.Yb?(d=p.V(),x.gn=!1):x.gn=!0;y=x.dx=!0;break;case Keywords.pu:d=p.Ia();d===Keywords.Yb?(d=p.V(),x.nf=!1):x.nf=!0;y=!0;break;case Keywords.Bv:p.K()&&(v=!0,u=p.L()|0,0<=u&&u<=w.os&&(w.O=u,y=!0));break;case Keywords.iu:p.K()&&(v=!0,u=p.L()|0,0<=u&&u<=w.os&&(w.dj=u,y=!0));break;case Keywords.Hz:d=
p.Ia();d===Keywords.Yb?(d=p.V(),w.Ci=!1):w.Ci=!0;y=!0;break;case Keywords.Ir:d=p.Ia();d===Keywords.Yb?(d=p.V(),x.jd=!1):x.jd=!0;y=x.kl=!0;break;case Keywords.Hr:p.K()&&(v=!0,u=p.L()|0,u>=ViewConstants.TL&&u<=ViewConstants.OL&&(w.g.pf=u,y=w.Ju=!0));break;case Keywords.Oa:case Keywords.Gy:f=c;xa=!1;if(p.K()){l=p.L()|0;if(0>l||255<l)r[r.length]=[c+" "+l,"STATE out of range"],xa=!0;this.wp(w,p,r,l,c,xa,l)}else switch(d=p.Ia(),d){case Keywords.KF:this.jc(w,p,r,ViewConstants.ah,f);break;case Keywords.LF:this.jc(w,
p,r,ViewConstants.mj,f);break;case Keywords.SE:this.jc(w,p,r,ViewConstants.ti,f);break;case Keywords.gF:d=p.V();this.wp(w,p,r,ViewConstants.hF,c,!1,d);break;case Keywords.kF:d=p.V();this.wp(w,p,r,ViewConstants.lF,c,!1,d);break;case Keywords.iF:d=p.V();this.wp(w,p,r,ViewConstants.jF,c,!1,d);break;case Keywords.ZE:d=p.V();this.wp(w,p,r,ViewConstants.$E,c,!1,d);break;case Keywords.hx:this.jc(w,p,r,ViewConstants.ah,f);break;case Keywords.gx:this.jc(w,p,r,ViewConstants.mj,f);break;case Keywords.uC:this.jc(w,
p,r,ViewConstants.Ku,f);break;case Keywords.jx:this.jc(w,p,r,ViewConstants.ti,f);break;case Keywords.ix:this.jc(w,p,r,ViewConstants.kr,f);break;case Keywords.wC:this.jc(w,p,r,ViewConstants.Mu,f);break;case Keywords.vC:this.jc(w,p,r,ViewConstants.Vy,f);break;case Keywords.Ir:this.jc(w,p,r,ViewConstants.lr,f);break;case Keywords.Hr:this.jc(w,p,r,ViewConstants.mr,f);break;case Keywords.et:this.jc(w,p,r,ViewConstants.Tu,f);break;case Keywords.sC:this.jc(w,p,r,ViewConstants.Uu,f);break;case Keywords.pz:this.jc(w,
p,r,ViewConstants.Nu,f);break;case Keywords.fs:this.jc(w,p,r,ViewConstants.nr,f);break;case Keywords.Xq:this.jc(w,p,r,ViewConstants.jr,f);break;case Keywords.tG:this.jc(w,p,r,ViewConstants.pr,f);break;case Keywords.QD:this.jc(w,p,r,ViewConstants.Lu,f);break;case Keywords.SD:this.jc(w,p,r,ViewConstants.Uy,f);break;case Keywords.WG:this.jc(w,p,r,ViewConstants.Xy,f);break;case Keywords.jq:this.jc(w,p,r,ViewConstants.Wy,f);break;case Keywords.ID:this.jc(w,p,r,ViewConstants.Ty,f);break;case Keywords.IE:this.jc(w,
p,r,ViewConstants.Qu,f);break;case Keywords.HE:this.jc(w,p,r,ViewConstants.Pu,f);break;case Keywords.GE:this.jc(w,p,r,ViewConstants.Ou,f);break;case Keywords.JE:this.jc(w,p,r,ViewConstants.Ru,f);break;case Keywords.KE:this.jc(w,p,r,ViewConstants.Su,f);break;case Keywords.oH:this.jc(w,p,r,ViewConstants.sr,f);break;case Keywords.mH:this.jc(w,p,r,ViewConstants.qr,f);break;case Keywords.pH:this.jc(w,p,r,ViewConstants.tr,f);break;case Keywords.sH:this.jc(w,p,r,ViewConstants.vr,f);break;case Keywords.qH:this.jc(w,
p,r,ViewConstants.ur,f);break;case Keywords.nH:this.jc(w,p,r,ViewConstants.rr,f);break;default:if('"'===d.charAt(0)){d=p.V();do e=p.V(),d+=" "+e;while(""!==e&&'"'!==e.charAt(e.length-1))}else d=p.V();l=w.MK(d);-1!==l&&this.wp(w,p,r,l,c,xa,d);-1===l&&(r[r.length]=[c+" "+d,"illegal element"],d=p.V())}y=!0;break;case Keywords.Cq:-1===p.xE()&&p.qK();y=!0;--w.no;break;case Keywords.yt:y=w.Ta=!0;break;case Keywords.CA:y=w.BA=!0;break;case Keywords.NB:y=w.Qw=!0;break;case Keywords.DA:w.Ul=!1;y=!0;break;
case Keywords.qz:y=w.jv=!0;break;case Keywords.Lz:y=w.Wr=!0;break;case Keywords.xA:w.Sc=!0;y=w.hw=!0;break;case Keywords.wA:y=w.sl=!0;break;case Keywords.oC:y=jb=ib=hb=gb=Wa=Va=fb=eb=Ua=db=cb=bb=ab=$a=Za=!0;break;case Keywords.Yb:r[r.length]=[Keywords.Yb,"must follow LOOP or STOP"];y=!0;break;case Keywords.xg:d=p.Ia();d===Keywords.mc?(d=p.V(),x.Rh?(w.X.BJ(x,r),w.RN()):r[r.length]=[Keywords.xg+" "+Keywords.mc,"only valid at a POI"]):r[r.length]=[Keywords.xg,"must be followed by INITIAL"];y=!0;break;
case Keywords.mc:r[r.length]=[Keywords.mc,"must follow POI, ALL or a POI setting"];y=!0;break;case Keywords.iC:p.K()&&(v=!0,u=p.L()|0,0<=u&&u<=ViewConstants.vF&&(w.Ug=u,y=!0));break;case Keywords.ru:d=p.Ia();d===Keywords.Yb?(d=p.V(),w.gf=!1):w.Ba&&(w.gf=!0);y=!0;break;case Keywords.pw:p.K()&&(v=!0,u=p.L()|0,0<=u&&(x.Rh?(x.fc=u,x.it=!0):r[r.length]=[Keywords.pw+" "+u,"only valid at a POI"],y=!0));break;case Keywords.pq:x.TN(r);y=!0;break;case Keywords.qq:x.XN(r);y=!0;break;case Keywords.Ms:x.UN(r);
y=!0;break;case Keywords.Ns:p.K()&&(v=!0,u=p.L(),u>=WaypointConstants.pG&&u<=WaypointConstants.oG&&(x.ZN(u,r),y=!0));break;case Keywords.lB:y=t=!0;break;case Keywords.Az:y=w.tv=!0;break;case Keywords.kC:d=p.Ia();d===Keywords.Yb?(d=p.V(),w.Mi=!1):w.Mi=!0;y=!0;break;case Keywords.rt:p.K()&&(v=!0,u=p.L(),u>=ViewConstants.ih&&u<=ViewConstants.gh&&(Ja=u,v=!1,c+=" "+u,p.K()&&(v=!0,u=p.L(),u>=ViewConstants.ih&&u<=ViewConstants.gh&&(Na=u,y=!0,w.oe&&(r[r.length]=[Keywords.rt+" "+Ja+" "+Na,"overwrites "+Fa+
" "+Ca]),Fa=Ja,Ca=Na,w.oe=!0))));break;case Keywords.qt:p.K()&&(v=!0,u=p.L()|0,0<u&&(Ka=u,v=!1,c+=" "+u,p.K()&&(v=!0,u=p.L(),u>=ViewConstants.ih&&u<=ViewConstants.gh&&(Ja=u,v=!1,c+=" "+u,p.K()&&(v=!0,u=p.L(),u>=ViewConstants.ih&&u<=ViewConstants.gh&&(Na=u,y=!0,w.fp&&(r[r.length]=[Keywords.qt+" "+Ka+" "+Ja+" "+Na,"overwrites "+za+" "+Fa+" "+Ca]),za=Ka,Fa=Ja,Ca=Na,w.fp=!0,w.oe=!0))))));break;case Keywords.ep:p.K()&&(v=!0,u=p.L(),u>=ViewConstants.ih&&u<=ViewConstants.gh&&(Ra=u,v=!1,c+=" "+u,p.K()&&(v=
!0,u=p.L(),u>=ViewConstants.ih&&u<=ViewConstants.gh&&(La=u,v=!1,c+=" "+u,p.K()&&(v=!0,u=p.L(),u>=ViewConstants.ih&&u<=ViewConstants.gh&&(Sa=u,v=!1,c+=" "+u,p.K()&&(v=!0,u=p.L(),u>=ViewConstants.ih&&u<=ViewConstants.gh&&(Ha=u,y=!0,Sa>Ra?r[r.length]=[Keywords.ep+" W "+this.Ri(Sa,2)+" E "+this.Ri(Ra,2),"W is greater than E"]:Ha>La?r[r.length]=[Keywords.ep+" N "+this.Ri(Ha,2)+" S "+this.Ri(La,2),"N is greater than S"]:(w.ap&&(r[r.length]=[Keywords.ep+" "+this.Ri(Ra,2)+" "+this.Ri(La,2)+" "+this.Ri(Sa,
2)+" "+this.Ri(Ha,2),"overwrites "+this.Ri(w.qn,2)+" "+this.Ri(w.rn,2)+" "+this.Ri(w.cp,2)+" "+this.Ri(w.bp,2)]),w.ap=!0,w.oe=!0,w.bp=Ha,w.qn=Ra,w.rn=La,w.cp=Sa)))))))));break;case Keywords.Vj:z=x;!x.Rh&&0<w.X.kM&&(x=w.X.Dr());p.K()?(v=!0,u=p.L()|0,0<u&&(!x.ln||w.tm||Wa||(r[r.length]=-1===x.dc?[Keywords.Vj+" "+u,"overwrites "+Keywords.Yb]:[Keywords.Vj+" "+u,"overwrites "+x.dc]),x.dc=u,x.ln=!0,Wa=w.tm=!1,y=!0)):(d=p.Ia(),d===Keywords.Yb?(d=p.V(),!x.ln||w.tm||Wa||(r[r.length]=-1!==x.dc||w.tm?[Keywords.Vj+
" "+Keywords.Yb,"overwrites "+x.dc]:[Keywords.Vj+" "+Keywords.Yb,"overwrites "+Keywords.Yb]),x.dc=-1,x.ln=!0,Wa=w.tm=!1,y=!0):d===Keywords.mc&&(d=p.V(),w.X.Jd(Keywords.Vj,x,r,w.tm),y=w.tm=!0));x=z;break;case Keywords.yj:z=x;!x.Rh&&0<w.X.Ua.length&&(x=w.X.Dr());p.K()?(v=!0,u=p.L()|0,0<u&&(!x.zm||w.Zn||Va||(r[r.length]=-1===x.ib?[Keywords.yj+" "+u,"overwrites "+Keywords.Yb]:[Keywords.yj+" "+u,"overwrites "+x.ib]),x.ib=u,x.zm=!0,Va=w.Zn=!1,y=!0)):(d=p.Ia(),d===Keywords.Yb?(d=p.V(),!x.zm||w.Zn||Va||(r[r.length]=
-1===x.ib?[Keywords.yj+" "+Keywords.Yb,"overwrites "+Keywords.Yb]:[Keywords.yj+" "+Keywords.Yb,"overwrites "+x.ib]),x.ib=-1,x.zm=!0,Va=w.Zn=!1,y=!0):d===Keywords.mc&&(d=p.V(),w.X.Jd(Keywords.yj,x,r,w.Zn),y=w.Zn=!0));x=z;break;case Keywords.Rl:p.K()?(v=!0,u=p.L()|0,0<=u&&359>=u&&(!x.Fh||w.Yr||bb||(r[r.length]=[Keywords.Rl+" "+u,"overwrites "+x.angle]),x.angle=u,x.Fh=!0,bb=w.Yr=!1,y=!0)):(d=p.Ia(),d===Keywords.mc&&(d=p.V(),w.X.Jd(Keywords.Rl,x,r,w.Yr),y=w.Yr=!0));break;case Keywords.fo:p.K()?(v=!0,
u=p.L()|0,u>=ViewConstants.aw&&u<=ViewConstants.Vv&&(!x.Fi||w.bs||cb||(r[r.length]=[Keywords.fo+" "+u,"overwrites "+x.W]),x.W=u,x.Fi=!0,cb=w.bs=!1,y=!0)):(d=p.Ia(),d===Keywords.mc&&(d=p.V(),w.X.Jd(Keywords.fo,x,r,w.bs),y=w.bs=!0));break;case Keywords.On:p.K()?(v=!0,u=p.L(),u>=ViewConstants.$v&&u<=ViewConstants.pF&&(!x.ui||w.Zr||db||(r[r.length]=[Keywords.On+" "+u,"overwrites "+x.depth]),x.depth=u,x.ui=!0,db=w.Zr=!1,y=!0)):(d=p.Ia(),d===Keywords.mc&&(d=p.V(),w.X.Jd(Keywords.On,x,r,w.Zr),y=w.Zr=!0));
break;case Keywords.wx:p.K()&&(v=!0,u=p.L(),u>=-w.g.ma/2&&u<=w.g.ma/2&&(w.Nb=u,y=!0));break;case Keywords.xx:p.K()&&(v=!0,u=p.L(),u>=-w.g.ma/2&&u<=w.g.ma/2&&(w.Ob=u,y=!0));break;case Keywords.yf:p.K()?(v=!0,u=p.L(),u>=-w.g.ma/2&&u<=w.g.ma/2&&(!x.Vf||w.ds||Za||(r[r.length]=[Keywords.yf+" "+u,"overwrites "+-x.x]),x.x=-u,x.Vf=!0,Za=w.ds=!1,y=!0)):(d=p.Ia(),d===Keywords.mc&&(d=p.V(),w.X.Jd(Keywords.yf,x,r,w.ds),y=w.ds=!0));break;case Keywords.Af:p.K()?(v=!0,u=p.L(),u>=-w.g.ma/2&&u<=w.g.ma/2&&(!x.zf||
w.es||$a||(r[r.length]=[Keywords.Af+" "+u,"overwrites "+-x.y]),x.y=-u,x.zf=!0,$a=w.es=!1,y=!0)):(d=p.Ia(),d===Keywords.mc&&(d=p.V(),w.X.Jd(Keywords.Af,x,r,w.es),y=w.es=!0));break;case Keywords.WE:y=w.VE=!0;break;case Keywords.FC:p.K()&&(v=!0,u=p.L(),u>=ViewConstants.za&&u<=ViewConstants.$a?(w.lx=!0,w.EC=u,y=!0):u>=ViewConstants.Cj&&u<=ViewConstants.Aj&&(w.lx=!0,w.EC=-(1/u),y=!0));break;case Keywords.jy:case Keywords.Xd:p.K()?(v=!0,u=p.L(),u>=ViewConstants.za&&u<=ViewConstants.$a?(!x.Wd||w.$n||ab||
(r[r.length]=1>x.zoom?[Keywords.Xd+" "+u,"overwrites "+-(1/x.zoom)]:[Keywords.Xd+" "+u,"overwrites "+x.zoom]),x.zoom=u,x.Wd=!0,ab=w.$n=!1,y=!0):u>=ViewConstants.Cj&&u<=ViewConstants.Aj&&(x.Wd&&!w.$n&&(r[r.length]=1>x.zoom?[Keywords.Xd+" "+u,"overwrites "+-(1/x.zoom)]:[Keywords.Xd+" "+u,"overwrites "+x.zoom]),x.zoom=-(1/u),x.Wd=!0,w.$n=!1,y=!0)):(d=p.Ia(),d===Keywords.mc&&(d=p.V(),w.X.Jd(Keywords.Xd,x,r,w.$n),y=w.$n=!0));break;case Keywords.Xn:p.K()?(v=!0,u=p.L()|0,u>=ViewConstants.hh&&u<=ViewConstants.Bm&&
(!x.yi||w.$r||eb||(r[r.length]=[Keywords.Xn+" "+u,"overwrites "+x.Cc]),x.Cc=u,x.yi=!0,eb=w.$r=!1,y=!0)):(d=p.Ia(),d===Keywords.mc&&(d=p.V(),w.X.Jd(Keywords.Xn,x,r,w.$r),y=w.$r=!0));break;case Keywords.GC:d=p.Ia();d===Keywords.Yb?(d=p.V(),w.Bd||(w.vb=!1,w.Kl=!1)):w.Bd||(w.vb=!0,w.Kl=!0);y=!0;break;case Keywords.DC:y=w.CC=!0;break;case Keywords.zC:d=p.Ia();d===Keywords.Yb?(d=p.V(),w.Bd||(w.vb=!1,w.Kl=!1,w.Xj=!1,w.j.Xj=!1)):w.Bd||(w.vb=!0,w.Kl=!0,w.Xj=!0,w.j.Xj=!0);y=!0;break;case Keywords.BC:p.K()&&
(v=!0,u=p.L()|0,u>=ViewConstants.DF&&u<=ViewConstants.wF&&(w.Ge=u,y=!0));break;case Keywords.Jl:p.K()?(v=!0,u=p.L()|0,0<=u&&u<w.g.Ue&&(!x.sg||w.nl||Ua||this.wB(w,r,u,x.Gc),x.Gc=u,x.sg=!0,Ua=w.nl=!1,y=!0)):(d=p.Ia(),d===Keywords.Kq?(d=p.V(),w.Nh?(x.sg&&!w.nl&&this.wB(w,r,w.g.Ue,x.Gc),x.Gc=w.g.Ue,x.sg=!0,w.nl=!1):r[r.length]=[Keywords.Jl+" "+Keywords.Kq,"no custom THEME defined"],y=!0):(u=w.sO(d),-1!==u?(d=p.V(),!x.sg||w.nl||Ua||this.wB(w,r,u,x.Gc),x.Gc=u,x.sg=!0,Ua=w.nl=!1,y=!0):d===Keywords.mc&&(d=
p.V(),w.X.Jd(Keywords.Jl,x,r,w.nl),y=w.nl=!0)));break;case Keywords.zG:y=w.g.Qd=!0;break;case Keywords.Io:r[r.length]=[c,"already in a script block"];y=!0;break;case Keywords.dC:w.kd=!w.kd;y=!0;break;case Keywords.eC:w.Dp.current=w.wn([!0],!0,w);y=!0;break;case Keywords.rz:w.nt.current=w.sD([!0],!0,w);y=!0;break;case Keywords.cC:w.ux([!0],!0,w);w.Pe&&(w.Pe.current=[w.rh],w.j.Uf=!0);y=!0;break;case Keywords.fz:p.K()&&(v=!0,u=p.L()|0,u>=ViewConstants.xF&&u<=ViewConstants.oF&&(y=!0,w.g.Ws=u));break;
case Keywords.iw:y=w.Dc=!0;break;case Keywords.nv:y=w.ad=!0;break;case Keywords.xz:p.K()&&(v=!0,u=p.L(),0<=u&&1>=u&&(y=!0,w.wd=u));break;case Keywords.yz:w.lh=!1;y=!0;break;case Keywords.lH:w.g.R&&(w.g.sc=!1);y=!0;break;case Keywords.Bz:w.g.S&&(w.g.sc=!1);y=!0;break;case Keywords.bx:y=w.g.sc=!0;break;case Keywords.wy:y=w.g.td=!0;break;case Keywords.DB:p.K()&&(v=!0,u=p.L()|0,u>=ViewConstants.CF&&u<=ViewConstants.uF&&(w.Iw=u,y=!0));break;case Keywords.yB:p.K()&&(v=!0,u=p.L()|0,u>=ViewConstants.BF&&
u<=ViewConstants.tF&&(w.Cw=u,y=!0));break;case Keywords.xB:p.K()&&(v=!0,u=p.L()|0,u>=ViewConstants.cw&&u<=ViewConstants.Xv&&(w.Aw=u,y=!0));break;case Keywords.zB:y=w.Ew=!0;break;case Keywords.CB:y=w.Hw=!0;break;case Keywords.yw:d=p.Ia();switch(d){case Keywords.Ld:d=p.V();y=!0;w.Us=!0;break;case Keywords.xg:d=p.V();p.K()&&(v=!0,u=p.L()|0,0<=u&&100>=u&&(w.vl=u,y=!0));break;case Keywords.xw:d=p.V();p.K()&&(v=!0,u=p.L()|0,0<=u&&100>=u&&(w.wl=u,y=!0));break;case Keywords.Fw:d=p.V();p.K()&&(v=!0,u=p.L()|
0,0<=u&&100>=u&&(w.Wm=u,y=!0));break;default:this.PO(d)&&(d=p.V(),p.K()&&(v=!0,u=p.L()|0,0<=u&&100>=u&&(this.FN(w,u),y=!0)))}break;case Keywords.EB:y=w.Jw=!0;break;case Keywords.BB:w.Gw=p.V();y=w.AB=!0;break;case Keywords.Sh:d=p.Ia();switch(d){case Keywords.yf:x.Nl&&this.Gi(x.fi,Keywords.Sh,Keywords.yf,r);x.fi=!0;x.Nl=!0;d=p.V();break;case Keywords.Af:x.Ol&&this.Gi(x.ii,Keywords.Sh,Keywords.Af,r);x.ii=!0;x.Ol=!0;d=p.V();break;case Keywords.Xd:x.BD&&this.Gi(x.ki,Keywords.Sh,Keywords.Xd,r);x.ki=!0;
x.Ct=!0;d=p.V();break;case Keywords.xg:x.Nl&&this.Gi(x.fi,Keywords.Sh,Keywords.yf,r);x.Ol&&this.Gi(x.ii,Keywords.Sh,Keywords.Af,r);x.BD&&this.Gi(x.ki,Keywords.Sh,Keywords.Xd,r);x.fi=!0;x.Nl=!0;x.ii=!0;x.Ol=!0;x.ki=!0;x.Ct=!0;d=p.V();break;default:this.ko(p,r,Keywords.Sh,"argument",Keywords.xg+", "+Keywords.yf+", "+Keywords.Af+" or "+Keywords.Xd)}y=!0;break;case Keywords.hj:d=p.Ia();switch(d){case Keywords.yf:x.Nl&&this.Gi(x.fi,Keywords.hj,Keywords.yf,r);x.fi=!1;x.Nl=!0;d=p.V();break;case Keywords.Af:x.Ol&&
this.Gi(x.ii,Keywords.hj,Keywords.Af,r);x.ii=!1;x.Ol=!0;d=p.V();break;case Keywords.Xd:x.BD&&this.Gi(x.ki,Keywords.hj,Keywords.Xd,r);x.ki=!1;x.Ct=!0;d=p.V();break;case Keywords.xg:x.Nl&&this.Gi(x.fi,Keywords.hj,Keywords.yf,r);x.Ol&&this.Gi(x.ii,Keywords.hj,Keywords.Af,r);x.BD&&this.Gi(x.ki,Keywords.hj,Keywords.Xd,r);x.fi=!1;x.Nl=!0;x.ii=!1;x.Ol=!0;x.ki=!1;x.Ct=!0;d=p.V();break;default:this.ko(p,r,Keywords.hj,"argument",Keywords.xg+", "+Keywords.yf+", "+Keywords.Af+" or "+Keywords.Xd)}y=!0;break;case Keywords.qw:C=
!0;w.X.add(x);x=w.X.vp();x.Rh=!0;d=p.Ia();d===Keywords.mc&&(d=p.V(),-1!==w.Mn&&(r[r.length]=[Keywords.qw+" "+Keywords.mc,"overrides previous initial POI"]),w.Mn=w.X.uc.length);w.pJ();y=!0;break;case Keywords.ht:p.K()&&(v=!0,u=p.L()|0,0<=u&&(A||(A=!0),0<u&&(w.X.add(x),x=w.X.vp()),x.fc=u,y=x.it=!0));break;case Keywords.Qo:p.K()?(v=!0,u=p.L()|0,u>=ViewConstants.ho&&u<=ViewConstants.Jg&&(!x.Oi||w.cs||fb||(r[r.length]=[Keywords.Qo+" "+u,"overwrites "+x.step]),x.step=u,x.Oi=!0,fb=w.cs=!1,y=!0)):(d=p.Ia(),
d===Keywords.mc&&(d=p.V(),w.X.Jd(Keywords.Qo,x,r,w.cs),y=w.cs=!0));break;case Keywords.gB:p.K()&&(v=!0,u=p.L(),0<=u&&(A||(A=!0),w.X.add(x),x=w.X.vp(),u<ViewConstants.ZG&&(u=ViewConstants.ZG),x.ed=u,y=x.fH=!0));break;case Keywords.Qq:p.K()&&(v=!0,u=p.L()|0,w.Bd||(-1===w.Ve||gb||(r[r.length]=[Keywords.Qq+" "+u,"overwrites "+w.Ve]),w.Ve=u),gb=!1,y=!0);break;case Keywords.Gp:p.K()&&(v=!0,u=p.L()|0,w.Bd||(-1===w.oh||hb||(r[r.length]=[Keywords.Gp+" "+u,"overwrites "+w.oh]),w.oh=u),hb=!1,y=!0);break;case Keywords.Ps:p.K()&&
(v=!0,u=p.L()|0,-1===w.Pf||ib||(r[r.length]=[Keywords.Ps+" "+u,"overwrites "+w.Pf]),w.Pf=u,ib=!1,y=!0);break;case Keywords.Os:p.K()&&(v=!0,u=p.L()|0,-1===w.Ii||jb||(r[r.length]=[Keywords.Os+" "+u,"overwrites "+w.Ii]),w.Ii=u,jb=!1,y=!0);break;default:r[r.length]=[c,"unknown or misspelt command"],y=!0}y||(v?r[r.length]=[c+" "+u,"argument out of range"]:this.ko(p,r,c,"argument",ra))}""!==c&&(c=p.V())}n&&(r[r.length]=[Keywords.xd+q,"unterminated string"]);A&&w.oe&&(B=w.ap?Keywords.ep:w.fp?Keywords.qt:
Keywords.rt,r[r.length]=[B,"can not be used with Waypoints"],w.oe=!1,w.ap=!1,w.fp=!1);w.ap||!w.oe&&!w.fp||(w.fp&&(0<w.g.pf&&(za*=w.g.pf),x.ib=za),w.bp=Ca,w.qn=Fa,w.rn=Ca,w.cp=Fa);if(A||C){w.X.add(x);x=w.X.Dr();A?w.Wc=!0:-1!==w.Mn&&(w.Zg=w.Mn,z=w.X.uc[w.Mn],z.Vf&&(x.Vf=z.Vf,x.x=z.x),z.zf&&(x.zf=z.zf,x.y=z.y),z.Wd&&(x.Wd=z.Wd,x.zoom=z.zoom),z.Fh&&(x.Fh=z.Fh,x.angle=z.angle),z.ui&&(x.ui=z.ui,x.depth=z.depth),z.Fi&&(x.Fi=z.Fi,x.W=z.W),z.sg&&(x.sg=z.sg,x.Gc=z.Gc),z.yi&&(x.yi=z.yi,x.Cc=z.Cc),z.Oi&&(x.Oi=
z.Oi,x.step=z.step),z.dH&&(x.dH=z.dH,x.stop=z.stop),z.eF&&(x.eF=z.eF,x.loop=z.loop));if(A){for(Ia=0;Ia<w.X.Ua.length;Ia+=1)x=w.X.Ua[Ia],x.nf&&(x.Vf||x.zf||x.Wd)&&(q="",x.Vf?(q="X "+x.x,x.zf?q=x.Wd?q+(", Y "+x.y+" and ZOOM "+x.zoom):q+(" and Y "+x.y):x.Wd&&(q+=" and ZOOM "+x.zoom)):x.zf?(q="Y "+x.y,x.Wd&&(q+=" and ZOOM "+x.zoom)):x.Wd&&(q="ZOOM "+x.zoom),r[r.length]=[Keywords.pu,"overwrites "+q]);x=w.X.Dr()}C&&x.jh===WaypointConstants.play&&w.Ba&&(w.gf=!0)}x.nf&&(w.zc=!0);x.zf&&(w.g.va=w.g.height/
2-x.y);x.Vf&&(w.g.Aa=w.g.width/2-x.x,w.g.S&&(w.g.Aa-=w.g.va/2));x.Wd&&(w.g.zoom=x.zoom);x.Fh&&(w.g.angle=x.angle);x.ui&&(w.g.ze=x.depth/ViewConstants.Nn+ViewConstants.$v);x.Fi&&(w.g.W=x.W);x.sg&&(w.xC=x.Gc);x.yi&&(w.Eg=x.Cc);x.Oi&&(w.Ha=x.step);x.tC&&w.j.notification.notify(x.Tf,15,1E3,15,!1);w.dc=x.dc;w.ib=x.ib;x.Wd&&(w.ez=!0);x.Vf&&(w.cz=!0);x.zf&&(w.dz=!0);x.kl&&(w.g.ic=x.jd);x.dx&&(w.Li=x.gn);for(Ia=0;Ia<g;Ia+=1)-1!==w.ec[Ia]&&(b+=1);if(0<b){w.ju=!0;for(Ia=0;Ia<g;Ia+=1)w.D.Po[Ia]?-1===w.ec[Ia]?
(w.ju=!1,w.Ln[Ia]=ViewConstants.bH):w.Ln[Ia]=ViewConstants.aH:w.Ln[Ia]=ViewConstants.lC;w.hr=w.ju?"(custom)":w.hr+" (custom*)"}else w.ec=null;w.Nh&&(this.bO(w),w.tO&&(w.tO.upper=w.g.Ue));w.Ta&&(B="not possible due to "+Keywords.yt,w.gf&&(r[r.length]=[Keywords.ru,B],w.gf=!1),-1!==w.dc&&(r[r.length]=[Keywords.Vj+" "+w.dc,B]),-1!==w.ib&&(r[r.length]=[Keywords.yj+" "+w.ib,B]));0!==w.Nb&&w.gb+ViewConstants.Jg+2*Math.abs(w.Nb)>=w.g.ma&&(r[r.length]=[Keywords.wx+" "+w.Nb,"pattern does not fit on grid at view offset"],
w.Nb=0);0!==w.Ob&&w.jb+ViewConstants.Jg+2*Math.abs(w.Ob)>=w.g.ma&&(r[r.length]=[Keywords.xx+" "+w.Ob,"pattern does not fit on grid at view offset"],w.Ob=0);w.FA=r.length}""!==w.Ti&&(w.Ti=this.Jq(w,w.Ti));w.zc&&(w.ou=!0);w.ad&&w.Dc&&(r[r.length]=[Keywords.nv,"not valid with "+Keywords.iw],w.ad=!1);var Ta=0,Xa=!1;-1!==w.Ve&&(Ta=ViewConstants.Mc,w.Ve>=ViewConstants.AF&&w.Ve<Ta&&(w.Ve=Ta),w.Sc&&(Ta=ViewConstants.VL),w.Ve<Ta||w.Ve>w.Bk)&&(r[r.length]=[Keywords.Qq+" "+w.Ve,"argument out of range"],Xa=!0);
-1!==w.oh&&(Ta=ViewConstants.Dj,w.Sc&&(Ta=ViewConstants.UL),w.oh<Ta||w.oh>ViewConstants.Yv)&&(r[r.length]=[Keywords.Gp+" "+w.oh,"argument out of range"],Xa=!0);w.Bd&&(-1!==w.Pf&&(w.Pf>=ViewConstants.AF&&w.Pf<ViewConstants.Mc&&(w.Pf=ViewConstants.Mc),w.Pf<ViewConstants.Mc||w.Pf>w.Bk)&&(r[r.length]=[Keywords.Ps+" "+w.Pf,"argument out of range"],w.Pf=-1,Xa=!0),-1!==w.Ii&&(w.Ii<ViewConstants.Dj||w.Ii>ViewConstants.Yv)&&(r[r.length]=[Keywords.Os+" "+w.Ii,"argument out of range"],w.Ii=-1,Xa=!0));if(Xa||
r.length)-1!==w.Ve&&w.Ve<ViewConstants.Mc&&(w.Ve=ViewConstants.Mc),-1!==w.oh&&w.oh<ViewConstants.Em&&(w.oh=ViewConstants.Em),w.Sc=!1;w.s.m=w.Sc;w.j.Sc=w.Sc;w.j.sl=w.sl;w.Sc&&(w.gf=!1,w.vb=!1,w.Xj=!1,w.ad=!1,w.wn([!1],!0,w),w.sD([!1],!0,w),w.ux([!1],!0,w),w.kd=!1,w.Bi=!1);w.BA&&(w.element.style="display:none",w.element.parentNode&&w.element.parentNode.parentNode&&w.element.parentNode.parentNode.className===DocConfig.bv&&(w.element.parentNode.parentNode.style="display:none;"));t&&w.PJ();w.X.gO()}}}(),
function(){function w(b,l,f,t,x){this.name=b;this.pattern=l;this.wN=f;this.width=t;this.height=x}function h(b){var l;this.bF="";this.Ug=-1;this.Zh=[];this.gw=this.zr=this.Qw=this.CC=this.Wr=this.jv=!1;this.D=new PatternManager;this.Lj=this.Mp=!1;this.fA="";this.eg=!1;this.Qv=this.Ov=this.Tp=this.ks=this.js=this.Rp=this.Pv=this.gs=this.Vp=this.Up=this.hs=this.Eb=this.Sp="";this.Rb=!1;this.Ur=this.Pr=this.Fv=this.Sr=this.Tr=this.Iv=this.Gv=this.Ev=this.Dv=this.Rr=this.Vr=this.Vi=this.ak=this.$i=this.bk=
this.Zi=this.cj=this.bj=this.aj=this.Yi=this.Wi=this.Xi=this.Ff=this.Qr=null;this.xf=1;this.Cw=this.Iw=r.sq;this.Aw=50;this.Hw=this.Ew=this.Us=!1;this.Wm=this.wl=this.vl=-1;this.Wh=[];this.Jj=[];this.vD=!1;this.yr=this.Dz=this.zy=this.Nz=this.ky=null;this.Lr=18;this.Hp="18px "+r.zE;this.qm="18px "+r.iD;this.devicePixelRatio=window.devicePixelRatio?window.devicePixelRatio:1;this.Ul=!0;this.fx=this.Jh=this.El=this.Cl=this.Fl=this.Dl=this.Lk=!1;this.Nf=[];for(l=0;10>l;l+=1)this.Nf[l]=null;this.zd=!1;
this.sf=this.tf=this.Ag=0;this.Ng=r.iq;this.Dh=this.cr=!1;this.zb=null;this.ld=!1;this.Ap=new BoundingBox(0,0,0,0);this.Cb=new BoundingBox(0,0,0,0);this.Dm=new BoundingBox(0,0,0,0);this.Wb=new Random;this.Wb.qf(Date.now().toString());this.Kj=50;this.VG=this.UG=0;this.vk=this.tb=!1;this.Mm=2;this.ag=[];this.mo=this.vc=0;this.Kn=[];this.gd=0;this.Zd=[];this.yd=0;this.wa=[];this.wa[r.st]=[1,0,0,1];this.wa[r.MC]=[-1,0,0,-1];this.wa[r.NC]=[-1,0,0,1];this.wa[r.OC]=[1,0,0,-1];this.wa[r.RC]=[0,1,1,0];this.wa[r.SC]=
[0,-1,-1,0];this.wa[r.QC]=[0,-1,1,0];this.wa[r.PC]=[0,1,-1,0];this.Ik=[];this.uq=[];this.Mj=[];this.Mg=[];this.$c=r.Bs;this.hq=0;this.zs=-1;this.gq=[];this.KA=this.JA=this.As=0;this.xj=!1;this.Ck=0;this.Mv=!1;this.fd=this.Pm=this.Km=this.Om=this.Lm=0;this.Lv=!1;this.Y=null;this.jp=0;this.Wk=!0;this.Vg=0;this.Ef=1;this.dn=this.Qz=this.Ek=this.Ls=!1;this.fh=7;this.Mo=!0;this.rk=this.qk=0;this.Tn=!1;this.dj=this.mF=this.O=this.os=63;this.Zn=this.tm=this.$r=this.cs=this.nl=this.bs=this.Zr=this.Yr=this.$n=
this.es=this.ds=this.BA=!1;this.Mf=this.sb=0;this.La=null;this.Uc=this.Tc=0;this.uD=!1;this.Mn=this.Nk=this.Ok=-1;this.Gw=Date.now().toString();this.Jw=this.AB=!1;this.xk=r.ei;this.Ki=!0;this.ad=!1;this.lh=!0;this.wd=r.sE;this.VE=this.Dc=!1;this.element=b;this.kd=!1;this.cp=this.qn=this.rn=this.bp=this.Hu=this.Eu=this.Gu=this.Fu=0;this.vf=this.fp=this.oe=this.ap=!1;this.Ep=!0;this.jl=!1;this.xi=0;this.il=!1;this.Um=this.Tm=0;this.mh=!1;this.C="";this.Ob=this.Nb=0;this.oz=this.nz=this.Ar=this.Vn=this.Un=
this.dl=this.jC=this.hC=this.hn=this.Oo=this.kn=this.jn=this.Zg=-1;this.Tv=this.$u=!1;this.jt=this.sh=-1;this.fr=this.In=!1;this.Cu=-1;this.So=this.Hl=null;this.SG=0;this.kt="";this.To=this.Pk=0;this.qO=32768;this.Au=!1;this.Jy=this.Ly=0;this.Iy=!0;this.ou=this.zc=this.kk=!1;this.zn=0;this.hJ=.01;this.Mi=this.Ci=!1;this.al=this.Mh=null;this.pj=r.pj;this.$l=[96,96,96];this.am=[128,128,128];this.dm=[0,255,0];this.cm=[255,0,0];this.Zl=[255,255,0];this.mx=null;this.Ti="";this.Hj=!0;this.Li=this.Ba=this.Pd=
!1;this.Gl=null;this.Bd=!1;this.da=1;this.Fj=this.Gj=0;this.Id=this.Rz=!1;this.X=new WaypointManager;this.ls="";this.gA=-1;this.Ig=this.Wc=!1;this.Ha=1;this.sz=this.FA=this.no=0;this.Bk=r.RL;this.Ii=this.Pf=this.oh=this.Ve=this.oj=-1;this.Es=this.kq="";this.Fs=this.Qm=this.jb=this.gb=0;this.wo=null;this.ul=this.Vc=this.Ab=this.Ej="";this.Ju=this.Nh=!1;this.ta=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];this.oE=this.nE=-1;this.Ry=r.aF;this.Qy=r.nu;
this.Sy=r.qG;this.hr="";this.sJ=0;this.zg=[];this.ju=!1;this.ec=null;this.Ln=[];this.od=[];this.hc=1;this.ha=0;this.ct=!1;this.$p=100;this.nd=10;this.fa=[64,200,290,530,700];this.Wg=!1;this.ja=[];this.wv=[];this.xv=[];this.dc=-1;this.Ze=!1;this.ib=-1;this.tv=this.yg=this.gf=this.ud=this.sl=this.hw=this.Sc=this.ni=this.Bi=this.Ta=this.He=this.Rc=!1;this.nC=this.vz=this.kB=-1;this.g=null;this.elapsedTime=0;this.VJ=this.XJ=512;this.I=640;this.H=512;this.eq=640;this.cq=512;this.sw=!1;this.dk=640;this.mq=
!0;this.rh=this.fC=this.Hi=this.eb=this.nq=!1;this.cn=this.on=this.Qi=this.Oc=this.up=this.Bo=this.Zj=this.Yd=this.Td=this.kc=null;this.G=[];this.B=this.Dd=this.Iq=this.Eq=this.Gs=this.Vh=this.Ya=this.Jf=this.fg=this.dg=this.Lf=this.hg=this.ig=this.Ke=this.Je=this.gg=this.te=this.ue=this.vo=this.Hk=this.rd=this.$=this.uo=this.Cd=this.Bb=this.jg=this.em=this.Xc=this.pk=this.nk=this.Rm=this.qd=this.Zm=this.$j=this.Sn=this.$d=this.bg=this.Wn=this.nt=this.Dp=this.rs=this.Rs=this.Fq=this.Kp=this.Ak=this.xr=
this.Ds=this.qe=this.gj=this.bi=this.mi=this.ik=this.Vk=this.ci=this.Lp=this.tq=this.ek=this.hk=this.fk=this.gk=this.Xr=this.Np=this.di=this.Ui=this.mm=this.br=this.wj=this.rq=this.yn=this.op=this.pp=this.qs=this.Qs=this.Qp=this.xm=this.U=this.lg=this.gl=this.wr=this.An=this.Wl=this.re=this.se=this.kg=this.gr=this.ol=this.zi=this.fj=this.ka=this.df=this.pd=this.cf=this.af=this.lf=this.ef=this.kf=this.hf=this.zh=this.Qg=this.uh=this.Bh=this.wk=this.mn=this.Am=this.vh=this.Bn=this.Db=this.Pb=this.Gb=
this.ob=this.ji=this.yh=this.li=this.gi=this.ck=this.cb=this.Gf=this.oc=this.If=this.$b=this.Hf=this.Wp=this.bq=this.xl=this.Ts=this.wq=this.Pe=this.he=this.hd=this.yc=this.Hd=this.Ah=this.sm=this.wm=this.pm=this.vm=null;this.Ei=this.eo=-1;this.wheelDelta=0;this.Ec=this.Zc=this.Ym=null;this.Eg=60;this.s=this.j=null;this.nj=this.Oe=this.yp=0;this.Xu=this.uE=1;this.bz=60;this.zp=this.Wu=1;this.az=.1;this.xC=-1;this.Qj=this.We=this.VB=0;this.Bq=1;this.Kl=this.vb=this.dz=this.cz=this.ez=!1;this.Ge=r.tE;
this.ym=this.Jm=this.AC=this.Cm=0;this.lx=this.Xj=!1;this.Ho=this.EC=0;this.ge=this.qg=!1;this.Hs=-1}function g(b,l,f,t,x){var z,A=l.parentNode,C=null;for(z=0;z<B.Gd.length&&!C;)B.Gd[z][0].tabIndex===l.tabIndex?C=B.Gd[z][1]:z+=1;C||(C=new h(x),C.Bd=t,v.ms&&!t&&(C.Bk=f&-8,C.Bk<r.Mc&&(C.Bk=r.Mc)),l.tabIndex=B.Gd.length+1,C.yo(l),"none"===A.style.display&&(B.tw=new PopupWindow(A,C)),B.Gd[B.Gd.length]=[l,C,B.tw]);t||C.Yh(b,!1)}function p(b){b=b.parentNode;for(var l=!1;!l;)"div"!==b.localName||b.className!==
v.av&&b.className!==v.bv||(l=!0),l||(b=b.parentNode);return b}function k(){var b=B.cx(),l=b[1],f=b[2];b[0].parentNode.style.display="none";f.Pn=!1;l.eb&&(l.Bb.current=l.Fd(r.Te,!0,l))}function a(b){k();b.stopPropagation&&b.stopPropagation();b.preventDefault();return!1}function c(b){b=b.innerHTML.replace(/&lt;/gi,"<").replace(/&gt;/gi,">").replace(/<br *\/>/gi,"\n").replace(/<br>/gi,"\n").replace(/&nbsp;/gi," ").replace(/<span class="posthilit">/gi,"").replace(/<\/span>/gi,"").trim();b=b.replace(/\n[ ]+/g,
"\n");return b=b.replace(/\n\t+/g,"\n")}function d(b){var l=p(b).getElementsByTagName(v.lq)[0];b=B.Gd[0];l.value&&(l.innerHTML=l.value);l=c(l);b[1].qD(b[1]);b[1].j.notification.clear(!0,!0);b[1].j.notification.clear(!1,!0);b[1].Yh(l,!1)}function e(b){var l=28,f=18,t=B.cx()[2];b.yr.style.transform="scale("+b.xf+","+b.xf+")";b.yr.style.transformOrigin="top left";b.resize();t.Pn=!0;t.IG(t);1!==b.s.xh&&(l=l*b.s.xh|0,f=f*b.s.xh|0,b.ky.style.height=l+"px",b.ky.style.fontSize=f+"px",b.Dz.style.height=l+
"px",b.Dz.style.fontSize=f+"px",b.zy.style.height=l+"px",b.zy.style.fontSize=f+"px",b.Nz.style.height=l+"px",b.Nz.style.lineHeight=l+"px");b.Ec.canvas.focus();b.Ec.canvas.blur();return b.gw=!1}function m(b){var l=p(b);l=l.getElementsByTagName(v.lq)[0];b=c(l);var f=B.cx(),t;if(f)(t=f[2])&&t.reset(),t=f[1],t.element=l,t.qD(t);else{f=document.createElement("canvas");f.width=r.Mc;f.height=r.Em+80;f.style.display="block";f.contentEditable="false";var x=document.createElement("a");x.setAttribute("href",
"#");x.innerHTML="&nbsp;X&nbsp;";x.style.textDecoration="none";x.style.fontFamily="Lucida Grande,Verdana,Helvetica,Arial,sans-serif";x.style.color="#FFFFFF";x.style.backgroundColor="#C75050";x.style.cssFloat="right";x.style.height="28px";x.style.fontSize="18px";var z=document.createElement("a");z.innerHTML="&nbsp;X&nbsp;";z.style.textDecoration="none";z.style.fontFamily="Lucida Grande,Verdana,Helvetica,Arial,sans-serif";z.style.visibility="hidden";z.style.cssFloat="left";z.style.height="28px";z.style.fontSize=
"18px";var A=document.createElement("div");A.style.textAlign="center";A.style.color="rgb(83,100,130)";A.style.fontFamily="Arial, Verdana, Helvetica, sans-serif";A.style.fontSize="18px";A.style.height="28px";var C=document.createTextNode("LifeViewer");A.style.cursor="default";A.appendChild(C);registerEvent(x,"click",a,!1);registerEvent(x,"touchend",a,!1);var I=document.createElement("div");I.style.display="none";I.style.position="fixed";I.style.border="1px solid rgb(128,128,128)";I.style.zIndex="101";
I.style.left="2048px";I.style.top="0px";I.style.textAlign="right";I.style.boxShadow="0px 0px 3px 3px rgba(0,0,0,.3), 12px 12px 8px rgba(0,0,0,.5)";I.style.margin="1px";var G=document.createElement("div");G.className=v.bv;G.style.backgroundColor="#FFFFFF";G.style.height="28px";G.style.lineHeight="28px";G.style.margin="0px";G.style.border="0px";G.appendChild(z);G.appendChild(x);G.appendChild(A);I.appendChild(G);I.appendChild(f);document.body.appendChild(I);g(b,f,r.Mc,!0,l);B.gC=B.Gd.length-1;f=B.cx();
t=f[1];t.mx=C;t.ky=x;t.Dz=z;t.zy=A;t.Nz=G;t.yr=I}l=f[0].parentNode;""!==l.style.display&&(l.style.display="");t.I=r.Mc;t.H=r.Em+80;t.resize();t.j.notification.clear(!0,!0);t.j.notification.clear(!1,!0);t.gw=!0;t.Yh(b,!0);t.gw||e(t)}function n(b,l){var f=l[0],t=l[1];l=l[2];if(b&&b.Ae&&!b.tg){if(null!==t){t=t.getElementsByTagName("a")[0];var x=document.createElement("a");x.setAttribute("href","#");x.innerHTML="Show in Viewer";registerEvent(x,"click",u,!1);t?(l=document.createTextNode(" / "),t.parentNode.appendChild(l),
t.parentNode.appendChild(x)):l.parentNode.appendChild(x)}v.Va&&(B.Ce[B.Ce.length]=new w(b.name,f,b.J+b.qp,b.width,b.height))}}function q(b,l,f,t,x){l=f.create("",b,l,n,null,[b,t,x],!1,null);f.Uv||n(l,[b,t,x])}function u(b){m(this);b.stopPropagation&&b.stopPropagation();b.preventDefault();return!1}function y(){var b=document.getElementsByTagName("div"),l,f;var t=new Allocator;var x=new PatternManager;var z=document.getElementsByTagName("meta");for(l=0;l<z.length;l+=1){var A=z[l];if(A.name===v.tagName&&
(v.Ez=!1,v.ms=!1,A=A.content,(f=A.match(/\S+/g))&&2<=f.length&&6>=f.length))for(v.av=f[0],v.lq=f[1],A=2;A<f.length;A+=1)switch(f[A]){case v.pL:v.Ez=!0;break;case v.ML:v.ms=!0;break;case v.dM:v.Va=!0;break;case v.IK:v.fullScreen=!0;break;default:if("/"===f[A][0])v.KB=f[A];else if("."===f[A][0])v.OG=f[A];else{var C=f[A];!isNaN(parseFloat(C))&&isFinite(Number(C))&&(v.nw=parseFloat(C)|0)}}}AliasManager.qf();for(z=0;z<b.length;z+=1)(A=b[z],A.className===v.av)?(l=A.getElementsByTagName(v.lq)[0],A=A.getElementsByTagName("canvas")[0],
(f=l.getElementsByTagName(v.lq)[0])&&(l=f),typedArrays&&l&&(f=c(l),v.Va&&q(f,t,x,null,null),A&&A.getContext?(-1<v.nw&&l.clientHeight>v.nw&&(l.style.height=v.nw+"px"),A.contentEditable="false",g(f,A,l.offsetWidth,!1,l)):v.Ez&&A&&(A.style.display="none"))):typedArrays&&A.className===v.bv&&A.parentNode.className!==v.av&&(l=A.getElementsByTagName(v.lq)[0])&&(f=c(l),q(f,t,x,A,l));b=document.getElementsByTagName("a");for(z=0;z<b.length;z+=1)t=b[z],""!==t.accessKey&&-1!==r.XI.indexOf(t.accessKey)&&(t.accessKey=
"")}var v={tagName:"LifeViewer",IK:"fullscreen",pL:"hide",dM:"multi",ML:"limit",av:"rle",lq:"code",nw:37,Ez:!0,fullScreen:!1,ms:!1,Va:!1,bv:"codebox",KB:"",OG:"",Ce:[]},r={XI:"0123456789rtyopasghjklxcbn",vF:1048576,hl:0,mv:1,yE:2,sq:64,CF:1,uF:1024,BF:1,tF:1024,cw:1,Xv:100,uO:[0,0,0,0,0,1,1,1,1,1,2,2,2,2,2,3,3,3,3,3,3],mt:[1,10,11,17,18,2,3,4,5,7,12,13,14,15,16,0,6,8,9,19,20],iq:0,dG:1,eG:2,bG:3,gG:4,fG:5,hG:6,iG:7,cG:8,JF:9,rM:"Top Left;Top;Top Right;Right;Bottom Right;Bottom;Bottom Left;Left;Middle".split(";"),
gv:15,jM:5,lk:1E8,st:0,MC:1,NC:2,OC:3,RC:4,SC:5,QC:6,PC:7,aG:0,PA:1,PF:2,YF:3,QF:4,$F:5,aB:6,Bs:7,UF:8,ZF:9,WF:10,RF:11,VF:12,SF:13,TF:14,XF:15,lw:3,rH:[1,3,7,6],hO:[0,1],iO:[0,1],rL:[0,1,0,1,0,1,0],sL:[0,1,2,3,4,5,6],oO:[0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1],nO:[0,1,2,3,4,5,6,3,4,1,0,1,0,1,2,1,2,1,2,1,2,1,2,1,2,1],ne:Math.sqrt(3),GJ:65536,IJ:500,JJ:17,NE:13750737,OE:15066597,qv:7368816,rv:5263440,ZG:.016,dO:16,IF:16384,sE:.7,jw:1E4,LN:"Script errors",ih:-2,gh:2,DF:2,wF:4,tE:4,uH:16.7,
yF:9,qF:14,WJ:13,Or:null,xF:1,oF:16,rE:3,ah:0,mj:1,Ku:2,ti:3,kr:4,lr:5,mr:6,Tu:7,Uu:8,Lu:9,Qu:10,Pu:11,Ou:12,Ru:13,Su:14,Nu:15,nr:16,Mu:17,Vy:18,sr:19,qr:20,tr:21,vr:22,ur:23,rr:24,jr:25,pr:26,Uy:27,Xy:28,Wy:29,Ty:30,mM:0,nM:1,qL:2,hF:3,lF:4,jF:5,$E:6,Za:[0,6,2,5,3,4,1],Zh:"dead alive history mark1 markOff mark2 kill".split(" "),sP:"OFF ON HISTORY MARK1 MARKOFF MARK2 KILL".split(" "),vM:0,uM:160,lG:10,iB:100,kG:20,FK:18.5,$G:1E3/60,gP:!1,hv:1800,wK:"LifeViewer",XB:"LifeViewer Image",xH:"LifeViewer",
sx:628,wH:"Chris Rowett",aw:1,Vv:10,uA:0,Yp:1,Te:2,Dk:3,Fm:0,Xp:1,Gm:2,yx:1.25,wL:.99,$v:0,pF:10,Nn:10,nF:32,za:.0625,$a:64,Cj:-16,Aj:-1,hh:1,Bm:60,ho:1,Jg:64,zE:"Courier",iD:"Arial",qh:"18px Arial",ph:"14px Arial",ax:"9px Arial",nu:"rgb(240,255,255)",dJ:"rgb(0,0,0)",qG:"rgb(240,255,255)",rG:"rgb(0,0,0)",ND:2,bw:1,Wv:64,cJ:.2,aF:"rgb(240,255,255)",JL:"rgb(0,0,0)",IL:18,zF:4,rF:128,HL:"Arial",Ip:"rgb(32,255,255)",Mr:"#000000",pj:"rgb(255,96,96)",ov:"rgb(128,128,128)",VL:64,UL:64,AF:480,Mc:560,RL:4096,
lL:80,Dj:240,Yv:4096,Em:480,uG:560,Et:132,zx:292,lC:0,aH:1,bH:2,TL:0,OL:16,ei:0,Tz:1,Sw:2,Jv:3,yC:4,Hy:5,iy:6,mA:7,ly:8},B={u:new Allocator,Gd:[],gC:-1,tw:null,Ce:[],cx:function(){var b=null;-1!==this.gC&&(b=this.Gd[this.gC]);return b},PK:function(b){var l=null;0<=b&&b<this.Gd.length&&(l=this.Gd[b][1]);return l},oP:function(){return this.Gd.length},YO:function(){var b=0,l;for(l=0;l<this.Gd.length;l+=1){var f=this.Gd[l][1];f.eb&&(b+=1)}return b},kN:function(){var b,l=0;for(b=0;b<this.Gd.length;b+=
1){var f=this.Gd[b][1];f.Bb.current=f.Fd(r.uA,!0,f);f.j.rg(!0);l+=1}return l},lO:function(){var b,l=0;for(b=0;b<this.Gd.length;b+=1){var f=this.Gd[b][1];f.eb&&!f.Wr&&(f.Bb.current=f.Fd(r.Te,!0,f),l+=1)}return l},eH:function(b){var l,f=0;for(l=0;l<this.Gd.length;l+=1){var t=this.Gd[l][1];t!==b&&t.eb&&!t.Wr&&(t.Bb.current=t.Fd(r.Te,!0,t),f+=1)}return f}};h.prototype.Du=function(){var b,l=this.Nf,f=this.Ag,t=[];for(b=0;10>b;b+=1){var x=b===f?"current ":"activate ";x+="clipboard";null!==l[b]?(x+=" ("+
l[b].width+" x "+l[b].height+", "+l[b].count+" cell",1!==l[b].count&&(x+="s"),x+=")"):x+=" (empty)";t[b]=x+" [Alt "+b+"]"}this.gr.F=t};h.prototype.dF=function(b){window.confirm("Open last saved pattern?")&&d(b.element)};h.prototype.Qc=function(){var b=1<<r.gv,l=this.gd>>r.gv;l===this.Kn.length&&(this.Kn[l]=this.g.u.P(Int16,b,"View.currentEdit"+l));return this.Kn[l]};h.prototype.dd=function(b,l,f){var t=this.g.getState(b,l,!1),x=this.gd,z=r.gv;var A=x>>z;var C=1<<z,I=C-1,G=this.Kn,F=(this.g.width>>
1)-(this.gb>>1),E=(this.g.height>>1)-(this.jb>>1);var D=this.g.i;var H=2<D&&!(this.g.Pa||this.g.N||this.g.ga||this.g.T),N=!1;0<t&&H&&(t=D-t);-1===D&&(D=this.g.Ea?7:2);0>f?f=0:f>=D&&(f=D-1);if(f!==t){if(!this.Pd){A>=G.length&&this.Qc();D=G[A];x&=I;H=f<<8|t;if(0<x)if(4<=x){var K=D[x-1];16384<=K?D[x-3]===H&&D[x-2]===l-E&&D[x-4]===b-F-(K-16384)-2&&(D[x-1]+=1,N=!0):D[x-2]===H&&D[x-1]===l-E&&D[x-3]===b-F-1&&(D[x]=16384,x+=1,this.gd+=1,x===C&&this.Qc(),N=!0)}else A=this.gd,K=G[A-1>>z][A-1&I],16384<=K?D[A-
3>>z][A-3&I]===H&&D[A-2>>z][A-2&I]===l-E&&D[A-4>>z][A-4&I]===b-F-(K-16384)-2&&(D[A-1>>z][A-1&I]+=1,N=!0):G[A-2>>z][A-2&I]===H&&G[A-1>>z][A-1&I]===l-E&&G[A-3>>z][A-3&I]===b-F-1&&(D[x]=16384,x+=1,this.gd+=1,x===C&&(D=this.Qc()),N=!0);N||(D[x]=b-F,x+=1,this.gd+=1,x===C&&(D=this.Qc(),x=0),D[x]=f<<8|t,x+=1,this.gd+=1,x===C&&(D=this.Qc(),x=0),D[x]=l-E,this.gd+=1,x+1===C&&this.Qc())}this.oj=-1;return this.g.Rj(b,l,f,!0)}};h.prototype.eB=function(b,l){var f=0,t=(this.g.width>>1)-(this.gb>>1),x=(this.g.height>>
1)-(this.jb>>1);if(b)if(l)for(f=b.length;0<f;){var z=b[f-1];16384<=z&&--f;f-=3;l=b[f]+t;var A=b[f+1]&255;var C=b[f+2]+x;this.g.Rj(l,C,A,!0);if(16384<=z)for(z-=16384;0<=z;)l+=1,this.g.Rj(l,C,A,!0),--z}else for(;f<b.length;)if(l=b[f]+t,A=b[f+1]>>8,C=b[f+2]+x,this.g.Rj(l,C,A,!0),f+=3,z=b[f],16384<=z)for(f+=1,z-=16384;0<=z;)l+=1,this.g.Rj(l,C,A,!0),--z};h.prototype.Yw=function(b){for(var l=this.vc-1,f=this.Cb,t=!1;0<=l&&!t;)this.ag[l].Oh<=b?("advance outside"===this.ag[l].action&&--l,t=!0):--l;t&&(this.vc=
l+1,b=this.vc>=this.mo?this.ag[this.vc-1]:this.ag[this.vc],b.selection?(f.l=b.selection.l,f.o=b.selection.o,f.v=b.selection.v,f.A=b.selection.A,this.tb=!0):this.tb=!1,this.Dh=!1,this.Ch())};h.prototype.Ch=function(){var b=this.vc,l=this.mo,f=this.ag;if(1<b){var t="undo ";var x=f[b-1];if(null===x.Rn){var z=x.Oh;1<b&&(z=f[b-2].Oh);this.g.counter===z?t+=x.action:(t=1<this.g.counter-z?t+"play":t+"step",t+=" from "+z)}else t=""===x.action?t+"edit":t+x.action;"undo "===t&&(t="undo");this.Zj.F=t+" [Ctrl Z]"}b<
l&&(t="redo ",x=f[b],null===x.Rn?(z=x.Oh,z===this.g.counter?t+=x.action:(t=1<z-this.g.counter?t+"play":t+"step",t+=" to "+z)):t=""===x.action?t+"edit":t+x.action,"redo "===t&&(t="redo"),this.Bo.F=t+" [Ctrl Y]")};h.prototype.At=function(b){var l=this.tb?this.Cb:null;return null===b&&null===l?!0:null===b&&null!==l||null!==b&&null===l?!1:b.l===l.l&&b.o===l.o&&b.v===l.v&&b.A===l.A?!0:!1};h.prototype.Vl=function(b,l,f,t){var x=!1;if(0<this.vc){var z=this.ag[this.vc-1];z.Oh===b&&null===l&&""===f&&this.At(z.selection)&&
(x=!0)}x||(this.ag[this.vc]={Oh:b,Rn:l,action:f,selection:t},this.vc+=1)};h.prototype.qb=function(b){var l=this.g.counter,f=null,t=null,x=this.Cb,z=null,A=r.gv,C=1<<A,I=C-1;A=this.gd>>A;if(!this.Pd){this.eb&&(0<this.vc&&(z=this.ag[this.vc-1]),z&&z.selection&&(t=new BoundingBox(z.selection.l,z.selection.o,z.selection.v,z.selection.A)),this.Vl(l,f,"",t),t=null);this.tb&&(t=new BoundingBox(x.l,x.o,x.v,x.A));if(0<this.gd){f=this.g.u.P(Int16,this.gd,"View.editCells"+this.vc);for(z=x=0;x<A;)f.set(this.Kn[x].slice(),
z),x+=1,z+=C;this.gd&I&&f.set(this.Kn[x].slice(0,this.gd&I),z);this.gd=0}this.Vl(l,f,b,t);this.mo=this.vc;this.Ch()}};h.prototype.cD=function(b){var l=b.g.counter,f=b.vc,t=b.Cb,x=1,z=!1;if(!b.Pd){this.eb&&(b.Bb.current=b.Fd(r.Te,!0,b),f=b.vc);if(0<f)for(;0<x;){var A=b.ag[f-1];var C=A.Oh;var I=A.selection;z||"advance outside"!==A.action||(z=!0,x=3);null===A.Rn&&1<f&&(C=b.ag[f-2].Oh);1<f&&(I=b.ag[f-2].selection);C<l?(0===C?b.reset(b):b.Ys(C),l=b.g.counter):b.eB(A.Rn,!0);I?(t.l=I.l,t.o=I.o,t.v=I.v,t.A=
I.A,b.tb=!0):b.tb=!1;b.Dh=!1;"reverse playback"===A.action&&(b.g.cd=!0);--f;b.vc=f;--x}else 0<l&&b.reset(b);this.Ch();this.g.bh();this.g.Ea&&this.g.Sm()}};h.prototype.HB=function(b){var l=b.g.counter,f=b.Cb,t=1,x=!1;if(!b.Pd){for(;0<t&&b.vc<b.mo;){var z=b.ag[b.vc];x||"advance outside"!==z.action||(x=!0,t=3);z.Oh===l&&null===z.Rn&&""===z.action&&(b.vc+=1);z.Oh>l?(b.EN(z.Oh),l=b.g.counter):b.eB(z.Rn,!1);z.selection?(f.l=z.selection.l,f.o=z.selection.o,f.v=z.selection.v,f.A=z.selection.A,b.tb=!0):b.tb=
!1;b.Dh=!1;"reverse playback"===z.action&&(b.g.cd=!0);b.vc+=1;--t}this.Ch();this.g.bh();this.g.Ea&&this.g.Sm()}};h.prototype.jm=function(b,l,f,t){var x=[],z,A=this.g.i,C=this.wa[t];t=C[0];var I=C[1],G=C[2];C=C[3];var F=new Pattern("rleToCellList",this.D),E=2<A&&!(this.g.Pa||this.g.N||this.g.ga||this.g.T);b+=" ";if(-1!==this.D.xp(F,b,!1,this.g.u)){if(-1!==this.D.xp(F,b,!0,this.g.u))for(z=0;z<F.height;z+=1){var D=F.kh[z];for(b=0;b<F.width;b+=1){var H=D[b];E&&0<H&&(H=A-H);x[x.length]=l+b*t+z*I;x[x.length]=
f+b*G+z*C;x[x.length]=H}}}else x[0]="error";return x};h.prototype.Jt=function(b){var l=0,f=b.indexOf("["),t=b.indexOf("]");if(-1!==f&&-1!==t&&f<t&&t===b.length-1){for(f+=1;f<t&&0<=l;){var x=b.charCodeAt(f)-48;0>x||9<x?l=-1:(l=10*l+x,f+=1)}0<l&&(this.Mv=!0)}return l};h.prototype.vJ=function(b){var l=0>this.Lm?-this.Lm:this.Lm,f=0>this.Om?-this.Om:this.Om;l=2*(l<f?f:l);b<l&&(b=l);return b};h.prototype.uJ=function(b){var l=0>this.Km?-this.Km:this.Km,f=0>this.Pm?-this.Pm:this.Pm;l=2*(l<f?f:l);b<l&&(b=
l);return b};h.prototype.QI=function(b,l){var f,t=!1;for(f=0;!t&&f<this.Ik.length;)b===this.Ik[f].name?t=!0:f+=1;if(t)for(b=this.Ik[f].ZJ,f=0;f<b.length;f+=1)l[l.length]=b[f];return t};h.prototype.LI=function(b,l,f){var t,x=!1;if(ScriptParser.bo(l))b[b.length]=[Keywords.vq+" "+l,"name is reserved word"];else{for(t=0;!x&&t<this.Ik.length;)l===this.Ik[t].name?x=!0:t+=1;if(x)b[b.length]=[Keywords.vq+" "+l,"name already defined"];else{x=!1;for(t=0;!x&&t<f.length;)1>f[t]?x=!0:t+=1;x?b[b.length]=[Keywords.vq+
" "+l+" "+f[t],"invalid delta"]:(b=f.slice(),this.Ik[this.Ik.length]={name:l,ZJ:b})}}};h.prototype.KI=function(b,l,f,t,x,z){var A,C=!1;if(ScriptParser.bo(l))b[b.length]=[Keywords.Eo+" "+l,"name is reserved word"];else if(-1!==l.indexOf("["))b[b.length]=[Keywords.Eo+" "+l,"name can not contain ["];else{for(A=0;!C&&A<this.Mj.length;)l===this.Mj[A].name?C=!0:A+=1;C?b[b.length]=[Keywords.Eo+" "+l,"name already defined"]:(f=this.jm(f,t,x,z),"error"!==f[0]?this.Mj[this.Mj.length]={name:l,cells:f}:b[b.length]=
[Keywords.Eo+" "+l,"invalid RLE"])}};h.prototype.OI=function(b,l,f,t,x,z,A,C,I,G,F){var E=0,D=!1,H=[],N=this.wa[F],K=N[0],P=N[1],J=N[2],S=N[3];N=r.lk;var X=-r.lk,U=r.lk,L=-r.lk,ja=C.indexOf("["),W=C,ma=0,sa=[];-1!==ja&&(W=C.substr(0,ja),ma=this.Jt(C));for(;E<this.Mj.length&&!D;)this.Mj[E].name===W?(D=!0,H=this.Mj[E].cells.slice()):E+=1;if(D)for(E=0;E<H.length;)C=H[E],F=H[E+1],H[E]=I+C*K+F*P,H[E+1]=G+C*J+F*S,E+=3;else H=this.jm(C,I,G,F),"error"!==H[0]&&(D=!0);-1===ma&&(D=!1);if(D&&0<H.length){for(E=
0;E<H.length;)I=H[E],G=H[E+1],I<N&&(N=I),I>X&&(X=I),G<U&&(U=G),G>L&&(L=G),E+=3;I<this.Lm&&(this.Lm=I);I>this.Om&&(this.Om=I);G<this.Km&&(this.Km=G);G>this.Pm&&(this.Pm=G);K=Array.ea(Uint8,L-U+1,X-N+1,0,this.g.u,"View.rle"+this.Mg.length);for(E=0;E<H.length;)I=H[E],G=H[E+1],K[G-U][I-N]=H[E+2],E+=3;sa[0]=b;for(E=0;E<f.length;E+=1)sa[sa.length]=sa[sa.length-1]+f[E];this.Mg[this.Mg.length]={wi:sa,end:l,every:t,mode:x,cells:H,map:K,l:N,o:U,width:X-N+1,height:L-U+1,uK:ma,deltaX:z,deltaY:A};0<t&&(this.xj=
!0);sa[sa.length-1]>this.Ck&&(this.Ck=sa[sa.length-1])}return D};h.prototype.JM=function(){var b,l,f=this.g.width,t,x=this.g.M;for(b=0;b<this.Mg.length;b+=1){var z=this.Mg[b];var A=z.uK;if(0<A){var C=z.cells;var I=(f>>1)-(z.width>>1);var G=(f>>1)-(z.height>>1);var F=0;x.l=I;x.v=I+z.width-1;x.o=G;x.A=G+z.height-1;for(this.g.counter=0;F<C.length;)this.g.Rj(I+C[F]-z.l,G+C[F+1]-z.o,C[F+2],!0),F+=3;for(;0<A;)this.g.Be(!1,!0,!0,this.Rb),this.g.ee(),--A;C=[];F=0;var E=t=r.lk;for(l=x.o;l<=x.A;l+=1)for(A=
x.l;A<=x.v;A+=1){var D=this.g.getState(A,l,!1);0!==D&&(C[F]=A-I+z.l,C[F+1]=l-G+z.o,C[F+2]=D,C[F]<t&&(t=C[F]),C[F+1]<E&&(E=C[F+1]),F+=3)}z.cells=C.slice();z.width=x.v-x.l+1;z.height=x.A-x.o+1;z.o=E;z.l=t;z.map=Array.ea(Uint8,z.height,z.width,0,this.g.u,"View.rle"+b);for(F=0;F<C.length;)A=C[F],l=C[F+1],z.map[l-z.o][A-z.l]=C[F+2],F+=3;this.g.dr(!1)}}this.Mv&&this.g.dr(!1)};h.prototype.im=function(b){var l=!1,f=this.g.counter;var t=!1;if(this.g.la||this.g.N)f=this.g.$f;0!==b.every&&(this.g.la||this.g.N)&&
null!==this.g.Kc&&f<this.g.zj&&(l=!1,t=!0);if(!t)if(0!==b.every&&f>=b.wi[0]&&0===(f-b.wi[0])%b.every)-1!==b.end&&f>b.end||(l=!0);else for(t=0;t<b.wi.length&&!l;)f===b.wi[t]?l=!0:t+=1;return l};h.prototype.YI=function(){for(var b=!1,l=0,f=this.Mg.length;l<f&&!b;)b=this.im(this.Mg[l]),l+=1;return b};h.prototype.Uh=function(){var b,l=this.g.counter;var f=0;var t=this.g.width,x=this.g.i-1;-2==x&&(x=this.g.Ea?6:1);for(b=0;b<this.Mg.length;b+=1){var z=this.Mg[b];if(this.im(z)){var A=z.mode;var C=(t>>1)-
(this.gb>>1);var I=(t>>1)-(this.jb>>1);var G=z.map;if(0!==z.every&&(0!==z.deltaX||0!==z.deltaY)){var F=(l-z.wi[0])/z.every;C+=z.deltaX*F;I+=z.deltaY*F}C+=z.l;I+=z.o;for(z=0;z<G.length;z+=1){var E=G[z];if(this.g.N||this.g.ga)for(F=0;F<E.length;F+=1){var D=E[F];var H=this.g.getState(C+F,I+z,!1);switch(A){case r.aG:f=0;break;case r.PA:f=D&H;break;case r.PF:f=D&x-H;break;case r.YF:f=D;break;case r.QF:f=x-D&H;break;case r.$F:f=H;break;case r.aB:f=D^H;break;case r.Bs:f=D|H;break;case r.UF:f=x-(D|H);break;
case r.ZF:f=x-(D^H);break;case r.WF:f=x-H;break;case r.RF:f=D|x-H;break;case r.VF:f=x-D;break;case r.SF:f=x-D|H;break;case r.TF:f=x-(D&H);break;case r.XF:f=1}0>f?f=0:f>=x&&(f=x-1);this.g.Rj(C+F,I+z,f,!0)}else if(this.g.Ea||this.g.T)for(F=0;F<E.length;F+=1)D=E[F],A===r.lw?f=D:(f=D&1,H=this.g.getState(C+F,I+z,!1),H&=1,f=0===(A&8>>(f+f|H))?0:1),this.g.Rj(C+F,I+z,f,!0);else for(F=0;F<E.length;F+=1)D=E[F],f=0===D?0:1,H=this.g.getState(C+F,I+z,!1),H=0===H?0:1,f=0===(A&8>>(f+f|H))?0:1,this.g.Rj(C+F,I+z,
f,!0)}}}if(this.xj||l<=this.Ck)this.g.ba=1;this.OF()};h.prototype.OF=function(){var b,l=this.g.counter;for(b=0;b<this.vc;b+=1)this.ag[b].Oh===l&&this.eB(this.ag[b].Rn,!1);this.g.bh()};h.prototype.lm=function(b){this.Zn=this.tm=this.$r=this.cs=this.nl=this.bs=this.Zr=this.Yr=this.$n=this.es=this.ds=b};h.prototype.pJ=function(){this.lm(!1)};h.prototype.RN=function(){this.lm(!0)};h.prototype.ZD=function(){this.wv=[];this.xv=[]};h.prototype.lJ=function(b){var l=b.Zc.toDataURL("image/png"),f;(f=document.getElementById("screenshot"))?
f.src=l:(f=window.open("",r.XB))?(f.width=b.I+20,f.height=b.H+20,f.document.open(),f.document.write('<!DOCTYPE html>\n<html>\n\t<head>\n\t\t<meta charset="UTF-8">\n\t\t<title>'+r.XB+'</title>\n\t</head>\n\t<body>\n\t\t<img width="'+b.I+'" height="'+b.H+'" src="'+l+'" alt="'+r.XB+'"/>\n\t</body>\n</html>\n'),f.document.close(),b.j.notification.notify("Image Captured",15,300,15,!0)):b.j.notification.notify("Could not open Image window!",15,r.hv,15,!0)};h.prototype.EJ=function(b){var l=this.g.fb,f=this.g.ca,
t=this.g.Ma,x=this.g.cc,z=b.width,A=b.height,C=this.Tc,I=this.Uc,G=this.g.Fb,F=this.g.Fb>>4,E=this.g.Kb,D=null,H=z,N=A;var K=Math.round(-this.g.Ca/2);var P=Math.floor((this.g.Ca-1)/2);var J=Math.round(-this.g.xa/2);var S=Math.floor((this.g.xa-1)/2);var X=C-(this.g.width>>1);var U=X+z-1;var L=I-(this.g.height>>1),ja=L+A-1;A=this.g.i;var W=!0;z=2===A&&this.g.sa;-1!==this.g.ya&&(0!==this.g.Ca&&(X<K||U>P)&&(W=!1),0!==this.g.xa&&(L<J||ja>S)&&(W=!1),W||(this.uD=!0,0!==this.g.Ca?(C=Math.round(this.g.width/
2)+K,H>P-K+1&&(H=P-K+1)):C=Math.round(this.g.width/2),0!==this.g.xa?(I=Math.round(this.g.height/2)+J,N>S-J+1&&(N=S-J+1)):I=Math.round(this.g.height/2)));b.R&&(0!==(C&1)&&(C+=1),0!==(I&1)&&(I+=1));b.la&&(0===(C&1)&&--C,0===(I&1)&&--I);for(P=0;P<N;P+=1){X=b.Ae[P];U=l[P+I&E];if(this.ud||this.g.N||this.g.ga||this.g.T)for(J=b.kh[P],D=f[P+I&E],K=0;K<H;K+=1)S=J[K],0<S&&(S+=this.O),D[K+C&G]=S;else if(2<A)for(J=b.kh[P],D=f[P+I&E],K=0;K<H;K+=1)S=J[K],0<S&&!this.g.Pa&&(S=A+this.O-S),D[K+C&G]=S;z&&(D=f[P+I&E]);
for(K=0;K<H;K+=1)0!==(X[K>>4]&1<<(~K&15))&&(U[K+C>>4&F]|=1<<(~(K+C)&15),z&&(D[K+C&G]=LifeConstants.Hb))}if(x)for(P=0;P<N;P+=1)for(J=b.kh[P],l=x[P+I&E],K=0;K<H;K+=1)(S=J[K])&&(l[K+C&G]=r.Za[S]+128);(this.g.N||this.g.ga||this.g.T)&&t.Wa.set(f.Wa)};h.prototype.lv=function(){var b=!1;-1!==this.g.ya&&0!==this.g.Ca&&0!==this.g.xa&&(b=!0);return b};h.prototype.Mt=function(){var b=!1;-1===this.g.ya||0!==this.g.Ca&&0!==this.g.xa||(b=!0);return b};h.prototype.tx=function(b,l,f){b=b[0];l&&(f.wd=b);return[b,
100*b]};h.prototype.pD=function(b,l,f){l&&(f.Ng=b[0]);return[f.Ng,r.rM[f.Ng+.5|0]]};h.prototype.SJ=function(b){b.Ta||(b.Ng=(b.Ng+.5|0)+1,b.Ng>=r.JF&&(b.Ng=0),b.vo.current=b.pD([b.Ng,b.Ng],!0,b))};h.prototype.KH=function(b,l,f){l&&(f.Kj=b[0],f.Kj<r.cw&&(f.Kj=r.cw),f.Kj>r.Xv&&(f.Kj=r.Xv));return[f.Kj,f.Kj]};h.prototype.Yk=function(b,l,f){l&&(f.Vg=(f.g.i-f.fh)*b[0]|0);b[1]=f.Vg+"-"+(f.Vg+f.fh-1);return b};h.prototype.Uk=function(b,l,f){var t=b[0],x=0;l?(f.Ig=!0,f.g.zoom=r.za*Math.pow(r.$a/r.za,b[0])/
f.g.xc):(t=Math.log(f.g.zoom*f.g.xc/r.za)/Math.log(r.$a/r.za),0>t?t=0:1<t&&(t=1));this.oe&&!this.vf?x=f.g.zoom*f.g.xc:x=f.g.zoom;x<r.za?x=r.za:x>r.$a&&(x=r.$a);1>x&&(x=-1/x);return[t,x]};h.prototype.eJ=function(b){var l=b/6E4|0;b=b%6E4/1E3;var f="";0<l&&(f=l+":",10>b&&(f+="0"));return f+=b.toFixed(2)};h.prototype.dh=function(b,l,f){var t=this.g.zoom,x=this.g.Aa,z=this.g.va,A=6,C=this.Dm,I=this.Cb;var G=(this.g.width>>1)-(this.gb>>1)+(this.Nb<<1);var F=(this.g.height>>1)-(this.jb>>1)+(this.Ob<<1);
f===r.mv&&(C.l=I.l+G,C.v=I.v+G,C.l>C.v&&(G=C.v,C.v=C.l,C.l=G),C.o=I.o+F,C.A=I.A+F,C.o>C.A&&(G=C.A,C.A=C.o,C.o=G));this.vb?(f=this.g.dh(f,C,this.sb,this.I*this.Ge,this.H*this.Ge,r.za,r.$a,r.yx,this.gb,this.jb,this.Ta&&this.ud,this.Ci,this.Mi,this.zc),f[0]/=this.Ge):(I=r.lL,this.Sc&&(I=0),f=this.g.dh(f,C,this.sb,this.I,this.H-I,r.za,r.$a,r.yx,this.gb,this.jb,this.Ta&&this.ud,this.Ci,this.Mi,this.zc));this.zc&&!b?(24<this.g.zoom&&(A=3),1<this.Ha&&(A=1),this.g.zoom=(this.g.zoom*(A-1)+f[0])/A,this.g.Aa=
(this.g.Aa*(A-1)+f[1])/A,this.g.va=(this.g.va*(A-1)+f[2])/A,b=this.g.zoom>t?this.g.zoom/t-1:t/this.g.zoom-1,x=this.g.Aa>x?this.g.Aa-x:x-this.g.Aa,z=this.g.va>z?this.g.va-z:z-this.g.va,this.zn=b,x>this.zn&&(this.zn=x),z>this.zn&&(this.zn=z),.01>=this.zn&&(this.g.zoom=f[0],this.g.Aa=f[1],this.g.va=f[2])):(this.jn=this.g.width/2-this.g.Aa,this.kn=this.g.height/2-this.g.va,this.Oo=this.g.zoom,this.hn=this.g.angle,this.dl=this.g.width/2-f[1],this.Un=this.g.height/2-f[2],this.Vn=f[0],this.Ar=this.hn,this.jt=
WaypointConstants.oq,l?this.sh=0:(this.sh=WaypointConstants.oq,this.dD()));this.yc&&(this.yc.current=this.Uk([this.g.zoom,this.g.zoom],!1,this));this.Hd&&(this.Hd.current=this.wt([this.g.angle,this.g.angle],!1,this))};h.prototype.wJ=function(b,l){-1!==this.g.ya&&this.mh?(this.Tc=(this.g.width>>1)+this.Nb,this.Uc=(this.g.height>>1)+this.Ob):(this.Tc=Math.round((this.g.width-b)/2)+this.Nb,this.Uc=Math.round((this.g.height-l)/2)+this.Ob);!this.Ta&&this.g.Ea||!this.D.fl||-1===this.g.i||(this.Ta=this.ud=
!0)};h.prototype.bt=function(b){var l=b;0>b&&(b=-b);var f=b+String();1E9<=b?f="1B+":1E8<=b?f=(b/1E6|0)+"M":1E7<=b?f=(Math.floor(Number(b/1E5))/10).toFixed(1)+"M":1E6<=b?f=(Math.floor(Number(b/1E4))/100).toFixed(2)+"M":1E5<=b&&(f=(b/1E3|0)+"K");0>l&&(f="-"+f);return f};h.prototype.Uq=function(b,l){var f=this.j.ql,t=this.j.rl;l=b+l;var x=-this.g.angle,z=Math.sin(x/180*Math.PI);x=Math.cos(x/180*Math.PI);0>l?l=0:1<l&&(l=1);b=r.za*Math.pow(r.$a/r.za,b);l=r.za*Math.pow(r.$a/r.za,l);l<r.za?l=r.za:l>r.$a&&
(l=r.$a);f-=this.I/2;t-=this.H/2;f=(f-l/b*f)/l;b=(t-l/b*t)/l;this.g.Aa-=f*x+b*-z;this.g.va-=f*z+b*x;l=Math.log(l/r.za)/Math.log(r.$a/r.za);this.yc.current=this.Uk([l,l],!0,this)};h.prototype.Ay=function(b,l){var f=r.Jg;b.g.sa&&(f=4*b.g.Ja.hi+1,-1!==b.g.ya&&(f+=2*b.g.Ja.hi),b.g.Ja.type===this.D.wf&&(f=-1!==b.g.ya?f+b.g.xa/2:f+(b.g.M.A-b.g.M.o+1)/2),f<r.Jg&&(f=r.Jg));for(;b.g.nJ(l,f);)b.Oe+=b.g.width>>2,b.nj+=b.g.height>>2,b.We+=b.g.width>>2,b.Qj+=b.g.height>>2,b.g.S&&(b.Oe-=b.g.height>>3,b.We-=b.g.height>>
3),b.Tc+=b.g.width>>2,b.Uc+=b.g.height>>2,l.l+=b.g.width>>2,l.v+=b.g.width>>2,l.o+=b.g.height>>2,l.A+=b.g.height>>2};h.prototype.YD=function(b){var l=!1,f=b.Cb,t=b.Dm,x=(b.g.width>>1)-(b.gb>>1)+(b.Nb<<1),z=(b.g.height>>1)-(b.jb>>1)+(b.Ob<<1);t.l=f.l+x;t.o=f.o+z;t.v=f.v+x;t.A=f.A+z;b.Ay(b,t);x=(b.g.width>>1)-(b.gb>>1);z=(b.g.height>>1)-(b.jb>>1);0>f.l+x&&(f.l=-x,l=!0);f.l+x>=b.g.width&&(f.l=b.g.width-1-x,l=!0);0>f.v+x&&(f.v=-x,l=!0);f.v+x>=b.g.width&&(f.v=b.g.width-1-x,l=!0);0>f.o+z&&(f.o=-z,l=!0);
f.o+z>=b.g.height&&(f.o=b.g.height-1-z,l=!0);0>f.A+z&&(f.A=-z,l=!0);f.A+z>=b.g.height&&(f.A=b.g.height-1-z,l=!0);return l};h.prototype.IO=function(b){b.jg.current=b.g.counter/b.Ug*100;b.jg.m=!1;b.Pe.be=0};h.prototype.GO=function(b){b.jg.current=b.Pk/b.To*100;b.jg.m=!1;b.Pe.be=0};h.prototype.HO=function(b,l){b.jg.current=b.g.counter/l*100;b.jg.m=!1;b.Pe.be=0};h.prototype.FO=function(b){var l=!1,f=!1,t=0;b.Rc||-1===b.ib||(l=!0);!b.He&&b.Wc&&(f=!0);if(l||f){var x=!1;if(f&&l)t=b.elapsedTime/b.X.sK(b.ib);
else if(f){if(l=b.X.KL().ed)t=b.elapsedTime/l,1<t&&(x=!0)}else 0<b.ib&&(t=b.g.counter/b.ib);1<t&&(t=1);b.jg.current=100*t}else x=!0;(b.jg.m=x)?b.Pe.be=b.s.be:b.Pe.be=0};h.prototype.mK=function(){this.Gl.RO(this.g.width/2-this.g.ve,this.g.height/2-this.g.we,this.g.na,this.g.rb,this.g.I,this.g.H,this.g.fe,this.g.De[0])};h.prototype.AG=function(){var b=this.s.rf-this.I/2,l=this.s.Kg-this.H/2,f=this.Uc-this.g.va,t=this.Tc-this.g.Aa-(this.g.S?this.g.va/2:0),x=this.g.zoom;var z=this.g.zoom*(this.g.R?r.ne:
1);var A=-1;-1!==this.s.rf&&(0!==this.g.rb&&(A=Math.sqrt(b*b+l*l),l=180/Math.PI*Math.atan2(l,b),l-=this.g.rb,b=A*Math.cos(Math.PI/180*l),l=A*Math.sin(Math.PI/180*l)),z=l/z-f+this.g.Zb,b=b/x+(this.g.S?f/2+z/2:0)-t+this.g.bc,this.g.R&&(b-=this.g.zoom/32*.2),t=b-Math.floor(b),f=z-Math.floor(z),b-=t,z-=f,this.g.R&&(0===(b+this.Tc+z+this.Uc&1)?1<t+f&&(b+=1):1>1-t+f&&(b+=1)),A=this.g.getState(b+this.Tc,z+this.Uc,this.ud&&this.Ta));return A};h.prototype.px=function(b,l){var f=b-this.I/2,t=l-this.H/2;l=this.Uc-
this.g.va;var x=this.Tc-this.g.Aa-(this.g.S?this.g.va/2:0),z=0,A=0,C=0,I=0,G=this.g.zoom,F=this.g.zoom*(this.g.R?r.ne:1);-1!==b&&(0!==this.g.rb&&(b=Math.sqrt(f*f+t*t),t=180/Math.PI*Math.atan2(t,f),t-=this.g.rb,f=b*Math.cos(Math.PI/180*t),t=b*Math.sin(Math.PI/180*t)),z=t/F-l+this.g.Zb,A=f/G+(this.g.S?l/2+z/2:0)-x+this.g.bc,this.g.R&&(A-=this.g.zoom/32*.2),I=A-Math.floor(A),C=z-Math.floor(z),A-=I,z-=C);this.g.R&&(0===(A+this.Tc+z+this.Uc&1)?1<I+C&&(A+=1):1>1-I+C&&(A+=1));this.qk=A+this.Tc;this.rk=z+
this.Uc};h.prototype.Gt=function(b,l,f,t,x){var z=Math.abs(f-b),A=Math.abs(t-l),C=b<f?1:-1,I=l<t?1:-1,G=z-A,F=this.g.width,E=this.g.height,D;for(D=0|this.dd(b,l,x);F!==this.g.width;)F<<=1,E<<=1,b+=F>>2,l+=F>>2,f+=F>>2,t+=F>>2,this.Oe+=F>>2,this.nj+=E>>2,this.We+=F>>2,this.Qj+=E>>2,this.g.S&&(this.Oe-=E>>3,this.We-=E>>3),this.Tc+=F>>2,this.Uc+=E>>2;for(;b!==f||l!==t;){var H=G+G;H>-A&&(G-=A,b+=C);H<z&&(G+=z,l+=I);for(D|=this.dd(b,l,x);F!==this.g.width;)F<<=1,E<<=1,b+=F>>2,l+=F>>2,f+=F>>2,t+=F>>2,this.Oe+=
F>>2,this.nj+=E>>2,this.We+=F>>2,this.Qj+=E>>2,this.g.S&&(this.Oe-=E>>3,this.We-=E>>3),this.Tc+=F>>2,this.Uc+=E>>2}return D};h.prototype.VN=function(){var b=170,l=this.Ff.jD,f=this.Ff.Xm,t=this.Vr.Xm;this.Qr.setPosition(Menu.ra,0,b-48);this.di.yI(b-48);this.Ff.setPosition(Menu.ra,f,b);this.Vr.setPosition(Menu.ra,t,b);b+=l;this.Xi.setPosition(Menu.ra,f,b);this.Rr.setPosition(Menu.ra,t,b);b+=l;"Oscillator"!==this.Eb||this.eg||(this.Vi.setPosition(Menu.ra,f,b),this.Pr.setPosition(Menu.ra,t,b),b+=l);
this.Wi.setPosition(Menu.ra,f,b);this.Dv.setPosition(Menu.ra,t,b);b+=l;"Spaceship"!==this.Eb||this.g.S||this.g.R||(this.Yi.setPosition(Menu.ra,f,b),this.Ev.setPosition(Menu.ra,t,b),b+=l);"Still Life"!==this.Eb&&(this.aj.setPosition(Menu.ra,f,b),this.Gv.setPosition(Menu.ra,t,b),b+=l,this.eg||this.g.S||this.g.R||(this.$i.setPosition(Menu.ra,f,b),this.Fv.setPosition(Menu.ra,t,b),b+=l));"Spaceship"===this.Eb&&(this.g.S||this.g.R||(this.bj.setPosition(Menu.ra,f,b),this.Iv.setPosition(Menu.ra,t,b),b+=l),
this.cj.setPosition(Menu.ra,f,b),this.Tr.setPosition(Menu.ra,t,b),b+=l);"Still Life"!==this.Eb&&(this.Zi.setPosition(Menu.ra,f,b),this.Sr.setPosition(Menu.ra,t,b),b+=l);"Oscillator"!==this.Eb||this.eg||(this.ak.setPosition(Menu.ra,f,b),this.Ur.setPosition(Menu.ra,t,b),b+=l,this.bk.setPosition(Menu.ra,f,b),this.Jz.setPosition(Menu.ra,t,b))};h.prototype.KO=function(b){var l=0;this.Zd[this.yd]=b;this.yd+=1;this.yd>=r.jM&&(this.yd=0);for(b=0;b<this.Zd.length;b+=1)l+=this.Zd[b];l/=this.Zd.length;this.Yd.Xa=
String(Math.round(l));this.Yd.m=!1};h.prototype.Ey=function(){var b;for(b=0;b<this.Zd.length;b+=1)this.Zd[b]=0;this.yd=0;this.Yd.m=!0};h.prototype.aO=function(){var b=this.s.rf-this.I/2,l=this.s.Kg-this.H/2,f=this.Uc-this.g.va,t=this.Tc-this.g.Aa-(this.g.S?this.g.va/2:0),x=this.g.zoom,z=this.g.zoom*(this.g.R?r.ne:1);var A=9999<this.g.ma?99999:9999;if(-1===this.s.rf)this.$j.Xa="",this.$j.m=!this.rh;else{if(0!==this.g.rb){var C=Math.sqrt(b*b+l*l);l=180/Math.PI*Math.atan2(l,b);l-=this.g.rb;b=C*Math.cos(Math.PI/
180*l);l=C*Math.sin(Math.PI/180*l)}z=l/z-f+this.g.Zb;b=b/x+(this.g.S?f/2+z/2:0)-t+this.g.bc;this.g.R&&(b-=this.g.zoom/32*.2);t=b-Math.floor(b);f=z-Math.floor(z);b-=t;z-=f;this.g.R&&(0===(b+this.Tc+z+this.Uc&1)?1<t+f&&(b+=1):1>1-t+f&&(b+=1));f=this.g.getState(b+this.Tc,z+this.Uc,this.ud&&this.Ta);b+=this.Nb;z+=this.Ob;-1===this.g.ya||this.mh||(b-=Math.floor((-1===this.Ok?this.gb:this.Ok)/2),z-=Math.floor((-1===this.Nk?this.jb:this.Nk)/2));b=b<-A||b>A?Number(b/1E3).toFixed(1)+"K":String(b);A=z<-A||
z>A?Number(z/1E3).toFixed(1)+"K":String(z);this.$j.Xa=b+","+A+"="+f+" ("+this.Fr(f)+")";this.$j.m=!1}this.$j.enabled=this.rh||!this.eb&&-1!==this.s.rf?this.ha||this.hc||0===this.gb?!1:!0:!1;!this.tb&&!this.vk||this.ha&&!this.hc?this.Zm.enabled=!1:(this.Zm.enabled=!0,b=this.Cb.v>this.Cb.l?this.Cb.v-this.Cb.l+1:this.Cb.l-this.Cb.v+1,z=this.Cb.A>this.Cb.o?this.Cb.A-this.Cb.o+1:this.Cb.o-this.Cb.A+1,this.Zm.Xa=b+" x "+z)};h.prototype.QM=function(b){if(!this.Sc&&!this.vb)if(0<this.ha)0<b?this.Ww(this,
b/125*3):this.Vw(this,-b/125*3);else if(0<this.hc)0<b?this.Uw(this,b/125*3):this.Tw(this,-b/125*3);else if(!this.Id){var l=this.yc.current[0];this.Uq(l,b/125*.05)}};h.prototype.AO=function(b){var l=b.g.counter,f=" ";if(b.g.la||b.g.N)l=b.g.$f;b.jl?(0>l&&(f=""),b.Pe.lower[0]="+"+f+b.bt(l),b.Pe.F=["toggle generation statistics [G]\ngeneration +"+l]):(0>l+b.xi&&(f=""),b.Pe.lower[0]="T"+f+b.bt(l+b.xi),b.Pe.F=["toggle generation statistics [G]\ngeneration "+(l+b.xi)]);b.g.la?(b.bg.Xa=b.g.counter,b.bg.F=
"absolute generation "+b.g.counter):b.jl?(1E9<=l?b.bg.Xa="1B+":b.bg.Xa=l,b.bg.Xa=l,b.bg.F="generation "+l):(l+=b.xi,1E9<=l?b.bg.Xa="1B+":b.bg.Xa=l,b.bg.F="absolute generation "+l);b.Wn.F=b.bg.F};h.prototype.WO=function(b,l){var f=l.X.current;var t=!1,x=!1,z=!1,A=!1,C=!1,I,G=l.g.M,F=new BoundingBox(G.l,G.o,G.v,G.A);l.Id=!1;l.Rz&&(l.Rz=!1,b=0);l.Ta||l.FO(l);l.Ha=l.Td.current[0];l.eb?(b>r.FK&&(x=!0),b>r.$G&&(b=r.$G),!l.eb||l.Wc&&!l.He||(l.Mf+=l.Ha*l.Eg*b/1E3,l.sb+=l.Eg*b/1E3,(l.sb|0)>l.g.counter?(l.sb+=
l.Ha-1,l.Hi=!0):l.elapsedTime+=b)):l.Hi&&(C=!0,l.sb=l.fC?l.g.counter+1:l.g.counter+l.Ha,l.Mf=l.sb);l.eD();l.Wc&&!l.He&&l.eb?(l.X.Kr&&(l.Ig&&!l.X.OD(l.elapsedTime+b)&&(l.Ig=!1,l.elapsedTime=l.X.RJ(l.g.width/2-l.g.Aa,l.g.height/2-l.g.va,l.g.zoom,l.g.angle,l.g.W,l.g.ze*r.Nn,l.g.Df,l.Eg,l.Ha,l.g.counter,l.elapsedTime)),f.nf&&(l.dh(!0,!1,r.hl),l.Ig=!1,f.x=l.g.width/2-l.g.Aa,f.y=l.g.height/2-l.g.va,l.vb&&(l.g.zoom*=l.Ge),f.zoom=l.g.zoom)),(z=l.X.update(l,l.elapsedTime+b,l.g.counter))?(f.nf&&(f.nf=!1,l.vb&&
(l.g.zoom=f.zoom/l.Ge),l.yc&&(l.yc.current=l.Uk([l.g.zoom,l.g.zoom],!1,l))),l.sb+=l.Eg*b/1E3,(l.sb|0)>l.g.counter&&(l.sb+=l.Ha-1,l.Hi=!0)):(l.X.Kr&&(l.eb&&(l.Id=!0),l.g.va=l.g.height/2-f.y,l.g.Aa=l.g.width/2-f.x,l.g.S&&(l.g.Aa-=l.g.va/2),l.g.zoom=f.zoom,l.vb&&(l.g.zoom=l.g.zoom/l.Ge),l.yc&&(l.yc.current=l.Uk([l.g.zoom,l.g.zoom],!1,l)),l.g.angle=f.angle,l.Hd&&(l.Hd.current=[l.g.angle,l.g.angle]),l.g.W=f.W,l.he&&(l.he.current=[l.g.W,l.g.W]),l.g.ze=f.depth/r.Nn+r.$v,l.hd&&(l.hd.current=[Math.sqrt(l.g.ze),
l.g.ze*r.Nn])),l.Eg=f.Cc,l.kc&&(l.kc.current=[Math.sqrt((f.Cc-r.hh)/(r.Bm-r.hh)),l.DE(f.Cc)]),l.Ha=f.step,l.Td.current=[l.Ha,l.Ha],f.fc>l.g.counter?(l.Hi=!0,l.sb=f.fc):l.Hi=!1,f.Tf!==l.ls&&(""===f.Tf?l.j.notification.clear(!1,!1):l.j.notification.notify(ScriptParser.Jq(this,f.Tf),15,21600,15,!1),l.ls=f.Tf),f.Gc!==l.gA&&(l.an(f.Gc,l.g.Xl,l),l.gA=f.Gc)),l.Hi||(l.elapsedTime+=b)):l.zc&&l.eb&&(l.Id=!0);l.Id&&(l.sh=-1);f=0;if(l.Hi){if(l.g.ba){var E=performance.now();var D=(l.sb|0)-l.g.counter;for(I=0;!A&&
l.g.counter<(l.sb|0);){f=performance.now()-E;if(l.g.counter===l.dc-1&&!l.Ze||f>r.uH&&!C)l.g.counter!==l.dc-1||l.Ze?A=l.Ul:A=!0;l.g.cd&&l.qb("reverse playback");F.set(G);l.rh&&(l.g.counter===(l.sb|0)-1||A)?l.g.Be(!0,l.Pd,l.Dc,l.Rb):l.g.Be(!1,l.Pd,l.Dc,l.Rb);I+=1;(l.g.Il||l.YI()||l.g.counter===(l.sb|0)||A)&&!(0===l.g.ba&&2<l.g.i)&&(l.g.ee(),l.Uh(),l.xj||l.g.counter<=l.Ck)&&(l.g.ba=1);0===l.g.ba&&G.set(F);l.HN(b,D);-1!==l.ib&&l.g.counter>=l.ib&&!l.Rc&&(l.elapsedTime=0,l.reset(l),l.gf&&l.yg&&(l.Bb.current=
l.Fd(r.Te,!0,l),l.j.notification.notify("LOOP reached - Play to continue ",15,180,15,!0)),z&&(l.Id=!0));l.g.ba||(A=!0)}l.g.ba||(l.sz=l.O+(0<l.g.i?l.g.i:0),-1===l.oj&&(l.oj=l.g.counter,l.g.T?l.g.ba=1:l.g.N||l.g.ga?l.g.dr(!1):l.g.dr(!0),!l.Ep||-1!==l.ib&&!l.Rc||l.Tn||l.j.notification.notify("Life ended at generation "+l.oj,15,600,15,!0)));l.sb-=D-I;l.Mf-=D-I;0>l.sb&&(l.sb=0);0>l.Mf&&(l.Mf=0);I<D&&(l.g.counter!==l.dc||l.Ze)&&l.Hj?l.KO(I):l.Ey()}else l.Ey(),l.sz&&(--l.sz,b=l.g.counter,l.g.counter=l.oj,
l.g.ee(),l.g.counter=b),l.g.counter+=l.Ha,-1!==l.ib&&l.g.counter>=l.ib&&!l.Rc&&(l.elapsedTime=0,l.reset(l),z&&(l.Id=!0));l.g.counter!==l.dc||l.Ze||(l.Bb.current=l.Fd(r.Te,!0,l),l.Ep&&l.j.notification.notify("STOP reached - Play to continue ",15,180,15,!0))}else l.Ey();l.Hi&&!l.eb&&l.qb("");l.Hd.locked=l.Id&&l.Wc||l.g.S||l.g.R;l.fj.locked=l.Id&&l.Wc;l.gl.locked=l.Id||l.zc&&l.eb;l.kc.locked=l.Id&&l.Wc;l.Td.locked=l.Id&&l.Wc;l.Qi.locked=l.Id&&l.Wc;l.yc.locked=l.Id;l.he.locked=l.Id&&l.Wc||l.g.S||l.g.R;
l.hd.locked=l.Id&&l.Wc||l.g.S||l.g.R;l.wheelDelta&&(l.QM(l.wheelDelta),l.wheelDelta=0);l.JB(l,x,f,C);l.Hi=!1;l.fC=!1;if(l.eb||l.zc&&l.zn>l.hJ||-1!==l.sh)t=!0;l.j.rg(t)};h.prototype.JB=function(b,l,f,t){b.zc&&(b.eb||b.Wc)&&b.dh(!1,!1,r.hl);b.g.bN(b.zr,b.Li);b.Li&&b.mK();b.zr&&b.j.rg(!0);b.g.cv();!b.g.sc&&b.g.S&&4<=b.g.zoom?b.g.kK():!b.g.sc&&b.g.R&&4<=b.g.zoom&&b.g.oK();b.Ho&&(2===b.Ho&&b.g.ev(b.lh,1,!0,b.vb,b),b.lJ(b),2===b.Ho&&b.g.cv(),b.Ho=0);b.g.lK(b);b.g.counter&&b.g.ba&&(b.Dm.l=b.g.M.l,b.Dm.o=
b.g.M.o,b.Dm.v=b.g.M.v,b.Dm.A=b.g.M.A,b.Ay(b,b.Dm));b.Ki&&b.X.iz(b);!b.ad||b.ge||b.qg||b.g.ev(b.lh,b.wd,!1,b.vb,b);b.ha?Help.dv(b):b.od.length&&Help.kz(b);b.AO(b);b.Sn.Xa=b.eJ(b.elapsedTime);b.Rm.Xa=b.bt(b.g.oa);b.lv()?b.pk.Xa=(100*b.g.oa/(b.g.xa*b.g.Ca)|0)+"%":(b.pk.Xa=b.bt(b.g.Qb),b.em.Xa=b.bt(b.g.Ub));b.Rm.F="alive "+b.g.oa;b.lv()?b.pk.F="density "+(100*b.g.oa/(b.g.xa*b.g.Ca)|0)+"%":(b.pk.F="births "+b.g.Qb,b.em.F="deaths "+b.g.Ub);b.Hj?b.zO(f,l,t,b):(b.kc.Yc=b.gl.Yc,b.Td.Yc=b.gl.Yc);b.aO();-1!==
b.sh&&b.dD();b.BO();b.MO();b.CO();b.NO(b.ha||b.od.length);!b.Oc.current[0]||b.Bi&&b.eb||(b.Ec.globalAlpha=.5,b.Ec.fillStyle="black",b.Ec.fillRect(0,0,b.Zc.width,b.Zc.height),b.Ec.globalAlpha=1)};h.prototype.zO=function(b,l,f,t){b>r.uH&&!f?(t.Fj+=r.kG,t.Fj>=2*r.iB&&(t.Fj=0)):0<t.Fj&&(t.Fj-=r.kG);l&&!f?t.Gj<r.uM&&(t.Gj+=r.lG):t.Gj>r.vM&&(t.Gj-=r.lG);t.Fj>=r.iB&&(t.qP=2*r.iB-t.Fj);b=t.jp>>16;l=t.jp>>8&255;f=t.jp&255;128<=b?64<=l||64<=f?(l-=t.Gj,f-=t.Gj,0>l&&(l=0),0>f&&(f=0)):(l+=t.Gj,255<l&&(l=255)):
(b+=t.Gj,255<b&&(b=255));t.kc.Yc="rgb("+b+","+l+","+f+")";b=t.jp>>16;l=t.jp>>8&255;f=t.jp&255;128<=l?(b-=t.Gj,0>b&&(b=0),f-=t.Fj,0>f&&(f=0)):(l+=t.Fj,255<l&&(l=255));t.Td.Yc="rgb("+b+","+l+","+f+")"};h.prototype.eD=function(){if(this.oe&&!this.vf){this.g.bc=this.Mf*(this.qn+this.cp)/2;this.g.Zb=this.Mf*(this.bp+this.rn)/2;var b=this.g.RH(0,this.bp,this.qn,this.rn,this.cp,this.I,this.H-80,r.za,r.$a,r.yx);var l=this.g.RH(this.Mf,this.bp,this.qn,this.rn,this.cp,this.I,this.H-80,r.za,r.$a,r.yx);this.g.xc=
l/b}else this.g.bc=0,this.g.Zb=0,this.g.xc=1;this.yc.current=this.Uk([this.g.zoom,this.g.zoom],!1,this)};h.prototype.NO=function(b){var l=!(this.ha&&this.xk===r.ei),f,t=0,x=[],z=[],A=this.Oc.current[0];this.Bb.Hg[1]=this.Pd||0===this.g.counter&&(!this.g.la&&!this.g.N||null===this.g.Kc)?!0:!1;var C=b||!this.Lk;for(f=0;f<=this.g.Ue;f+=1)this.G[f].m=C;this.vm.m=C;this.pm.m=C;this.wm.m=C;this.sm.m=C;for(f=0;f<r.mt.length;f+=1)r.mt[f]===this.g.Ue&&(this.G[f].locked=!this.Nh);C=b||!this.Lj||"Empty"===this.Eb||
"none"===this.Eb;this.di.m=b||!this.Lj;this.Qr.m=C;this.Ff.m=C;this.Xi.m=C;this.Wi.m=C;this.Yi.m=C||"Spaceship"!==this.Eb||this.g.S||this.g.R;this.aj.m=C||"Still Life"===this.Eb;this.$i.m=C||"Still Life"===this.Eb||this.eg||this.g.S||this.g.R;this.Vi.m=C||"Oscillator"!==this.Eb||this.eg;this.bj.m=C||"Spaceship"!==this.Eb||this.g.S||this.g.R;this.cj.m=C||"Spaceship"!==this.Eb;this.Zi.m=C||"Still Life"===this.Eb;this.ak.m=C||"Oscillator"!==this.Eb||this.eg;this.bk.m=C||"Oscillator"!==this.Eb||this.eg;
this.Vr.m=C;this.Rr.m=C;this.Dv.m=C;this.Ev.m=C||"Spaceship"!==this.Eb||this.g.S||this.g.R;this.Gv.m=C||"Still Life"===this.Eb;this.Fv.m=C||"Still Life"===this.Eb||this.eg||this.g.S||this.g.R;this.Pr.m=C||"Oscillator"!==this.Eb||this.eg;this.Iv.m=C||"Spaceship"!==this.Eb||this.g.S||this.g.R;this.Tr.m=C||"Spaceship"!==this.Eb;this.Sr.m=C||"Still Life"===this.Eb;this.Ur.m=C||"Oscillator"!==this.Eb||this.eg;this.Jz.m=C||"Oscillator"!==this.Eb||this.eg;this.Bo.locked=this.vc===this.mo;this.Zj.locked=
1>=this.vc||"undo [Ctrl Z]"===this.Zj.F;this.fj.m=b;this.yc.m=b;this.gl.m=b;this.zi.m=b;this.Bn.m=b;this.mn.m=b;this.vh.m=b;this.Am.m=b;this.Cd.m=b;C=(this.up.m=b)||!this.ad||this.ge||this.qg||A;this.bq.m=C;this.Ui.m=C;this.Wp.m=C;C=b||this.ad||this.qg||A;(this.g.la||this.g.N)&&null!==this.g.Kc&&(this.wr.m=C);this.qe.m=!(this.Rb||-1!==this.Ug);this.qe.locked=!1;this.Wn.m=b;this.bg.m=b;this.$d.m=b;this.Sn.m=b;this.qd.m=b;C=(this.Rm.m=b)||this.Mt();this.nk.m=C;C=(this.pk.m=C)||this.lv();this.Xc.m=C;
this.em.m=C;this.Ym.m=b;this.gl.m=b;this.lg.m=b||!this.Kl;this.U.m=!(this.Bd||this.od.length);this.Cl||this.Dl||this.El||this.Fl||this.Lk?(this.gj.Xa="Back",this.gj.F="back to previous menu [Backspace]"):(this.gj.Xa="Close",this.gj.F="close menu [Backspace]");C=(this.gj.m=b)||this.Lk;this.hd.m=C;this.Hd.m=C;this.he.m=C;C=b||this.Lk||this.Cl||this.Dl||this.Fl||this.El;this.Ds.m=C;this.Qi.m=C;this.Xr.m=C;this.xr.m=C;this.ow.m=C;this.mm.m=C;C=b||!this.El;this.gk.m=C;this.hk.m=C;this.fk.m=C;this.ek.m=
C;this.tq.m=C;this.Lp.m=C;this.ci.m=C;this.bi.m=C;this.Vk.m=C;this.ik.m=C;this.mi.m=C;C=b||!this.Dl;this.Dp.m=C;this.nt.m=C;this.Np.m=C;this.wq.m=C;this.wq.locked=!this.il;this.Ts.m=C;C=b||!this.Cl;this.wj.m=C;this.br.m=C;this.Ak.m=C;this.Fq.m=C;this.xm.m=C;this.op.m=C;this.yn.m=C;this.rq.m=C;C=b||!this.Fl;this.Kp.m=C;this.on.m=C;this.cn.m=C;this.Qp.m=C;this.pp.m=C;C=this.g.Pa||!this.Ba;this.tq.locked=C;this.Lp.locked=C;this.ci.locked=C;this.bi.locked=C;this.rq.locked=2<this.g.i||this.g.sa||this.g.N||
this.g.Ea||this.g.T||this.g.ga||this.g.la;this.Ah.m=b||!(this.Cl||this.Dl||this.Fl||this.El);this.Ah.Xa=this.Cl?"Display":this.Dl?"Advanced":this.Fl?"Playback":this.El?"Pattern":"";this.Qp.locked=-1!==this.g.Vd||this.g.mw||this.g.sa&&!(1===this.g.Ja.hi&&this.g.Ja.type===this.D.Od&&2===this.g.Ja.Go)||this.g.R||this.g.ye;this.Qi.locked=this.ud||this.g.Pa||this.g.ga||this.g.T;this.Ak.locked=this.g.S&&!this.g.sc||this.g.R&&!this.g.sc;this.wj.locked=!(this.g.S||this.g.R);C=b||0===this.X.uc.length||A;this.qs.m=
C;this.Qs.m=C;C=b||!this.kd||this.ge||this.qg||this.ad;this.Hf.m=C;this.$b.m=C;this.If.m=C;this.oc.m=C;this.Gf.m=C;this.cb.m=C;this.ck.m=C;this.gi.m=C;this.li.m=C;this.yh.m=C;this.ji.m=C;this.ob.m=C;this.Gb.m=C;this.Pb.m=C;this.Db.m=C;this.od.length?(this.U.F="close errors [Esc]",this.U.Xa="Esc",this.U.bb("16px Arial"),this.U.Yc=this.fj.Yc):(this.U.F="close window [Esc]",this.U.Xa="X",this.U.bb("24px Arial"),this.U.Yc="red");this.Bh.m=!(this.ha&&this.xk!==r.ei);this.ka.m=!(this.ha&&this.xk!==r.ei)||
!this.ct;this.hf.m=l;this.kf.m=l;this.ef.m=l;this.lf.m=l;this.af.m=l;this.cf.m=l;this.pd.m=l;this.df.m=l||0===this.X.lo();this.zh.m=!(this.ha&&this.xk!==r.ei)||this.ct;if(this.Wk){this.Wk=!1;t=this.ka.y;for(f=0;f<this.ja.length&&t<this.H-66*this.s.xh;)x[f]=this.ja[f][1],z[f]="Top"==x[f]?"go to top of topic [Home]":"",t+=26*this.s.xh,f+=1;this.ka.lower=x;this.ka.F=z;this.ka.QN(26*x.length);this.ka.current=0}C=b||!this.qg||A;this.kg.m=C;this.An.m=C;this.ol.m=C;this.gr.m=C;this.vo.m=C;this.uo.m=C;this.te.m=
C;this.ue.m=C;this.gg.m=C;C=b||!this.qg||A;this.Lf.m=C;this.dg.m=C;this.fg.m=C;this.Jf.m=C;this.Je.m=C;this.Ke.m=C;this.ig.m=C;this.hg.m=C;this.Ya.m=C;this.se.m=C;this.re.m=C;this.Wl.m=C||!(this.g.Ea||this.g.T);this.$.m=C;this.Hk.m=C;C=b||!this.qg||A||2>=this.g.i||this.g.Pa;this.rd.m=C||this.g.N;C=this.Ta;this.vo.locked=C;this.uo.locked=C;C=!this.tb;this.te.locked=C;C=!(this.tb||this.ld)||this.Ta;this.$.Bg(C);this.rd.Bg(C);this.Hk.Bg(C);this.Lf.Bg(C);this.dg.Bg(C);this.fg.Bg(C);this.Jf.Bg(C);this.Je.Bg(C);
this.Ke.Bg(C);this.ig.Bg(C);this.hg.Bg(C);this.Ya.Bg(C);this.se.Bg(C);this.re.Bg(C);this.Wl.Bg(C);C=!this.tb||this.Ta;this.ue.locked=C;C=!this.cr||this.ld||null===this.Nf[this.Ag]||this.Ta;this.gg.locked=C;C=b||!this.ge||!this.dn||A;this.Dd.m=C;this.B.m=C;if(2>=this.g.i&&!this.g.ga)for(f=0;f<this.B.lower.length;f+=1)2>=f?0===f?t=f:t=1===f?LifeConstants.Hb:LifeConstants.bl:t=128+r.Za[f],this.B.Cn[f]="rgb("+this.g.Sa[t]+","+this.g.Ra[t]+","+this.g.Qa[t]+")";else for(f=0;f<this.B.lower.length;f+=1)t=
0===f+this.Vg?0:this.g.Pa||this.g.N||this.g.ga||this.g.T?f+this.Vg+this.O:this.O+this.g.i-(f+this.Vg),this.B.Cn[f]="rgb("+this.g.Sa[t]+","+this.g.Ra[t]+","+this.g.Qa[t]+")";C=b||!this.ge||A;this.Vh.m=C;this.Gs.m=C;this.Eq.m=C;this.Iq.m=C;this.Qg.m=b||!this.ge||!this.dn||this.g.i<=this.fh||A;this.uh.m=b||!this.ge||!this.dn||this.g.i<=this.fh||A;this.g.i>this.fh&&this.gD();if(0<this.ha){f=0;for(t=-1;f<this.ja.length&&-1===t;)this.ja[f][0]>this.ha?t=this.ja[f][0]:f+=1;f===this.ja.length&&(t=f);-1!==
t&&(this.ka.current=f-1)}this.Bi&&(this.s.m=this.eb?!0:!1)};h.prototype.CO=function(){var b=-(this.g.width/2-this.g.Aa-this.g.bc|0),l=-(this.g.height/2-this.g.va-this.g.Zb|0),f=String(b),t=String(l);this.Hf.m=!this.kd;this.$b.m=!this.kd;this.If.m=!this.kd;this.oc.m=!this.kd;this.Gf.m=!this.kd;this.cb.m=!this.kd;this.ck.m=!this.kd;this.gi.m=!this.kd;this.li.m=!this.kd;this.yh.m=!this.kd;this.ji.m=!this.kd;this.ob.m=!this.kd;this.Gb.m=!this.kd;this.Db.m=!this.kd;this.Pb.m=!this.kd;if(-99999>b||99999<
b)f=(b/1E3|0)+"K";if(-99999>l||99999<l)t=(l/1E3|0)+"K";this.$b.Xa=f;this.oc.Xa=t;this.cb.Xa=this.g.angle.toFixed(0)+"\u00b0";this.ob.Xa=this.Eu.toFixed(3);this.Gb.Xa=this.Gu.toFixed(3);this.Pb.Xa=this.Hu.toFixed(3);this.Db.Xa=this.Fu.toFixed(3)};h.prototype.MO=function(){0===this.g.counter?this.Hu=this.Eu=this.Gu=this.Fu=0:(this.Gu=(this.g.M.A-this.g.Kf.A)/this.g.counter,this.Fu=(this.g.M.o-this.g.Kf.o)/this.g.counter,this.Eu=(this.g.M.v-this.g.Kf.v)/this.g.counter,this.Hu=(this.g.M.l-this.g.Kf.l)/
this.g.counter)};h.prototype.BO=function(){this.fj.current=[this.zc];this.Bn.current=[!this.yg&&this.gf];this.Bn.locked=!this.gf;this.oe?(this.vh.lower[0]="TRACK",this.vh.current=[!this.vf&&this.oe],this.vh.locked=!this.oe,this.vh.F=["toggle track mode [W]"]):(this.vh.lower[0]="WAYPT",this.vh.current=[!this.He&&this.Wc],this.vh.locked=!this.Wc,this.vh.F=["toggle waypoint mode [W]"]);this.Am.current=[!this.Rc&&-1!==this.ib];this.Am.locked=-1===this.ib;this.Am.F=["loop at "+this.ib+" [Shift P]"];this.mn.current=
[!this.Ze&&-1!==this.dc];this.mn.locked=-1===this.dc;this.mn.F=["stop at "+this.dc+" [Alt P]"]};h.prototype.HN=function(b,l){if(this.g.counter>=this.La.length){var f=this.g.u.P(Float32,this.La.length+r.IF,"View.elapsedTimes");f.set(this.La);this.La=f}this.elapsedTime+=b/l;this.La[this.g.counter]=this.elapsedTime};h.prototype.TO=function(b){var l=b.qO,f=b.To-b.Pk;if(b.Pk<b.To)if(0<b.Ly)--b.Ly;else if(b.Lv)b.Hl.innerHTML=b.kt,b.Pk=b.To;else{f<l&&(l=f);var t=document.createElement("textarea");b.Fz(t);
if(l!==f)for(;"\n"!==b.kt[b.Pk+l];)--l;t.innerHTML=b.kt.substr(b.Pk,l);b.Pk+=l;b.Hl.appendChild(t)}else b.Au||(b.j.notification.notify("Press Enter to complete copy",15,1E4,15,!0),b.Au=!0);b.GO(b);b.g.cv();b.Ki&&b.X.iz(b);b.ad&&b.g.ev(b.lh,b.wd,!1,b.vb,b);b.ha?Help.dv(b):b.od.length&&Help.kz(b);b.j.rg(!0)};h.prototype.ft=function(b,l){b.Ug=-1;b.s.locked=!1;l?b.j.notification.notify("Cancelled",15,80,15,!0):b.j.notification.notify("Arrived at generation "+b.g.counter,15,150,15,!0);b.j.notification.clear(!1,
!1);b.qb("")};h.prototype.XO=function(b){var l=performance.now();for(b.s.locked=!0;b.g.counter<b.Ug&&13>performance.now()-l;)if(b.g.Be(!1,b.Pd,b.Dc,b.Rb),b.g.ee(),b.Uh(),b.xj||b.g.counter<=b.Ck)b.g.ba=1;b.JB(b,!1,0,!1);b.IO(b);b.sb=b.g.counter;b.Mf=b.g.counter;b.j.rg(!0);b.g.counter>=b.Ug&&b.ft(b,!1)};h.prototype.VO=function(b){var l=performance.now();for(b.s.locked=!0;b.Rb&&13>performance.now()-l;){b.g.Be(!1,b.Pd,b.Dc,b.Rb);b.g.ee();b.Uh();if(b.xj||b.g.counter<=b.Ck)b.g.ba=1;var f=b.g.oM(b.Mp,b);
0<f.length&&(f[0]===LifeConstants.TD?(f[0]="Nothing Identified",b.fA="none",b.Eb="none",b.hs="",b.Vp="",b.gs="",b.Pv="",b.Rp="",b.js="",b.Up="",b.Sp="",b.ks="",b.Tp="",b.Ov="",b.Qv=""):(b.fA=f[0],b.Eb=f[1],"Empty"!==b.Eb&&(b.hs=f[2],b.Vp=f[3],b.gs=f[4],b.Pv=f[5],b.Rp=f[6],b.js=f[7],b.Up=f[8],b.Sp=f[9],b.ks=f[10],b.Tp=f[11],b.Ov=f[12],b.Qv=f[13],b.Vr.Xa=b.Eb,b.Rr.Xa=b.Rp,b.Rr.F=-1===b.Rp.indexOf("|")?"":"min | max | average",b.Dv.Xa=b.gs,b.Ev.Xa=b.hs,b.Gv.Xa=b.Up,b.Iv.Xa=b.js,b.Tr.Xa=b.Vp,b.Tr.F=-1===
b.Vp.indexOf("|")?"":"simplified | unsimplified",b.Sr.Xa=b.Sp,b.Sr.F=-1===b.Sp.indexOf("|")?"":"min | max | average",b.Jz.Xa=b.ks,b.Fv.Xa=b.Tp,b.Pr.Xa=b.Ov,b.Pr.F="rotor | stator | total",b.Ur.Xa=b.Qv,b.Ur.F="active | rotor"),b.Lj=!0,b.eg=b.Mp,b.VN()),b.Rb=!1,b.eb&&(b.Bb.current=b.Fd(r.Te,!0,b)),b.qb(""),b.Qr.Xa=f[0],"Empty"===b.Eb||"none"===b.Eb?(b.j.notification.notify(f[0],15,240,15,!1),b.Lj=!1):(b.j.notification.clear(!0,!1),b.j.notification.clear(!1,!1),b.dh(!0,!1,r.hl)),b.g.Kv(b.Rb),b.Mp=!1,
b.s.locked=!1)}b.JB(b,!1,0,!1);b.sb=b.g.counter;b.Mf=b.g.counter;b.j.rg(!0)};h.prototype.UO=function(b){for(var l=b.Jy,f=performance.now(),t,x=b.g.Tg.QL*LifeConstants.dt;b.g.counter<l-1&&13>performance.now()-f;)if(t=l-1-b.g.counter<=x?!1:!0,b.g.Be(!1,t,b.Dc,b.Rb),b.g.ee(),b.Uh(),b.xj||b.g.counter<=b.Ck)b.g.ba=1;if(b.g.counter===l-1){b.g.Be(b.rh,!1,b.Dc,b.Rb);b.g.ee();b.Uh();if(b.xj||b.g.counter<=b.Ck)b.g.ba=1;b.In=!1;b.Iy&&b.j.notification.clear(!0,!1);b.s.locked=!1}else b.s.locked=!0;b.HO(b,l);b.g.cv();
b.Ki&&b.X.iz(b);b.ad&&b.g.ev(b.lh,b.wd,!1,b.vb,b);b.ha?Help.dv(b):b.od.length&&Help.kz(b);b.j.rg(!0)};h.prototype.Vx=function(b,l){l.In?l.UO(l):l.Rb?l.VO(l):l.fr?l.TO(l):-1!==l.Ug?l.XO(l):l.WO(b,l)};h.prototype.qD=function(b){b.g.counter=0;b.g.$f=0;b.g.zj=0;b.sb=0;b.Mf=0;b.elapsedTime=0;b.g.Aa=b.g.width>>1;b.g.va=b.g.height>>1;b.g.Aa&=b.g.width-1;b.g.va&=b.g.height-1;b.g.ba=1;b.Rz=!0;b.oj=-1};h.prototype.MH=function(b,l,f){l&&(f.Li=b[0]);return[f.Li]};h.prototype.EH=function(b,l,f){l&&(f.Ci=b[0]);
return[f.Ci]};h.prototype.HH=function(b,l,f){l&&(f.g.ll=b[0]);return[f.g.ll]};h.prototype.FH=function(b,l,f){l&&(f.kd=b[0]);return[f.kd]};h.prototype.mD=function(b,l,f){l&&(f.ad=b[0],f.ad&&f.Cd.current!==r.Gm&&(f.Cd.current=f.Tk(r.Gm,!0,f)));return[f.ad]};h.prototype.Yx=function(b,l,f){l&&(f.g.kj=b[0]);return[f.g.kj]};h.prototype.GH=function(b,l,f){l&&(f.Ki=b[0]);return[f.Ki]};h.prototype.BH=function(b,l,f){l&&(f.g.td=b[0]);return[f.g.td]};h.prototype.zH=function(b,l,f){l&&(f.ni=b[0],f.ni&&!f.g.ic&&
(f.ge||f.qg)&&(f.zi.current=f.Mq([!0],!0,f)));return[f.ni]};h.prototype.JH=function(b,l,f){l&&(f.g.Qd=b[0],f.g.Ny(),0===(f.g.counter&1)?f.g.Ow(f.g.fb):f.g.Ow(f.g.Vb));return[f.g.Qd]};h.prototype.yH=function(b,l,f){l&&(f.g.Pl=b[0]);return[f.g.Pl]};h.prototype.AH=function(b,l,f){l&&(f.Bi=b[0]);return[f.Bi]};h.prototype.nD=function(b,l,f){l&&(f.g.sc=b[0],f.tH());return[f.g.sc]};h.prototype.sD=function(b,l,f){l&&(f.j.bn=b[0]);f.j.rg(!0);return[f.j.bn]};h.prototype.wn=function(b,l,f){l&&(f.j.Mk=b[0]);
f.j.rg(!0);return[f.j.Mk]};h.prototype.an=function(b,l,f){if(f.g.Df!==b)for(f.g.YN(b,l,f),1<f.g.Xl&&(f.j.vn=f.g.Xl),l=0;l<=this.g.Ue;l+=1)this.G[l].current=b!==r.mt[l]?[!1]:[!0]};h.prototype.xn=function(b,l,f){l&&(f.Ha=b[0]+.5|0);return[f.Ha,f.Ha]};h.prototype.DE=function(b){return(10>b.toFixed(1)?b.toFixed(1):b.toFixed(0))+"/s"};h.prototype.Sk=function(b,l,f){l?(f.Eg=r.hh+b[0]*b[0]*(r.Bm-r.hh),b=b[0]):b=Math.sqrt((f.Eg-r.hh)/(r.Bm-r.hh));return[b,f.DE(f.Eg)]};h.prototype.PG=function(b){b.Bq=b.g.zoom;
b.vb&&(b.Bq=b.Bq*b.Ge);b.VB=b.g.angle;b.We=b.g.Aa;b.Qj=b.g.va};h.prototype.pN=function(b){b.jn=b.g.width/2-b.g.Aa;b.kn=b.g.height/2-b.g.va;b.Oo=b.g.zoom;b.hn=b.g.angle;b.dl=b.g.width/2-b.We;b.Un=b.g.height/2-b.Qj;b.Ar=b.VB;b.vb?b.Vn=b.Bq/b.Ge:b.Vn=b.Bq;b.sh=0};h.prototype.lN=function(b,l){b.g.zoom=b.uE;b.vb&&(b.g.zoom=b.g.zoom/b.Ge);b.yc&&(b.yc.current=b.Uk([b.g.zoom,b.g.zoom],!1,b));b.g.angle=b.yp;b.Hd&&(b.Hd.current=[b.yp,b.yp]);b.g.Aa=b.Oe;b.g.va=b.nj;l&&(b.an(b.Xu,1,b),b.ud&&(b.g.Gn=0),l=Math.sqrt((b.bz-
r.hh)/(r.Bm-r.hh)),b.kc.current=b.Sk([l,l],!0,b),b.Ha=b.Wu,b.Td.current=[b.Ha,b.Ha],b.g.W=b.zp,b.he.current=[b.zp,b.zp],l=Math.sqrt(b.az),b.hd.current=b.Ml([l,l],!0,b))};h.prototype.HD=function(b){b?(this.g.Aa+=this.g.bc,this.g.va+=this.g.Zb,this.g.zoom*=this.g.xc):(this.eD(),this.g.Aa-=this.g.bc,this.g.va-=this.g.Zb,this.g.zoom/=this.g.xc,this.eD());this.g.zoom<r.za?this.g.zoom=r.za:this.g.zoom>r.$a&&(this.g.zoom=r.$a)};h.prototype.DG=function(b){b.elapsedTime=0;b.ud||(b.g.Xs(b.Pd),b.g.ba=1,b.g.Pw())};
h.prototype.reset=function(b){var l=!1,f=!1;this.zr&&this.g.UE();0===b.g.counter&&b.j.FG();if(0===b.elapsedTime||b.tv)l=!0;b.Rc||-1===b.ib||b.g.counter>=b.ib&&(f=!0);b.g.bd=!1;b.g.cd=!1;b.g.zj=0;f||l||(b.Wc&&(b.He=!0),b.oe&&(b.vf=!0),-1!==b.ib&&(b.Rc=!0),-1!==b.dc&&(b.Ze=!0),b.ou&&(b.zc=!1));b.elapsedTime=0;b.g.bc=0;b.g.Zb=0;b.g.xc=1;if(l){(this.g.la||this.g.N)&&null!==this.g.Kc&&b.Qw&&(b.g.cd=!0);b.Wc&&(b.He=!1);b.oe&&(b.vf=!1);b.ou&&(b.zc=!0);if(!f||b.Wc&&b.X.Kr||b.zc)b.lN(b,l),b.zc&&b.dh(!0,!1,
r.hl);b.Rc=!1;f||(b.Ze=!1)}b.ud||(b.g.Xs(b.Pd),b.sb=b.g.counter,b.Mf=b.sb,b.g.ba=1);b.Dc||b.g.EG();b.g.Pw();b.ls="";b.gA=-1;b.Ig=!1;b.X.nN();b.Rb&&(b.Rb=!1,b.j.notification.clear(!0,!1));b.g.Kv(b.Rb);b.j.notification.clear(!1,!1);b.oj=-1;b.g.ts=0;b.Yw(b.g.counter);b.Lj=!1;b.OF()};h.prototype.Xw=function(b){var l=this.g.bd;if(b){var f="pause";b="pause [Enter]"}else b="play [Enter]",this.g.la||this.g.N?(this.g.cd&&(l=!l),f=l?"reverse":"play"):f="play";if(this.g.la||this.g.N)if(l=this.g.bd,this.g.cd&&
(l=!l),l){var t="stepback";l="stepforward";var x="step back [Shift Tab]";var z="step forward [Tab]"}else t="stepforward",l="stepback",x="step forward [Tab]",z="step back [Shift Tab]";else t="stepforward",l="stepback",x="step forward [Tab]",z="step back [Shift Tab]";this.Bb.icon[r.Te]=this.Y.icon(t);this.Bb.F[r.Te]=x;this.Bb.icon[r.Yp]=this.Y.icon(l);this.Bb.F[r.Yp]=z;this.Bb.icon[r.Dk]=this.Y.icon(f);this.Bb.F[r.Dk]=b};h.prototype.Rg=function(b,l){l.xk=b;l.ha=1;l.ct=!0;l.wv=[];l.xv=[];this.Wk=!0};
h.prototype.Qt=function(b){b.Rg(r.Tz,b)};h.prototype.vv=function(b){b.Rg(r.Sw,b)};h.prototype.Ot=function(b){b.Rg(r.Jv,b)};h.prototype.iA=function(b){b.Rg(r.yC,b)};h.prototype.zt=function(b){b.Rg(r.Hy,b)};h.prototype.po=function(b){b.Rg(r.iy,b)};h.prototype.St=function(b){b.Rg(r.mA,b)};h.prototype.xo=function(b){b.Rg(r.ly,b)};h.prototype.Xx=function(b,l,f){l&&(f.ha=f.ja[b][0],f.ct=!1);return b};h.prototype.kD=function(b,l,f){l&&(f.kk=b[0],f.kk&&f.qu(f));return[f.kk]};h.prototype.lD=function(b,l,f){l&&
(f.Jh=b[0],f.Jh&&(f.fx=!0));return[f.Jh]};h.prototype.Tk=function(b,l,f){var t=b;if(l){switch(b){case r.Fm:f.nq=!1;f.Ta||f.g.Pa?t=f.Cd.current:(f.ge=!0,f.Vh.current=f.Rk([!1],!0,f),f.qg=!1);f.uu(f);f.ni&&(f.zi.current=f.Mq([!0],!0,f));break;case r.Xp:f.ge=!1;f.Vh.current=f.Rk([!1],!0,f);f.qg=!0;f.ni&&(f.zi.current=f.Mq([!0],!0,f));break;case r.Gm:f.ge=!1,f.qg=!1,f.Vh.current=f.Rk([!1],!0,f),f.uu(f),f.ni&&(f.zi.current=f.Mq([!1],!0,f))}f.wv=[];f.xv=[];f.Oc.current[0]&&(f.Oc.current=f.Yo([!1],!0,f),
f.j.Uf=!0)}f.bC(t);return t};h.prototype.bC=function(b){if(this.ha||this.hc)this.s.cu("grab");else switch(b){case r.Fm:this.s.cu("auto");break;case r.Gm:this.s.cu("grab");break;case r.Xp:this.s.cu("crosshair")}};h.prototype.CH=function(b,l,f){l&&(f.Ag=b,f.Du(),f.ol.current=[!1],f.j.Uf=!0,f.ld?f.fB(f,b):f.j.notification.notify("Clipboard "+b+" active",15,80,15,!0));return f.Ag};h.prototype.oD=function(b,l,f){l&&(f.Mm=b,f.$c=r.rH[b]);return f.Mm};h.prototype.TJ=function(b){b.Ta||(b.Mm+=1,3<b.Mm&&(b.Mm=
0),b.uo.current=b.oD(b.Mm,!0,b))};h.prototype.MK=function(b){var l=-1,f,t=0,x=0,z=0,A=0;'"'===b.charAt(0)&&(b=b.substr(1,b.length-2));if(this.g.ga)for(f=0;f<this.Zh.length&&-1===l;)void 0!==this.Zh[f]&&this.Zh[f]===b&&(l=f),f+=1;else if(2>=this.g.i)if(this.g.Ea)for(f=0;f<r.Zh.length&&-1===l;)r.Zh[f]===b&&(l=f);else"alive"===b?l=1:"dead"===b&&(l=0);else if("dead"===b)l=0;else if(this.g.N){for(f=0;f<b.length&&-1===l;){switch(b.charAt(f)){case "N":t+=1;break;case "S":x+=1;break;case "E":z+=1;break;case "W":A+=
1;break;default:l=-2}f+=1}if(1<t||1<x||1<z||1<A)l=-2;-2!==l&&(l=t|z<<1|x<<2|A<<3)}else if(this.g.T)for(f=0;f<LifeConstants.fw.length&&-1===l;)LifeConstants.fw[f]===b&&(l=f);else"alive"===b?l=1:"dying "===b.substr(0,6)&&(l=Number(b.substr(6))+1,l>=this.g.i&&(l=-1));return l};h.prototype.Fr=function(b){var l="";this.g.ga?void 0===this.Zh[b]?l="state "+String(b):l=this.Zh[b]:2>=this.g.i?l=this.g.Ea?r.Zh[b]:b?"alive":"dead":0===b?l="dead":this.g.N?(0!==(b&1)&&(l+="N"),0!==(b&2)&&(l+="E"),0!==(b&4)&&(l+=
"S"),0!==(b&8)&&(l+="W")):this.g.T?l=LifeConstants.fw[b]:l=1===b?"alive":"dying "+String(b-1);return l};h.prototype.rD=function(b,l,f){var t=b;l&&(2>=f.g.i?f.Ef=b:(b+=f.Vg,0===b?f.Ef=0:f.g.Pa||f.g.N||f.g.ga||f.g.T?f.Ef=b:f.Ef=f.g.i-b),f.Vh.current=f.Rk([!1],!0,f),f.j.notification.notify("Drawing with state "+b+" ("+f.Fr(b)+")",15,120,15,!0));return t};h.prototype.Wj=function(b){var l=this.g.i,f=this.fh;-1===l&&(f=l=2);this.g.Ea&&(f=l=7);b<l&&(b>=f?(this.Vg=b-f+1,b=f-1):b>=this.Vg?b-=this.Vg:(this.Vg=
b,b=0),this.Dd.current=this.rD(b,!0,this),this.Qg.current=this.Yk([this.Vg/(this.g.i-this.fh),0],!0,this))};h.prototype.by=function(b,l,f){var t=0;if(l)for(;t<b.length;)b[t]&&(b[t]=!1,f.Dd.current=f.rD(t,!0,f)),t+=1;return b};h.prototype.jN=function(b){var l=0,f=this.Ef,t=this.g.Ad;var x=this.Cb;var z=t.l,A=t.v;var C=t.o;t=t.A;var I=(this.g.width>>1)-(this.gb>>1)+(this.Nb<<1);var G=(this.g.height>>1)-(this.jb>>1)+(this.Ob<<1);2<this.g.i&&!(this.g.Pa||this.g.N||this.g.ga||this.g.T)&&0<b&&(b=this.g.i-
b);this.tb&&(z=x.l+I,A=x.v+I,z>A&&(I=A,A=z,z=I),C=x.o+G,t=x.A+G,C>t&&(I=t,t=C,C=I));if(f!==b){for(;C<=t;C+=1)for(x=z;x<=A;x+=1)G=this.g.getState(x,C,!1),2<this.g.i&&!this.g.N&&!this.g.ga&&0<G&&(G=this.g.i-G),G===b&&(this.dd(x,C,f),l+=1);0<l&&(!this.g.Ea||6!==b&&6!==f||this.g.Sm(),this.qb("replace states"))}else this.j.notification.notify("Cell and drawing state are the same",15,120,15,!0)};h.prototype.Dy=function(b,l,f){var t=b.Ef,x=b.g.Ad,z=0,A=0;if(0<t)if(2<b.g.i&&!(b.g.Pa||b.g.N||b.g.ga||b.g.T)&&
(t=b.g.i-t),b.g.Ea&&1<t&&(A=t&1),b.g.Ea&&l)if(f){for(f=x.o;f<=x.A;f+=1)for(l=x.l;l<=x.v;l+=1){var C=b.g.getState(l,f,!1);3<=C&&5>=C&&(b.dd(l,f,C&1),z+=1)}0<z&&(b.T?b.qb("clear [R]Super marked cells"):b.qb("clear [R]History marked cells"))}else{for(f=x.o;f<=x.A;f+=1)for(l=x.l;l<=x.v;l+=1)C=b.g.getState(l,f,!1),1<C&&(b.dd(l,f,C&1),z+=1);0<z&&(b.T?b.qb("clear [R]Super cells"):(this.g.Sm(),b.qb("clear [R]History cells")))}else{for(f=x.o;f<=x.A;f+=1)for(l=x.l;l<=x.v;l+=1)C=b.g.getState(l,f,!1),C===t&&
(b.dd(l,f,A),z+=1);0<z&&(b.g.Ea&&6===t&&this.g.Sm(),b.qb("clear state "+t+" cells"))}return z};h.prototype.Fd=function(b,l,f){var t=b,x=f.Ze,z=f.Rc,A=f.He,C=f.yg,I=f.zc,G=f.vf,F=40,E=0,D=0,H=0,N=0,K=0,P=0,J=0;if(l){f.nq=!1;switch(b){case r.uA:f.yg=f.tv||f.gf&&0===f.g.counter&&0===f.elapsedTime?!1:!0;f.gf&&!f.yg?(b=r.Dk,f.eb=!0,f.Tn=0===f.g.oa?!0:!1):(b=r.Te,f.eb=!1);f.qb("");f.reset(f);f.gd=0;l="Reset";!f.Rc&&z&&-1!==f.ib&&(D=1);f.Rc&&!z&&-1!==f.ib&&(D=-1);!f.Ze&&x&&-1!==f.dc&&(H=1);f.Ze&&!x&&-1!==
f.dc&&(H=-1);!I&&f.zc&&(J=1);I&&!f.zc&&(J=-1);!f.He&&A&&(N=1);f.He&&!A&&(N=-1);!f.vf&&G&&(K=1);f.vf&&!G&&(K=-1);!f.yg&&C&&f.gf&&(P=1);f.yg&&!C&&f.gf&&(P=-1);if(0!==D||0!==H||0!==N||0!==K||0!==P||0!==J)l="",0!==D&&(E+=1,l+="Loop"),0!==H&&(0<E&&(l=0<Math.abs(N)+Math.abs(K)+Math.abs(P)+Math.abs(J)?l+", ":l+" and "),E+=1,l+="Stop"),0!==N&&(0<E&&(l=0<Math.abs(K)+Math.abs(P)+Math.abs(J)?l+", ":l+" and "),E+=1,l+="Waypoints"),0!==K&&(0<E&&(l=0<Math.abs(P)+Math.abs(J)?l+", ":l+" and "),E+=1,l+="Track"),0!==
P&&(0<E&&(l=0!==J?l+", ":l+" and "),E+=1,l+="AutoStart"),0!==J&&(0<E&&(l+=" and "),l+="AutoFit"),l=0<H||0<D||0<N||0<K||0<P||0<J?l+" On":l+" Off",F=120;f.j.notification.notify(l,15,F,15,!0);break;case r.Dk:f.eb?(f.eb=!1,f.qb(""),(f.g.counter!==f.dc||f.Ze||f.Ep)&&f.j.notification.notify("Pause",15,40,15,!0)):(f.Wc&&!f.He&&(f.g.la||f.g.N)&&(f.g.bd||!f.g.bd&&f.g.cd)&&f.gz(f),f.eb=!0,f.qb(""),f.Tn=0===f.g.oa?!0:!1,f.jv&&B.eH(f),f.j.notification.notify("Play",15,40,15,!0));break;case r.Yp:if(f.eb)f.eb=
!1,f.qb(""),f.j.notification.notify("Pause",15,40,15,!0);else if((f.g.la||f.g.N)&&null!==f.g.Kc){f.g.cd=!f.g.cd;f.g.cd&&f.qb("reverse playback");f.qb("");for(x=0;x<f.Ha;x+=1)f.g.Be(!0,f.Pd,f.Dc,f.Rb),f.g.ee(),f.sb=f.g.counter;f.g.cd=!0}else 0<f.g.counter&&(f.Yw(f.g.counter-f.Ha),f.Ys(f.g.counter-f.Ha));break;case r.Te:f.eb?(f.eb=!1,f.qb(""),(f.g.counter!==f.dc||f.Ze||f.Ep)&&f.j.notification.notify("Pause",15,40,15,!0)):(f.Hi=!0,f.qb(""),f.Tn=0===f.g.oa?!0:!1)}t=b;f.Xw(f.eb)}return t};h.prototype.wt=
function(b,l,f){l&&(f.Ig=!0,f.g.angle=b[0]);return[f.g.angle,f.g.angle]};h.prototype.xt=function(b,l,f){l?(f.Ig=!0,f.g.W=b[0]+.5|0,b=b[0]):b=f.g.W;return[b,f.g.W]};h.prototype.Ml=function(b,l,f){return l?(f.Ig=!0,f.g.ze=b[0]*b[0],[b[0],f.g.ze*r.Nn]):[Math.sqrt(f.g.ze),f.g.ze*r.Nn]};h.prototype.jK=function(b,l,f,t){var x=this.Ef;-1===f&&-1===t?(this.Hs=this.AG(),2<this.g.i&&!(this.g.Pa||this.g.N||this.g.ga||this.g.T)&&(x=this.g.i-x),this.Hs=this.Mo&&this.Hs===x?0:this.Ef):(this.px(f,t),f=this.qk,t=
this.rk,this.px(b,l),b=this.qk,l=this.rk,this.Gt(f,t,b,l,this.Hs)&&this.g.Sm());0<this.g.oa&&(this.oj=-1,this.g.ba=1)};h.prototype.gy=function(b,l,f,t){t.Bi&&!f&&(t.Bb.current=t.Fd(r.Te,!0,t))};h.prototype.Wx=function(b,l,f,t){t.DH(b,l,f,t,!1)};h.prototype.gK=function(b,l){l=(b.Ei-l)/b.Lr;-1!==b.Ei&&(0<l?b.Vw(b,l):0>l&&b.Ww(b,-l))};h.prototype.fK=function(b,l){l=(b.Ei-l)/b.Lr;-1!==b.Ei&&(0<l?b.Tw(b,l):0>l&&b.Uw(b,-l))};h.prototype.hK=function(b,l,f){l=(b.eo-l)/b.g.na;f=(b.Ei-f)/b.g.na/(b.g.R?r.ne:
1);if(-1!==b.Ei){var t=b.g.S||b.g.R?0:-b.g.angle;if(b.Id)b.Wc&&!b.He&&(b.Bb.current=b.Fd(r.Te,!0,b));else{var x=Math.sin(t/180*Math.PI);t=Math.cos(t/180*Math.PI);b.Ig=!0;b.g.Aa+=l*t+f*-x;b.g.va+=l*x+f*t}}};h.prototype.bK=function(b,l,f){var t=b.eb,x=b.gd;b.Ek||(b.eb&&b.mq&&(b.eb=!1,b.nq=!0),t&&(b.gd=0,b.qb(""),b.gd=x),b.jK(l,f,b.eo,b.Ei),t&&b.qb(""))};h.prototype.iK=function(b,l,f){b.ld||b.aK(b,l,f)};h.prototype.aK=function(b,l,f){var t=b.Cb,x=(b.g.width>>1)-(b.gb>>1)+(b.Nb<<1),z=(b.g.height>>1)-
(b.jb>>1)+(b.Ob<<1),A=b.g.la?-1:0,C=Math.round((b.g.width-b.g.Ca)/2)+A;A=Math.round((b.g.height-b.g.xa)/2)+A;var I=C+b.g.Ca-1,G=A+b.g.xa-1;-1!==b.ya&&(0===b.g.Ca&&(C=0,I=b.g.width-1),0===b.g.xa&&(A=0,G=b.g.height-1));if(-1!==l&&-1!==f)if(this.px(l,f),-1===b.Ei)b.UG=l,b.VG=f,b.tb=!1,b.Dh=!1;else{if(b.vk)t.v=b.qk-x,t.A=b.rk-z;else if(l!==b.UG||f!==b.VG)l=!1,-1!==b.g.ya&&(b.qk<C||b.qk>I||b.rk<A||b.rk>G)&&(l=!0),l||(b.vk=!0,t.l=b.qk-x,t.v=t.l,t.o=b.rk-z,t.A=t.o);b.vk&&(b.YD(b),x=(b.g.width>>1)-(b.gb>>
1)+(b.Nb<<1),z=(b.g.height>>1)-(b.jb>>1)+(b.Ob<<1));b.vk&&-1!==b.g.ya&&(C-=x,I-=x,A-=z,G-=z,t.l<t.v?(t.l<C&&(t.l=C),t.v>I&&(t.v=I)):(t.v<C&&(t.v=C),t.l>I&&(t.l=I)),t.o<t.A?(t.o<A&&(t.o=A),t.A>G&&(t.A=G)):(t.A<A&&(t.A=A),t.o>G&&(t.o=G)))}};h.prototype.IB=function(b){b.tb=!1;b.Dh=!1;b.qb("cancel selection");b.vk=!1};h.prototype.eK=function(b){b.ld?b.jB(b,b.qk,b.rk,!0):b.$J(b)};h.prototype.qu=function(b){var l=b.Cb,f=b.g.M,t=l.l,x=l.o,z=l.v,A=l.A,C,I=0,G=(b.g.width>>1)-(b.gb>>1)+(b.Nb<<1),F=(b.g.height>>
1)-(b.jb>>1)+(b.Ob<<1);if(t>z){var E=t;t=z;z=E}x>A&&(E=x,x=A,A=E);t<f.l-G&&(t=f.l-G);x<f.o-F&&(x=f.o-F);z>f.v-G&&(z=f.v-G);A>f.A-F&&(A=f.A-F);f=z+1;E=t-1;var D=A+1;var H=x-1;for(C=x;C<=A;C+=1)for(x=t;x<=z;x+=1){var N=b.g.getState(x+G,C+F,!1);0<N&&(C<D&&(D=C),C>H&&(H=C),x<f&&(f=x),x>E&&(E=x),I+=1)}0<I&&(l.l=f,l.o=D,l.v=E,l.A=H)};h.prototype.$J=function(b){var l=b.Cb;if(b.vk)if(b.tb=!0,b.vk=!1,b.Dh=!1,b.kk&&b.qu(b),b.tb){var f=l.v<l.l?l.l-l.v+1:l.v-l.l+1;l=l.A<l.o?l.o-l.A+1:l.A-l.o+1;b.qb("selection ("+
f+" x "+l+")")}else b.IB(b);else b.IB(b)};h.prototype.dK=function(b,l,f){-1!==l&&-1!==f&&(b.Qz=!0,l=b.AG(),b.Ls?(b.jN(l),b.Ls=!1,b.Vh.current=b.Rk([!1],!0,b)):(b.Hs=l,b.Wj(l)))};h.prototype.cK=function(b){b.nq&&(b.eb=!0,b.nq=!1,b.j.rg(!0));0<b.gd&&(b.g.bh(),b.qb(""))};h.prototype.DH=function(b,l,f,t,x){-1!==b&&-1!==l&&t.j.hasFocus&&(f?(t.Oc.current[0]||(t.ha?t.gK(t,l):t.hc?t.fK(t,l):!t.ge&&!t.qg||x?t.hK(t,b,l):t.ge?t.bK(t,b,l):t.qg&&t.iK(t,b,l)),t.eo=b,t.Ei=l):-1!==t.eo?(t.ha||t.Oc.current[0]||(t.ge?
t.Ek?t.dK(t,b,l):t.cK(t):t.qg&&t.eK(t)),t.eo=-1,t.Ei=-1):t.ha||t.Oc.current[0]||(t.Ek?t.j.notification.notify("Now click on a cell",15,180,15,!0):t.ld&&t.j.notification.notify("Now click to paste",15,180,15,!0)))};h.prototype.Im=function(b,l){8>this.g.zoom&&(0>b?b=-8:0<b&&(b=8),0>l?l=-8:0<l&&(l=8));this.Ei=this.eo=0;this.DH(b,l,!0,this,!0);this.Ei=this.eo=-1};h.prototype.Rq=function(b){var l=r.Or;null===l&&(l=new Image,l.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABpAAAAAoCAIAAAB2CC60AAAABnRSTlMAAAAAAABupgeRAAASX0lEQVR4nO2dWZLkKgxFnR294FpK7Zj34dcEiRiEkATY93xUZNlYEoMYZGxfFwAAAAAAAAAAAAAAAAAA7Pj5+TE9/masyxZl/kLuSqdVb308S9NIYHcWAAAAAAAAUOTvagMA0CeEkB35fD4OklfpXUUIwccMN0UALOH39/fn5+f399ftuCxePHM25fZon79Mk8DpYDwCAFggc3l0FAAALRCwA4/FYqRsh+fW6vWHLolVJigWMh8AygEoQoN6d7iNHtc6G0G0DliA8QgAIGbI0zn9ADoKAIAWf1YbAIAJ99zdTn5ttF6ldxVvyy8Aj6S4L8/orFu0bp97G8AHjEfguq7wzWpzwBlkrp12JtTr0Q8AADxBwA48Fru5e3vWvkrvKt6WXwCeyv3krNHZ+DvbAWf0F73HO8F4NBqlOi6kFXpc1/X5BzM9ABlD/l5sSGhaAAAt8EgseDIWyzbmTvglelfxtvwC8CQ8t9ddLtG0LCYIVlHcopKuY4eOM2sT49HFNvguW3HuxCGJycKsXU4zEmN2jUtmLAFPhdNy0jQ+Dem4jggAAAAokw2ciuNoW/IqvZQlXyzVulm9+U3vVV+J3blMUjasvg1NytjhK7FZ4vmz7ZYca6S4z6W2/6V7PNMiYMl+nCVKHTCqXL5qseViOcsri99s5huY7MLJImpcXjsluGRzju4W9qfdYLrNLE2jW1Pqlb6qi144NABwIlMv1LSg5nijN8eGjE+FzORavdC0DBOrjkpVypkjJ9OrhUrVCIQ46B2KqamQPd2WnVXJr7rMhi6m8LXlfJn1ybpiF3ZZRbK2tINJlHQbmttv+qNokvrZm7TVxTpS3IQVeDvsaALm1N9uoOcrHfXcYtFZOyxzQNcq9uXjkdEEZhRmtRZdb1SR4NrJQadxeaMh8TflmaI1J4y/u10cM+WoXj6b6+XXSHG8mOyWR+2ZOVu75P7huQl6oV4V1L24zfIBBWzNqrh1qKCVvitk0mzZ5V2rnOuCalQpZ44c/8w+kiU77I5j3rk8y9nCKdT7PVqkC91ZpcuyZtWuulVnr8oOu1piPrQpctJzhjnThiRTKjCjLUcxRwLcStuBTaztlp5K2baFj141qXQHaRx189nne4euE3X91Mh5V+ktWkJ/Fw9mR4bskRkvvkqxjvbXq6JuXuMOjfmdLClPlarsv8Mu7HHDcFsUK55f1KaVsknXEPCmBmBM+tqRd3Z0My97yiapRSFp8S7ZI1w8vlUt0z1o99cb7I6nZxtWGZ29SKvTqo7sxvtQ26atpd2eL40eY4lS8BKy0U22kxQYoTLszksDN8V+tTiIfEqfIC8myM4OVZBgYiZuAxbj7856xagv9kcvgY/Ps3BJMg/3oxOYJlJ0ZzxZ4ICj0aLBbTWNO9GjwBHEDs3tVcF78lQXe3OdMokxNa031nXPxtDhaDRNwEy0rnFVfN42vVZl4T2qVKARvI12zC6mMVJtIXYTVBxQ0HW0VwfPLnNT6Dww/NsWR+8DxQBcuxlM1gi9tj1kaNV+Ojrz/6qo3hYMuM/AIYRiythXYhG2u1H3XrFA3Qa3Ya90nEdNwl/F7c9oc/LPbDr92rDxb042YR2Kj9jVdbcej/YpReI+uNoWPLuzDrN88VqCk17c8hWVehL1wneegdEMlr5bCg2mzWjXERPXtnd50tZr11lZ6KXjRTFeFjvh4qa5eLlgS13XvKI6XS0XonUEhzF3lR+9jQfsTR4L2N28eSR+sPNsm7WzPAqk8CvOs/nFHiyEkG61czNgE1QCDaMVV7xxrcW2ndiGqHxWoi25xm477NKrhuSP2/U/svX2qphd1CuY+2lNF0+ZdtY25szInNyn09hkZ12e/OdFUrRaiyD9/g0MWNAIz2UhPBozbcT4VGjvjdUdRgXRuqcu0DCZfBLP2Jv8R3xlXOu+BNP8ipuL4i5oFTlGbG4eOA4690Ibc8C0kDnCTxmYHRBH3LJvzg6dvclm+Vrel8pJd0MMSeAnFkdkxLtj/Pso046xKPl0D/38o3hQxrxJ8Xdaobrr/GIo0D+zmUlLVA8Z6a8U1KDVUayg9C7vpzQKKPaZ3WjCZ/ouTnHcHPpL5Yzq1bJfBSwHwJ7IA3Y3b2jZC/PoM5k4ogaPMBLsT9aQXjtjtritlJWts892s8PJb2iim+amFvOyO57h//WJIIqmDfGR3vkfsqq4WuPLHzJv4QgYklcHKMqsnXptn2yHW5HG/u3ZEzZBNJDO5NHOd+bzb/9abM/xd23wipfEH64WayCI1p2YzRp0evZa1ItibdkWAykO0RVdqoYKSlYl2zW9NeGj6btCBFNwsd6aDQ05zGRivRnpzZN2gkl1XUUydcchqN/uglyd9vNukaEFs2x1PUqcb9GD9HjG8nLWLSJFacx+MpvbWYcLqXamkEbfm07EG1PYUWOyXWluv7sG6J5NCd935mmZCEjlBHL/v5Y+Y2ZE41w74wKTBhdVN+zJVqeyCmJ2uY0jKY+fAJiiUqFUJp0zt1W0tXMGpm6aWoJ51fOoFD6/G9Edc1+olw7uNEGmPe3EZmzgXz6jqDZu8v9SOaN6Z1B3KCaTNcuUYzpn5ujVDewsH8GXl6eJ3iDFSK9W+q6QtliL7M/nV6CUmc1uSi2NApNAg1p0Ses4h6HKcqjZWhMabVfWZVs7zjSSk2yytGmJdd3W2pFTmTO6GolT+bW/DRva9tyVXtwlZ3o8S1BLo3I2khbapXfrNZOj3sbaepnqjNq/BaE0LquIZXqoXXdhx84GR8MULeR0mDUzRgXy09ipnkfdibRSvlbvkIXM9pMlkxWCURbotdTy0b9UzqheLftllwuYt9nfj/go6l2Vha2MUdE7+0gsZZNaEeNsf1FXI/7auG2oonp/DjX7IgODOM0zWJW72l6PZxC+p1B2Kqy1DBG+b7H67JJo3GoWcD89SjejWR/PmPmaRPds/J0Vl9ZTCamcWCnzYt/JZHtuiOUnXn43fpTw79nhndvecsMWPoW0UHVqw1oDTCnOXcUTWl1pNeiu3sY8Kro2PdvYXM/fKDeZNYGE4rgp2GE36lwW4/4Qj19kRcI42eUzqhUteTn6AbsbFPTmHF07RxsPbraatm5ljAoNHwl6S3GxJyoWePiO1pnqSmUWJ6/qitzwfJOdQ3HNh1DfTK1qUJ5tdi4fWqch2W1nN2MvLv98usqFql+L7kDsP6xfyQQpC+TFlpOepc0pHXpGG1sM989kYUaCIFp3okOhHxhFVlwoZF2sAnYAAJCRdt/OXXkxrNON9ZxFSPZ33BMph0IWqLCO1qUHjSq3Nnm10PU8HIrr3LXEsxmq9EOr7+54t+oN0pJMDaNDxgrrwKMotvyZEJKiNEoatr6SaF3NZS4Svyual05CDnIrQbRuq44OgAdjFbDT2uwKjDi6do42/s2kFedZiQ8LzBWhM6fiGmx+gkUvXzUfXRWtu564w870Ydji51Oww+4sZIVJbxtko0B6d6FxR+eUPRExBLbakDJpx0jttPDKohaf8lmo+uXQYt9HWlF4bBgN4TTSTQ9mZydj90x/VBzpBNG6I7rljFX9AB3magd3Q1Zc6Gx10Q/YnT4iOttf1NVw3eKpV/nSoWaDSPf+pIU6/vETaczY4mL40svyDj64dsvkU281mz4YG39nxaU1W03lnLuWWEtcYRZXp1p0pR1acbt1AlstBdNhyNkkO9WblO2GREdQ8QhdaRRaj+nwlKXMTsVGlRoZj2zVIRQpjptDf6mcUb1a9g/hXzvMcLCF3lG0bKOiZix5OZoBuycVrmdeZnRN2nlcfR1ncAqnG3pDV/Ux3v3UUBqJA/wDCrm7Srzbku7SYm25rY3WXQY77O5taMWvu5oeT8+2bVM86xBN+3iFUMW5OGWpb2Rno2pOKZkiIaF4UIDYjGwu8UmW1o0ZyNHl7wkKqo3uJNZ0SpxKptUaA3PXtxMxDZtpJ11/1B3mahOb9l8t7UtwXmoVde28DJm3befcnYXOnEmxPmp6aypG03eF0At9iqKopT2KzKjrqs7kq5QzRw7HmMeQZZYOfpwsN3a1GNH91uTN0EzCaHVdC8wJgjvLy5kW0WgudAtZNlGbN8A0WtfO1IfxShp+mkga1fL8XTTA9N9IIPsUdBtGIPf/jWhPHubTO5OVWK3/HBLIuZzZmWxYYhtSa/bxeNsvtAZumfdxruqmsVOdJr5/LGmT/G5Et8PZvPu6RBbGPioblTJnoWOK5yjT9uhJ4Vdp3OT/pXJG9WrZryKKyYzGVf7LR7FUjQTOmHHjX55Weqs3+75R1lrXq5W+K2RUkVaBMOVrqWNq5yfYTdER0Dxq5bqxlUblOIch+42quFiSio3Ks5ztciGm5q0NVDRyDp5CcTec6XGmARZnb2JfF/9Vqb5MjkOTkDVsRXfQpdZVuqm26zdeRa24Uo8TXD6aWFZrnKu6aexUx5QqCIykBmil1NW7CpmF4Xv6XTzLOUgF8m3gWMg3YEhyIOPm6F8qZ1Svlv1aAu2cN9UyZMykRnCtK09bvdaNdVSvVvquEJl5k8XSFauukWlD10KtnDLNeBg0m1oZR8AuiqXlqdioFgbsikf8qXl019PFujgHT8ehXcVTxTTMs6NKI9ZVFr7XEkYqxK16z9Ets8fTQtN+41W0y4rjF0OlrV5rnKu6aexUX3rRuplWzReios5ImgViC0MyP6QHsyOh50e1C8WoC2xoGf37SOycV2yGj8Zn41yeuk3or8CC5XsaF8J53OlQtn0ZwZvb2+ns1qKiPc9oVDvkYqjfUH8dxq16h3I4jvhKu+Ijq3Znr+sK9k8SWctX7NlM7RSQZm0rw47gYUNMl/ajtZ6WADBDbMnth0/j31B6fpZKaxwZNS9zKIseRvYOu0f2dQ9e7INDGQvYPdItBah7sjhYplsjG8bs0OTOBXX3Epj9xmR7qN1hRjOT0d5DR5PNn43xO4dZvulaYn7hlLnMU9c8b6O9ht+HhmvsbPYmbDhPphQt1I0mUxX+LceuIrqzi/SU+qshuxqNQLQuA2E7MENjsBA4Djdg92yflKHrybFes1d4Uo2X5Up1q7nI41ud+l04wAGFrI5/v4Fo3STdfXB2Z8/dYae4RqUxuxlpFiiu6rd6s7gdm5sHtEidd89K110ovoFsvOiGs2ncqniqLXDUwvRfowWg4O/jQdgOiCl2xTLH+cNR9hKflKFYPnxRppWySXVvYgZ4GGhXJ5Iu1++3P2BgmqT2/Vbrs1fpeSKVqXAqJy6Z5sVGyeo7SmgbFr/cZHOyHIWE+wgtik+Cn6EaxA5qtSEtbu/IQsb7m70P+xdU0cL9zV5CbPnRKTLvoB11PE69Jg1mKfbnn29UZF424+/OesWcOBiBHSj2DwJaATu0Tj4WZaVVx/Oq/XHYGeEjZJVeNwLBXyZNH8jd70PXfiAlLimfVI/FD63G7W8Wx1PaCYzOhlI0rRvT6R5P/y2uoxTRvVGnImeIRm95dFe5w3h0l96qUbuhOpAtPzFs97x+1YH9i2vhIuIsPt9PONXcIZtPZgdTQv1WhBj1ni0TXtPFPH6WXjHoJ4GAdnfBFaJkDAAbkU1MFVdubclL9M58yFVG40m3a9HTT3TYVh9Tl5ezaQACLCTdkub5m2PPzNlGyvC9w+7+kXVx8ffQ8XTFpeUygUQD52X6q3gb/uNRIE/MTaqWUVPtbJJMHeeqbho71Sei5QivIovfXYwCzJKlY9DOTcti/N1ZLwAAgF1IO3fTO1GNuz2eeim16JLWcUrQ+8q7oigLrMu2sS+JYR04krvSi7vkTI+nZ+lv3bMRHweHv7yZVeNRd3uIAJnN2YTB3x3s8ttN41nU4LWkbabWeHQbFRoqAACA59AdRI3kr9JLcQ7Y6WbcuhgnQcAOWLCqXWVni8lUzqZYN+awd9AfmPKq8ajBU5f34ngc4nRgntq0n5MYAABk9D86AcChBLNd6O031KzSu4q35Xch6gsVrFtAiumXKOLvkLzDzujv5k8hATswHkWOfh1hg482qzMEtoDp3elzst1r0boAACr8XW0AACZYr9Zqc/dVelfhk19Mei7M/IAlnl+fyN7sY/1XViDgRDAeAQBkUL9uO3vAp1oAAF4gYAceSxrY0hpTOcGyVXr9obMZlfxSmVgjAaDL5JOzgrMRROuABRiPAACKxM101N/jkYBvegAA7EHADjwQu7GzLXmV3lW4WbVn9gE4F/r46h1uqz3WOn82cruzz1/wHjAeAQDUWTXtBwAAAAAAAAAAAAAAAADAjvwHXOCRqfndkrIAAAAASUVORK5CYII=",
r.Or=l);this.Y=new IconManager(l,b);this.Y.add("play",40,40);this.Y.add("pause",40,40);this.Y.add("tostart",40,40);this.Y.add("menu",40,40);this.Y.add("stepback",40,40);this.Y.add("stepforward",40,40);this.Y.add("autofit",40,40);this.Y.add("fit",40,40);this.Y.add("grid",40,40);this.Y.add("shrink",40,40);this.Y.add("draw",40,40);this.Y.add("hexgrid",40,40);this.Y.add("lines",40,40);this.Y.add("pan",40,40);this.Y.add("pick",40,40);this.Y.add("states",40,40);this.Y.add("hexagongrid",40,40);this.Y.add("trianglegrid",
40,40);this.Y.add("inside",40,40);this.Y.add("undo",40,40);this.Y.add("redo",40,40);this.Y.add("drawpause",40,40);this.Y.add("invertselection",40,40);this.Y.add("autoshrink",40,40);this.Y.add("selectlibrary",40,40);this.Y.add("cut",40,40);this.Y.add("copy",40,40);this.Y.add("paste",40,40);this.Y.add("flipx",40,40);this.Y.add("flipy",40,40);this.Y.add("rotatecw",40,40);this.Y.add("rotateccw",40,40);this.Y.add("random",40,40);this.Y.add("smart",40,40);this.Y.add("outside",40,40);this.Y.add("select",
40,40);this.Y.add("reverse",40,40);this.Y.add("uturn",40,40);this.Y.add("nudgeright",40,40);this.Y.add("nudgeleft",40,40);this.Y.add("nudgeup",40,40);this.Y.add("nudgedown",40,40)};h.prototype.NG=function(b){var l=!1,f=null;""===b&&(b="Life");try{f=this.D.create("","x = 1, y = 1, rule = "+(b+"\nb!"),this.g.u,null,null,[],this)}catch(t){f=null}f&&f.Ae&&(l=!0);return l};h.prototype.WD=function(b){var l=window.prompt("Change rule",(""===b.Vc?b.Ab:b.Vc)+b.ul);if(null!==l)if(b.NG(l)){""===l&&(l="Life");
var f=l.indexOf(":");-1!==f?(b.Ab=l.substr(0,f),b.ul=l.substr(f)):(b.Ab=l,b.ul="");b.Vc="";f=b.g.Yq(b,b.g,!0,b.g.i,b.g.i,[],!0);b.Bd&&(b.I=b.eq,b.H=b.cq);b.Yh(f,!1)}else b.j.notification.notify("Invalid rule",15,180,15,!0)};h.prototype.Ky=function(b,l,f,t,x){var z=this.Ab;""!==b&&(z=z.substr(0,z.length-b.length));this.Vc=this.Ab=z+=l;b=this.g.Yq(this,this.g,!0,f,t,x,!0);this.Bd&&(this.I=this.eq,this.H=this.cq);this.Yh(b,!1)};h.prototype.zJ=function(b){b.Ky(b.g.Ea?"History":"","Super",b.g.Ea?7:2,26,
b.g.Ea?r.sL:r.iO)};h.prototype.xJ=function(b){b.Ky(b.g.T?"Super":"","History",b.g.T?26:2,7,b.g.T?r.nO:r.hO)};h.prototype.yJ=function(b){b.Ky(b.g.Ea?"History":"Super","",b.g.Ea?7:26,2,b.g.Ea?r.rL:r.oO)};h.prototype.hE=function(){var b=this.g.Ja.Xg;var l="",f,t;var x="R"+b+",C"+(this.g.Ja.Go+",");b=this.D.ps(b,this.g.Ja.type,this.g.Ja.si);switch(this.g.Ja.type){case this.D.Od:l="";break;case this.D.wf:l="N";break;case this.D.sk:l="C";break;case this.D.yk:l="2";break;case this.D.lj:l="+";break;case this.D.Pj:l=
"X";break;case this.D.Tj:l="*";break;case this.D.Ai:l="H";break;case this.D.jj:l="B";break;case this.D.vj:l="#";break;case this.D.bm:l="@"+this.g.Ja.xe;this.g.S?l+="H":this.g.R&&(l+="L");break;case this.D.ai:l="3";break;case this.D.Gh:l="A";break;case this.D.$h:l="L";break;case this.D.vi:l="G";break;case this.D.kp:l="W"+this.g.Ja.xe,this.g.S?l+="H":this.g.R&&(l+="L")}var z=this.Wb.random()*b/b;x+="S";var A=-1;for(f=t=0;t<b;)this.Wb.random()<z?-1===A&&(0<f&&(x+=","),x+=String(t),A=t,f+=1):-1!==A&&
(A!==t-1&&(x+="-"+String(t-1)),A=-1),t+=1;-1!==A&&A!==t-1&&(x+="-"+String(t-1));0===f&&(A=this.Wb.random()*b|0,x+=String(A));x+=",B";z=this.Wb.random()*(b-1)/(b-1);A=-1;t=1;for(f=0;t<b;)this.Wb.random()<z?-1===A&&(0<f&&(x+=","),x+=String(t),A=t,f+=1):-1!==A&&(A!==t-1&&(x+="-"+String(t-1)),A=-1),t+=1;-1!==A&&A!==t-1&&(x+="-"+String(t-1));0===f&&(A=this.Wb.random()*(b-1)|1,x+=String(A));""!==l&&(x+=",N"+l);return x};h.prototype.iE=function(){var b=this.g.Ja.Xg;var l="";var f="R"+b+",C"+(this.g.Ja.Go+
",");f+="M1,";b=this.D.ps(b,this.g.Ja.type,this.g.Ja.si);b+=1;switch(this.g.Ja.type){case this.D.Od:l="M";break;case this.D.wf:l="N";break;case this.D.sk:l="C";break;case this.D.yk:l="2";break;case this.D.lj:l="+";break;case this.D.Pj:l="X";break;case this.D.Tj:l="*";break;case this.D.Ai:l="H";break;case this.D.jj:l="B";break;case this.D.vj:l="#";break;case this.D.bm:l="@"+this.g.Ja.xe;this.g.S?l+="H":this.g.R&&(l+="L");break;case this.D.ai:l="3";break;case this.D.Gh:l="A";break;case this.D.$h:l=
"L";break;case this.D.vi:l="G";break;case this.D.kp:l="W"+this.g.Ja.xe,this.g.S?l+="H":this.g.R&&(l+="L")}var t=this.Wb.random()*b|0;f+="S"+String(t);t=(this.Wb.random()*(b-t)|0)+t;f+=".."+String(t);t=(this.Wb.random()*(b-1)|0)+1;f+=",B"+String(t);t=(this.Wb.random()*(b-t)|0)+t;f+=".."+String(t);return f+(",N"+l)};h.prototype.lE=function(){var b="W";var l=2*(127*this.Wb.random()|0);return b+=String(l)};h.prototype.jE=function(b){var l="B",f,t,x=8,z="";if(this.g.S)switch(this.g.Gg){case this.D.Jp:x=
6;z=this.D.zv;break;case this.D.Nr:x=3,z=this.D.Cz}else if(this.g.R)switch(this.g.Ud){case this.D.gp:x=3;z=this.D.tt;break;case this.D.Nq:x=6;z=this.D.nx;break;case this.D.Oq:x=6;z=this.D.ox;break;case this.D.hp:x=9;z=this.D.vt;break;case this.D.sn:x=12,z=this.D.ut}else this.g.ye&&(x=4,z=this.D.vx);var A=new Uint8Array(x+1);var C=new Uint8Array(x+1);var I=t=50;-1!==this.vl&&(I=t=this.vl);-1!==this.wl&&(t=this.wl);-1!==this.Wm&&(I=this.Wm);for(f=0;f<=x;f+=1)A[f]=t,C[f]=I;-1===this.vl&&-1===this.wl&&
(A[0]=25);for(f=0;f<this.Wh.length;f+=2)this.Wh[f]<=x&&(A[this.Wh[f]]=this.Wh[f+1]);for(f=0;f<this.Jj.length;f+=2)this.Jj[f]<=x&&(C[this.Jj[f]]=this.Jj[f+1]);for(f=2<this.g.i||b?1:0;f<=x;)100*this.Wb.random()<=A[f]&&(l+=String(f)),f+=1;l+="/S";for(f=0;f<=x;f+=1)100*this.Wb.random()<=C[f]&&(l+=String(f));2<this.g.i&&!this.g.T&&(l+="/"+this.g.i);return l+=z.toUpperCase()};h.prototype.kE=function(b){var l=b?this.D.sM.toUpperCase()+",":"M",f,t=!1;var x=0;var z=[];var A=this.g.Wf;if(this.Hw){t=new Uint8Array(16);
b=new Uint8Array(16);for(f=0;16>f;f+=1)t[f]=f,b[f]=A[f];for(f=0;16>f;f+=1){var C=A[f];for(x=b=0;16>x;x+=1)C===A[x]&&(b+=1);var I=new Uint8Array(b);for(x=b=0;16>x;x+=1)C===A[x]&&(I[b]=x,b+=1);z[f]=I}for(f=1;16>f;f+=1).5>=this.Wb.random()&&(I=z[f],b=this.Wb.random()*I.length|0,b=I[b],A=t[f],t[f]=t[b],t[b]=A);for(f=0;15>f;f+=1)l+=t[f]+",";l+=t[f]}else if(this.Ew){f=16;b?(b=0,x|=1):(b=16*this.Wb.random()|0,15==b?(t=!0,x|=32769,--f):(b=0,x|=1));l+=String(b);for(--f;65535!==x;){b=this.Wb.random()*f|0;for(C=
0;0<=b;)0===(x&1<<C)&&--b,C+=1;l+=","+String(C-1);x|=1<<C-1;--f}t&&(l+=",0")}else{b?b=0:(b=16*this.Wb.random()|0,15===b?t=!0:b=0);l+=String(b)+",";for(f=1;15>f;f+=1)b=16*this.Wb.random()|0,l+=String(b)+",";b=t?0:16*this.Wb.random()|0;l+=String(b)}return l};h.prototype.Dw=function(b,l){var f="",t,x,z=0,A,C=[],I=b.Cw,G=b.Iw,F=b.Aw/100,E=!1;-1!==b.Ab.indexOf("|")&&(E=!0);if(2>=b.g.i){C[0]="b";C[1]="o";var D=2}else for(D=b.g.i,C[0]=".",x=0;x<D-1;x+=1)C[x+1]=24<=x?String.fromCharCode(112+(x/24|0)-1)+String.fromCharCode(65+
x%24):String.fromCharCode(65+x);-1!==b.g.Vd&&(I=1);for(t=0;t<I;t+=1){var H=this.Wb.random()<=F?(this.Wb.random()*(D-1)|0)+1:0;for(x=A=1;x<G;x+=1)z=this.Wb.random()<=F?(this.Wb.random()*(D-1)|0)+1:0,z!==H&&(1<A&&(f+=A),f+=C[H],A=0,H=z),A+=1;0!==z&&(1<A&&(f+=A),f+=C[z]);t<I-1&&(f+="$\n")}f+="!\n";b.Us||l||(b.g.ga||(b.g.la||b.g.N?(b.Ab=b.kE(b.g.N),E&&(b.Ab+="|"+b.kE(b.g.N))):b.g.sa?b.vD?(b.Ab=b.iE(),E&&(b.Ab+="|"+b.iE())):(b.Ab=b.hE(),E&&(b.Ab+="|"+b.hE())):-1!==b.g.Vd?(b.Ab=b.lE(),E&&(b.Ab+="|"+b.lE())):
(b.Ab=b.jE(E),E&&(b.Ab+="|"+b.jE(E)))),b.g.Ea&&(b.Ab+="History"),b.g.T&&(b.Ab+="Super"),l=AliasManager.Er(b.Ab),null!==l?b.Vc=l:b.Vc="");l=b.g.Ac;l+="x = "+r.sq+", y = "+r.sq+", rule = ";l+=(""===b.Vc?b.Ab:b.Vc)+b.ul+"\n";l=l+f+b.g.vg;if(b.Zj.locked||b.Bw||window.confirm("Create new random pattern?"))b.Bd&&(b.I=b.eq,b.H=b.cq),b.Yh(l,!1),b.UB(b)};h.prototype.FF=function(b){var l=window.prompt("Create new pattern with rule",(""===b.Vc?b.Ab:b.Vc)+b.ul);null!==l&&(b.NG(l)?(""===l&&(l="Life"),b.Bd&&(b.I=
b.eq,b.H=b.cq),b.Yh("x = 1, y = 1, rule = "+(l+"\nb!"),!1)):b.j.notification.notify("Invalid rule",15,180,15,!0))};h.prototype.tH=function(){this.zi.icon=this.g.S?this.g.sc?[this.Y.icon("hexgrid")]:[this.Y.icon("hexagongrid")]:this.g.R&&!this.g.sc?[this.Y.icon("trianglegrid")]:[this.Y.icon("grid")]};h.prototype.hy=function(b,l){b.j.hasFocus&&(b.In||(b.wheelDelta=-l.deltaY,1===l.deltaMode&&(b.wheelDelta*=45),b.j.rg(!0)),l.preventDefault())};h.prototype.dD=function(){var b=this.X.PD(0===this.jt?0:this.sh/
this.jt),l=this.hn,f=this.Ar;this.g.Aa=this.g.width/2-(this.jn+b*(this.dl-this.jn));this.g.va=this.g.height/2-(this.kn+b*(this.Un-this.kn));this.g.zoom=this.Oo*Math.pow(this.Vn/this.Oo,b);180<f-l?l+=360:-180>f-l&&(f+=360);this.g.angle=(l+b*(f-l))%360;this.$u&&(this.g.ze=this.hC+b*(this.nz-this.hC),this.hd.current=this.Ml([this.g.ze,this.g.ze],!1,this));this.Tv&&(this.g.W=this.jC+b*(this.oz-this.jC),this.he.current=this.xt([this.g.W,this.g.W],!1,this));this.sh+=1;this.sh>this.jt&&(this.sh=-1,this.g.zoom=
this.Vn,this.g.angle=f%360,this.g.Aa=this.g.width/2-this.dl,this.g.va=this.g.height/2-this.Un,this.$u&&(this.g.ze=this.nz,this.hd.current=this.Ml([this.g.ze,this.g.ze],!1,this)),this.Tv&&(this.g.W=this.oz,this.he.current=this.xt([this.g.W,this.g.W],!1,this)));this.yc&&(this.yc.current=this.Uk([this.g.zoom,this.g.zoom],!1,this));this.Hd&&(this.Hd.current=this.wt([this.g.angle,this.g.angle],!1,this))};h.prototype.PJ=function(){var b=this.X,l=b.Se.length,f,t=this.gb,x=this.jb,z=b.vp();for(f=0;f<l;f+=
1){var A=b.Se[f];z.Rh=!0;z.x=-A.x+t/2;z.Vf=!0;z.y=-A.y+x/2;z.zf=!0;z.zoom=A.zoom;z.Wd=!0;b.add(z);f<l-1&&(z=b.vp())}};h.prototype.aC=function(b,l){var f=b.X.uc[l];b.jn=b.g.width/2-b.g.Aa;b.kn=b.g.height/2-b.g.va;b.Oo=b.g.zoom;b.hn=b.g.angle;f.Vf?b.dl=f.x:b.dl=b.jn;f.zf?b.Un=f.y:b.Un=b.kn;b.Vn=f.Wd?f.zoom:b.Oo;b.Ar=f.Fh?f.angle:b.hn;b.g.S&&(b.dl+=b.g.va/2);b.$u=f.ui;b.$u&&(b.hC=b.g.ze,b.nz=f.depth/r.Nn);b.Tv=f.Fi;b.Tv&&(b.jC=b.g.W,b.oz=f.W);b.sh=0;b.jt=f.Fk;b.dD();f.Do&&b.DG(b);f.jh===WaypointConstants.play?
b.Bb.current=b.Fd(r.Dk,!0,b):f.jh===WaypointConstants.stop&&b.eb&&(b.Bb.current=b.Fd(r.Te,!0,b));f.sg&&b.an(f.Gc,b.g.Xl,b);b.j.notification.notify("POI "+(l+1),15,60,15,!0);""!==f.Tf?b.j.notification.notify(f.Tf,15,180,15,!1):b.j.notification.clear(!1,!0);f.ln&&(b.dc=f.dc);f.zm&&(b.ib=f.ib);f.yi&&(b.Eg=Math.sqrt((f.Cc-r.hh)/(r.Bm-r.hh)),b.kc.current=b.Sk([b.Eg,b.Eg],!0,b));f.Oi&&(b.Ha=f.step,b.Td.current=b.xn([b.Ha,b.Ha],!0,b));f.it&&(b.g.counter>f.fc&&b.DG(b),b.g.counter<f.fc&&(b.In=!0,b.Jy=f.fc,
b.Iy=!1));f.kl&&(b.g.ic=f.jd);f.dx&&(this.Li=f.gn)};h.prototype.pi=function(b,l,f){var t=l/b.g.xc;f&&(l=1<=l?Math.round(l):1/Math.round(1/l),t=l/b.g.xc);b.Id||(b.jn=b.g.width/2-b.g.Aa,b.kn=b.g.height/2-b.g.va,b.Oo=b.g.zoom,b.hn=b.g.angle,b.dl=b.jn,b.Un=b.kn,b.Vn=t,b.Ar=b.hn,b.sh=0)};h.prototype.Ux=function(b){b.cD(b)};h.prototype.su=function(b){b.HB(b)};h.prototype.Ao=function(b){b.Rb&&b.Hv(b);-1!==b.Ug&&b.ft(b,!0)};h.prototype.$q=function(b){b.Cl||b.Dl||b.El||b.Fl||b.Lk?(b.Cl=!1,b.Dl=!1,b.El=!1,
b.Fl=!1,b.Lk=!1):b.Oc.current=[!1]};h.prototype.$t=function(b){b.El=!0};h.prototype.Tq=function(b){b.Cl=!0};h.prototype.au=function(b){b.Fl=!0};h.prototype.Nt=function(b){b.Dl=!0};h.prototype.Tt=function(b){b.FF(b)};h.prototype.eu=function(b){b.Dw(b,!1)};h.prototype.kv=function(b){b.UB(b);b.j.notification.notify("Saved",15,120,15,!0)};h.prototype.Rt=function(b){b.dF(b)};h.prototype.vu=function(b){b.WD(b)};h.prototype.Sz=function(b){b.Lk=!0};h.prototype.le=function(b,l,f){f&&(l[0]?(this.an(r.mt[b],
1,this),this.Oc.current[0]&&(this.Oc.current=this.Yo([!1],!0,this))):(this.Oc.current[0]&&(this.Oc.current=this.Yo([!1],!0,this)),l[0]=!0));return l};h.prototype.hB=function(b,l,f){return f.le(0,b,l)};h.prototype.uB=function(b,l,f){return f.le(1,b,l)};h.prototype.Fx=function(b,l,f){return f.le(2,b,l)};h.prototype.Jx=function(b,l,f){return f.le(3,b,l)};h.prototype.Kx=function(b,l,f){return f.le(4,b,l)};h.prototype.Ox=function(b,l,f){return f.le(5,b,l)};h.prototype.Px=function(b,l,f){return f.le(6,
b,l)};h.prototype.Qx=function(b,l,f){return f.le(7,b,l)};h.prototype.Rx=function(b,l,f){return f.le(8,b,l)};h.prototype.Sx=function(b,l,f){return f.le(9,b,l)};h.prototype.FB=function(b,l,f){return f.le(10,b,l)};h.prototype.WB=function(b,l,f){return f.le(11,b,l)};h.prototype.rC=function(b,l,f){return f.le(12,b,l)};h.prototype.bD=function(b,l,f){return f.le(13,b,l)};h.prototype.wD=function(b,l,f){return f.le(14,b,l)};h.prototype.AD=function(b,l,f){return f.le(15,b,l)};h.prototype.Ax=function(b,l,f){return f.le(16,
b,l)};h.prototype.Cx=function(b,l,f){return f.le(17,b,l)};h.prototype.Dx=function(b,l,f){return f.le(18,b,l)};h.prototype.Ex=function(b,l,f){return f.le(19,b,l)};h.prototype.Ix=function(b,l,f){return f.le(20,b,l)};h.prototype.Iz=function(b){b.Lj=!1};h.prototype.Lt=function(b){b.ad=!1;b.mm.current=b.mD([b.ad],!0,b)};h.prototype.Ht=function(b){b.od.length?(b.od=[],b.hc=0,b.bC(b.Cd.current)):k()};h.prototype.vG=function(b){--b.Zg;0>b.Zg&&(b.Zg=b.X.uc.length-1);b.aC(b,b.Zg)};h.prototype.GF=function(b){b.Zg+=
1;b.Zg>=b.X.uc.length&&(b.Zg=0);b.aC(b,b.Zg)};h.prototype.Ut=function(b){b.fd+=1;b.fd>=B.Ce.length&&(b.fd=0);b.Yh(B.Ce[b.fd].pattern,!1)};h.prototype.bu=function(b){--b.fd;0>b.fd&&(b.fd=B.Ce.length-1);b.Yh(B.Ce[b.fd].pattern,!1)};h.prototype.Nv=function(b){b.qC();b.ha&&(b.ha=0);b.Oc.current[0]=!1;b.j.Uf=!0};h.prototype.Cv=function(b){b.ct=!0};h.prototype.Tx=function(b){b.Rg(r.ei,b)};h.prototype.qJ=function(b,l){var f=0;if((b.g.Ea||b.g.T)&&l)for(;f<b.zb.length;)1<b.zb[f]&&(b.zb[f]&=1),f+=1;else for(;f<
b.zb.length;)b.zb[f]=0,f+=1};h.prototype.$D=function(b){var l=b.Cb,f=l.l,t=l.v,x=l.o;l=l.A;var z=b.g.M,A=z.l,C=z.v,I=z.o;z=z.A;var G=(b.g.width>>1)-(b.gb>>1)+(b.Nb<<1);var F=(b.g.height>>1)-(b.jb>>1)+(b.Ob<<1);if(!b.Ta&&b.tb){if(f>t){var E=t;t=f;f=E}x>l&&(E=l,l=x,x=E);f+=G;t+=G;x+=F;l+=F;for(E=I;E<=z;E+=1)for(I=A;I<=C;I+=1)E>=x&&E<=l&&I>=f&&I<=t||(G=b.g.getState(I,E,!1),0!==G&&b.dd(I,E,0));b.g.Sg=!0;b.g.bh();b.qb("clear cells outside selection")}};h.prototype.rJ=function(b,l){var f=b.Cb,t=f.l,x=f.v,
z=f.o;f=f.A;var A=(b.g.width>>1)-(b.gb>>1)+(b.Nb<<1),C=(b.g.height>>1)-(b.jb>>1)+(b.Ob<<1);if(!b.Ta&&b.tb){if(t>x){var I=x;x=t;t=I}z>f&&(I=f,f=z,z=I);if((b.g.Ea||b.g.T)&&l){for(I=z;I<=f;I+=1)for(z=t;z<=x;z+=1){var G=b.g.getState(z+A,I+C,!1);1<G&&b.dd(z+A,I+C,G&1)}b.g.Ea&&this.g.Sm()}else for(I=z;I<=f;I+=1)for(z=t;z<=x;z+=1)G=b.g.getState(z+A,I+C,!1),0!==G&&b.dd(z+A,I+C,0);b.g.Sg=!0;b.g.bh();b.Dh=!1;(b.g.Ea||b.g.T)&&l?b.g.Ea?b.qb("clear [R]History cells in selection"):b.qb("clear [R]Super cells in selection"):
b.qb("clear cells in selection")}};h.prototype.hz=function(b,l){b.Ta||(b.ld?b.qJ(b,l):b.rJ(b,l))};h.prototype.ip=function(b){b.hz(b,!1)};h.prototype.Fo=function(b){b.$D(b)};h.prototype.Ro=function(b){b.hz(b,!0)};h.prototype.TG=function(b){var l=b.Cb,f=b.g.M,t=(b.g.width>>1)-(b.gb>>1)+(b.Nb<<1),x=(b.g.height>>1)-(b.jb>>1)+(b.Ob<<1);b.g.Sg=!0;b.g.bh();l.l=f.l-t;l.o=f.o-x;l.v=f.v-t;l.A=f.A-x;b.tb=!0;b.Dh=!1;b.qb("select all ("+(l.v<l.l?l.l-l.v+1:l.v-l.l+1)+" x "+(l.A<l.o?l.o-l.A+1:l.A-l.o+1)+")")};h.prototype.yG=
function(b,l,f){b.Ta||(!b.sl&&b.Jh&&(l?b.ir(b,!0):b.Ta?b.ir(b,!0):f?b.Bu(b,!0):b.Bu(b,!1)),b.Yy(b,b.Ag,!1,!1))};h.prototype.pE=function(b){b.yG(b,!1,!1)};h.prototype.Yy=function(b,l,f,t){var x=b.Cb,z=x.l,A=x.v,C=x.o;x=x.A;var I,G=0,F=b.g.i,E=2<F&&!(this.g.Pa||this.g.N||this.g.ga||this.g.T),D=(b.g.width>>1)-(b.gb>>1)+(b.Nb<<1),H=(b.g.height>>1)-(b.jb>>1)+(b.Ob<<1);if(b.tb){if(z>A){var N=A;A=z;z=N}C>x&&(N=x,x=C,C=N);var K=A-z+1;var P=x-C+1;var J=b.g.u.P(Uint8,K*P,"View.pasteBuffer"+l);N=0;for(I=C;I<=
x;I+=1)for(C=z;C<=A;C+=1){var S=b.g.getState(C+D,I+H,!1);0<S&&E&&(S=F-S);J[N]=S;0<S&&(G+=1);b.dd(C+D,I+H,0);N+=1}b.Nf[l]={buffer:J,width:K,height:P,count:G};b.zb=J;b.tf=K;b.sf=P;b.Du();b.g.Sg=!0;b.g.bh();b.cr=!0;b.zd=!1;b.Dh=!0;t||(f?b.qb("advance outside"):b.qb("cut"))}};h.prototype.xG=function(b,l,f){0!==b.ha?(Help.My=!0,Help.Jn="",Help.dv(b),b.Yl(b,Help.Jn,!1),Help.My=!1,Help.Jn=""):(b.sl||!b.Jh&&b.tb||(l?b.ir(b,!0):b.Ta?b.ir(b,!0):f?b.Bu(b,!0):b.Bu(b,!1)),b.tb&&(b.FJ(b,b.Ag),b.fx||(b.fx=!0,b.j.notification.notify("Disable Sync for faster internal clipboard",
15,360,15,!1))))};h.prototype.Dt=function(b){b.xG(b,!1,!1)};h.prototype.KJ=function(b){var l=b.Cb,f=l.l,t=l.o,x=l.v,z=l.A,A,C,I=(b.g.width>>1)-(b.gb>>1)+(b.Nb<<1),G=(b.g.height>>1)-(b.jb>>1)+(b.Ob<<1),F=!0;l=[];if(b.tb){if(f>x){var E=f;f=x;x=E}t>z&&(E=t,t=z,z=E);E=x-f+1;if(E!==z-t+1)b.j.notification.notify("Weighted needs a square selection",15,180,15,!0),F=!1;else if(0===(E&1))b.j.notification.notify("Weighted size must be odd",15,180,15,!0),F=!1;else if(3>E||99<E)b.j.notification.notify("Weighted size must be >= 3 and <= 99",
15,180,15,!0),F=!1;if(F){F="";var D=0;for(C=t;C<=z;C+=1)for(A=f;A<=x;A+=1)t=b.g.getState(A+I,C+G,!1),l[l.length]=t,t>D&&(D=t);if(7>=D)for(f=0;f<l.length;f+=1)t=l[f],F+=b.D.yv[t];else for(f=0;f<l.length;f+=1)t=l[f],F+=b.D.yv[t>>4],F+=b.D.yv[t&15];b.g.S?F+="H":b.g.R&&(F+="L");b.Yl(b,F,!1);b.j.notification.notify("Weighted R"+(E-1>>1)+" copied to clipboard",15,180,15,!0)}}else b.j.notification.notify("Weighted needs a selection",15,180,15,!0)};h.prototype.AJ=function(b){var l=b.Cb,f=l.l,t=l.o,x=l.v;
l=l.A;var z=0,A,C=(b.g.width>>1)-(b.gb>>1)+(b.Nb<<1),I=(b.g.height>>1)-(b.jb>>1)+(b.Ob<<1);var G=!0;if(b.tb){if(f>x){var F=f;f=x;x=F}t>l&&(F=t,t=l,l=F);F=x-f+1;if(F!==l-t+1)b.j.notification.notify("CoordCA needs a square selection",15,180,15,!0),G=!1;else if(0===(F&1))b.j.notification.notify("CoordCA size must be odd",15,180,15,!0),G=!1;else if(3>F||99<F)b.j.notification.notify("CoordCA size must be >= 3 and <= 99",15,180,15,!0),G=!1;if(G){var E="";var D=t+(l-t+1>>1);G=f+(x-f+1>>1);var H=3;for(A=
t;A<=l;A+=1)for(t=f;t<=x;t+=1)if(A!==D||t!==G){var N=b.g.getState(t+C,A+I,!1);0<N&&(z|=1<<H);--H;0>H&&(E+=b.D.yv[z],H=3,z=0)}b.g.S?E+="H":b.g.R&&(E+="L");b.Yl(b,E,!1);b.j.notification.notify("CoordCA R"+(F-1>>1)+" copied to clipboard",15,180,15,!0)}}else b.j.notification.notify("CoordCA needs a selection",15,180,15,!0)};h.prototype.DJ=function(b){2<b.g.i?b.KJ(b):b.AJ(b)};h.prototype.FJ=function(b,l){var f=b.Cb,t=f.l,x=f.o,z=f.v;f=f.A;var A,C=0,I=b.g.i,G=2<I&&!(this.g.Pa||this.g.N||this.g.ga||this.g.T),
F=(b.g.width>>1)-(b.gb>>1)+(b.Nb<<1),E=(b.g.height>>1)-(b.jb>>1)+(b.Ob<<1);if(b.tb){if(t>z){var D=t;t=z;z=D}x>f&&(D=x,x=f,f=D);var H=z-t+1;var N=f-x+1;var K=b.g.u.P(Uint8,H*N,"View.pasteBuffer"+l);D=0;for(A=x;A<=f;A+=1)for(x=t;x<=z;x+=1){var P=b.g.getState(x+F,A+E,!1);0<P&&G&&(P=I-P);K[D]=P;0<P&&(C+=1);D+=1}b.Nf[l]={buffer:K,width:H,height:N,count:C};b.zb=K;b.tf=H;b.sf=N;b.Du();b.cr=!0;b.zd=!1;b.Dh=!0}};h.prototype.uu=function(b){b.ld=!1;b.j.notification.clear(!0,!1);b.zd&&b.cD(b);b.zd=!1};h.prototype.vK=
function(b,l){var f=this.$c,t=this.Jh;l?b.tb?(b.Yy(b,b.Ag,!0,!1),b.g.Be(!0,b.Pd,b.Dc,b.Rb),b.g.ee(),b.qb(""),this.$c=r.lw,b.ww(b,!0,!0),this.$c=f):b.j.notification.notify("Advance Outside needs a selection",15,180,15,!0):b.zd?(b.vE(b),b.zd||b.j.notification.notify("Advance Selection all cells died",15,180,15,!0)):b.tb?(b.Dh||(this.Jh=!1,b.pE(b),this.Jh=t),b.cr&&(b.vE(b),b.zd||b.j.notification.notify("Advance Selection no live cells",15,180,15,!0))):b.j.notification.notify("Advance Selection needs a selection",
15,180,15,!0)};h.prototype.vE=function(b){var l,f,t,x=b.tf,z=b.sf,A=b.zb,C=b.Cb,I=b.g.M,G=b.g.Ad,F=b.Ap,E=b.g.jd,D=b.g.Lg,H=b.g.ca,N=b.g.tk,K=b.g.de,P=b.g.Fc,J=b.g.Ma,S=b.g.ia,X=b.g.qa,U=b.g.Ka,L=b.g.Da,ja=b.g.width,W=b.g.height,ma=b.g.fb,sa=b.g.Vb,ca=b.g.jf,V=b.g.ar,ea=b.g.sd,fa=b.g.rc,qa=b.g.ua,na=b.g.pa,T=b.g.Fb,Q=b.g.Kb,Y=b.g.counter,ia=new BoundingBox(I.l,I.o,I.v,I.A),la=new BoundingBox(G.l,G.o,G.v,G.A),ba=b.g.Ye,M=b.g.Ni,O=b.g.Uj,oa=b.g.Qf,Z=b.g.cc,R=b.g.me,pa=b.g.qo,ya=b.g.tl,wa=null,va=null;
b.g.sa&&(wa=b.g.Ja.Kh,va=b.g.Ja.wu,b.g.Ja.resize(1024,1024));b.g.UI();var ka=Math.round((b.g.width-b.gb)/2);var aa=Math.round((b.g.height-b.jb)/2);for(t=l=0;t<z;t+=1)for(f=0;f<x;f+=1){var ha=A[l];0<ha&&b.g.Rj(f+ka,t+aa,ha,!0);l+=1}b.g.Be(!1,!0,!0,b.Rb);b.g.ee();if(b.g.ba){b.tf=I.v-I.l+1;b.sf=I.A-I.o+1;b.zb=b.g.u.P(Uint8,b.tf*b.sf,"View.pasteBuffer");l=0;for(t=I.o;t<=I.A;t+=1)for(f=I.l;f<=I.v;f+=1)ha=b.g.getState(f,t,!1),0<ha&&2<b.g.i&&!b.g.N&&!b.g.ga&&(ha=b.g.i-ha),b.zb[l]=ha,l+=1;b.zd?(F.l+=I.l-
ka,F.o+=I.o-aa,F.v=F.l+b.tf-1,F.A=F.o+b.sf-1):(F.l=C.l<C.v?C.l+I.l-ka:C.v+I.l-ka,F.o=C.o<C.A?C.o+I.o-aa:C.A+I.o-aa,F.v=F.l+b.tf-1,F.A=F.o+b.sf-1);b.zd=!0}else b.zd=!1;b.g.jd=E;b.g.Lg=D;b.g.ca=H;b.g.tk=N;b.g.de=K;b.g.Fc=P;b.g.Ma=J;b.g.ia=S;b.g.qa=X;b.g.Ka=U;b.g.Da=L;b.g.width=ja;b.g.height=W;b.g.fb=ma;b.g.Vb=sa;b.g.M.l=ia.l;b.g.jf=ca;b.g.ar=V;b.g.sd=ea;b.g.rc=fa;b.g.ua=qa;b.g.pa=na;b.g.Fb=T;b.g.Kb=Q;b.g.counter=Y;b.g.Ye=ba;b.g.Ni=M;b.g.Uj=O;b.g.Qf=oa;b.g.cc=Z;b.g.me=R;b.g.qo=pa;b.g.tl=ya;I.l=ia.l;
I.o=ia.o;I.v=ia.v;I.A=ia.A;G.l=la.l;G.o=la.o;G.v=la.v;G.A=la.A;b.g.sa&&(b.g.Ja.Kh=wa,b.g.Ja.wu=va)};h.prototype.jB=function(b,l,f,t){var x,z=b.tf,A=b.sf,C=b.zb;var I=b.Dm;var G=b.g.width;switch(b.Ng+.5|0){case r.dG:l-=z>>1;break;case r.eG:l-=z-1;break;case r.iG:f-=A>>1;break;case r.cG:l-=z>>1;f-=A>>1;break;case r.bG:l-=z-1;f-=A>>1;break;case r.hG:f-=A-1;break;case r.fG:l-=z>>1;f-=A-1;break;case r.gG:l-=z-1,f-=A-1}I.l=l;I.o=f;I.v=l+z;I.A=f+A;for(b.Ay(b,I);G!==b.g.width;)l+=G>>1,f+=G>>1,G<<=1;switch(b.$c){case r.Bs:for(x=
I=0;x<A;x+=1)for(G=0;G<z;G+=1){var F=C[I];0<F&&b.dd(l+G,f+x,F);I+=1}break;case r.lw:for(x=I=0;x<A;x+=1)for(G=0;G<z;G+=1)F=C[I],b.dd(l+G,f+x,F),I+=1;break;case r.aB:for(x=I=0;x<A;x+=1)for(G=0;G<z;G+=1){F=C[I];var E=this.g.getState(l+G,f+x,!1);b.dd(l+G,f+x,E^F);I+=1}break;case r.PA:for(x=I=0;x<A;x+=1)for(G=0;G<z;G+=1)F=C[I],E=this.g.getState(l+G,f+x,!1),b.dd(l+G,f+x,E&F),I+=1}b.ld=!1;b.zd=!1;b.j.notification.clear(!0,!1);t&&b.qb("paste")};h.prototype.Nm=function(b,l,f){var t=(b.g.width>>1)-(b.gb>>1)+
(b.Nb<<1),x=(b.g.height>>1)-(b.jb>>1)+(b.Ob<<1),z=b.Cb,A=z.l,C=z.o,I=z.v,G=z.A;var F=0;var E=b.g.width-1;var D=0;var H=b.g.height-1;if(!b.Ta&&b.tb){if(A>I){var N=I;I=A;A=N}C>G&&(N=G,G=C,C=N);N=I-A+1;var K=G-C+1;-1!==b.g.ya&&(0!==b.g.Ca?(F=Math.round((b.g.width-b.g.Ca)/2)-1,E=F+b.g.Ca-1+2):(F=0,E=b.g.width-1),0!==b.g.xa?(D=Math.round((b.g.height-b.g.xa)/2)-1,H=D+b.g.xa-1+2):(D=0,H=b.g.height-1));if(A+t+l>F&&I+t+l<E&&C+x+f>D&&G+x+f<H){b.Yy(b,b.Ag,!1,!0);t+=l;x+=f;F=0;I=b.Nf[b.Ag].buffer;for(D=0;D<K;D+=
1)for(E=0;E<N;E+=1)G=I[F],b.dd(A+E+t,C+D+x,G),F+=1;z.l+=l;z.v+=l;z.o+=f;z.A+=f;b.qb("nudge "+(0===l?-1===f?"up":"down":-1===l?"left":"right"))}else b.j.notification.notify("No room to nudge selection",15,180,15,!0)}};h.prototype.ww=function(b,l,f){var t=(b.g.width>>1)-(b.gb>>1)+(b.Nb<<1),x=(b.g.height>>1)-(b.jb>>1)+(b.Ob<<1),z=b.Cb,A=b.Ap,C=z.l,I=z.o,G=z.v;z=z.A;var F;if(!b.Ta&&null!==b.Nf[b.Ag])if(l)if(b.tb||b.zd)if(b.zd&&(C=A.l,I=A.o,G=A.v,z=A.A),C>G&&(l=C,C=G,G=l),I>z&&(l=I,I=z,z=l),G=G-C+1,z=
z-I+1,b.tf>G||b.sf>z)b.j.notification.notify("Paste does not fit in selection",15,180,15,!0);else{l=b.Ng;b.Ng=r.iq;for(F=I;F<=I+z-b.sf;F+=b.sf)for(A=C;A<=C+G-b.tf;A+=b.tf)b.jB(b,A+t,F+x,!1);b.Ng=l;b.kk&&b.qu(b);f?b.qb("advance outside"):b.qb("paste to selection");b.zd=!1}else b.j.notification.notify("Paste to Selection needs a selection",15,180,15,!0);else b.fB(b,b.Ag),b.zd=!1,b.j.notification.notify("Now click to paste",15,180,15,!0)};h.prototype.qM=function(b){b.zd?(b.ww(b,!0,!1),b.Dh=!1):b.jB(b,
b.qk,b.rk,!0)};h.prototype.jG=function(b){b.ww(b,!1,!1)};h.prototype.fB=function(b,l){0<=l&&l<b.Nf.length&&(null!==b.Nf[l]?(b.ld=!0,b.zd=!1,b.zb=b.Nf[l].buffer,b.tf=b.Nf[l].width,b.sf=b.Nf[l].height,b.Cd.current!==r.Xp&&(b.Cd.current=b.Tk(r.Xp,!0,b))):(b.ld=!1,b.zd=!1,b.j.notification.notify("Clipboard empty",15,180,15,!0)))};h.prototype.TM=function(b,l){var f,t=b.g.i;-1===t&&(t=2);for(f=0;f<b.zb.length;f+=1){var x=100*b.Wb.random()<=b.Kj?2===t||l?t-1:(b.Wb.random()*(t-1)|0)+1:0;b.zb[f]=x}};h.prototype.UM=
function(b,l){var f=b.Cb,t=f.l,x=f.v,z=f.o;f=f.A;var A=(b.g.width>>1)-(b.gb>>1)+(b.Nb<<1),C=(b.g.height>>1)-(b.jb>>1)+(b.Ob<<1),I=b.g.i;if(b.tb){if(t>x){var G=x;x=t;t=G}z>f&&(G=f,f=z,z=G);-1===I&&(I=2);for(G=z;G<=f;G+=1)for(z=t;z<=x;z+=1){var F=100*b.Wb.random()<=b.Kj?2===I||l?I-1:(b.Wb.random()*(I-1)|0)+1:0;b.dd(z+A,G+C,F)}b.g.Sg=!0;b.g.bh();b.qb("random "+b.Kj+"%")}};h.prototype.zw=function(b,l){b.Ta||(b.ld?b.TM(b,l):b.UM(b,l))};h.prototype.Ft=function(b){b.Ta||b.zw(b,!1)};h.prototype.du=function(b){b.zw(b,
!0)};h.prototype.AK=function(b){var l=b.tf,f=b.sf,t=l>>1,x,z,A;for(z=A=0;z<f;z+=1){if(b.g.N)for(x=0;x<t;x+=1){var C=b.zb[A+x];var I=b.zb[A+l-x-1];b.zb[A+x]=I&5|(I&2)<<2|(I&8)>>2;b.zb[A+l-x-1]=C&5|(C&2)<<2|(C&8)>>2}else for(x=0;x<t;x+=1)C=b.zb[A+x],b.zb[A+x]=b.zb[A+l-x-1],b.zb[A+l-x-1]=C;A+=l}};h.prototype.BK=function(b){var l=b.Cb,f=l.l,t=l.v,x=l.o;l=l.A;var z,A=b.g.i,C=2<A&&!(this.g.Pa||this.g.N||this.g.ga||this.g.T),I=(b.g.width>>1)-(b.gb>>1)+(b.Nb<<1),G=(b.g.height>>1)-(b.jb>>1)+(b.Ob<<1);if(b.tb){if(f>
t){var F=t;t=f;f=F}x>l&&(F=l,l=x,x=F);F=b.g.u.P(Uint8,t-f+1,"View.flipRow");for(z=x;z<=l;z+=1){for(x=f;x<=t;x+=1){var E=b.g.getState(x+I,z+G,!1);C&&0<E&&(E=A-E);F[x-f]=E}if(b.g.N)for(x=f;x<=t;x+=1)E=F[t-x],b.dd(x+I,z+G,E&5|(E&2)<<2|(E&8)>>2);else for(x=f;x<=t;x+=1)b.dd(x+I,z+G,F[t-x])}b.g.Sg=!0;b.g.bh();b.qb("flip horizontally")}};h.prototype.CK=function(b){var l=b.tf,f=b.sf,t=f>>1,x,z,A;for(x=A=0;x<l;x+=1){if(b.g.N)for(z=0;z<t;z+=1){var C=b.zb[A+z*l];var I=b.zb[A+(f-z-1)*l];b.zb[A+z*l]=I&10|(I&1)<<
2|(I&4)>>2;b.zb[A+(f-z-1)*l]=C&10|(C&1)<<2|(C&4)>>2}else for(z=0;z<t;z+=1)C=b.zb[A+z*l],b.zb[A+z*l]=b.zb[A+(f-z-1)*l],b.zb[A+(f-z-1)*l]=C;A+=1}};h.prototype.DK=function(b){var l=b.Cb,f=l.l,t=l.v,x=l.o;l=l.A;var z,A=b.g.i,C=2<A&&!(this.g.Pa||this.g.N||this.g.ga||this.g.T),I=(b.g.width>>1)-(b.gb>>1)+(b.Nb<<1),G=(b.g.height>>1)-(b.jb>>1)+(b.Ob<<1);if(b.tb){if(f>t){var F=t;t=f;f=F}x>l&&(F=l,l=x,x=F);for(F=b.g.u.P(Uint8,l-x+1,"View.flipColumn");f<=t;f+=1){for(z=x;z<=l;z+=1){var E=b.g.getState(f+I,z+G,
!1);C&&0<E&&(E=A-E);F[z-x]=E}if(b.g.N)for(z=x;z<=l;z+=1)E=F[l-z],b.dd(f+I,z+G,E&10|(E&1)<<2|(E&4)>>2);else for(z=x;z<=l;z+=1)b.dd(f+I,z+G,F[l-z])}b.g.Sg=!0;b.g.bh();b.qb("flip vertically")}};h.prototype.LG=function(b,l){var f=b.tf,t=b.sf,x,z,A=b.g.u.P(Uint8,f*t,"View.pasteBuffer");for(z=0;z<t;z+=1)for(x=0;x<f;x+=1)if(b.g.N)if(l){var C=b.zb[z*f+x];A[x*t+(t-z-1)]=C<<1&15|(C&8)>>3}else C=b.zb[z*f+x],A[(f-x-1)*t+z]=C>>1&15|(C&1)<<3;else l?A[x*t+(t-z-1)]=b.zb[z*f+x]:A[(f-x-1)*t+z]=b.zb[z*f+x];b.zb=A;b.tf=
t;b.sf=f};h.prototype.MG=function(b,l,f){var t=b.Cb,x=t.l,z=t.v,A=t.o,C=t.A,I=0,G=b.g.i;var F=!0;var E=2<G&&!(this.g.Pa||this.g.N||this.g.ga||this.g.T),D=b.g.la?-1:0;var H=Math.round((b.g.width-b.g.Ca)/2)+D;var N=Math.round((b.g.height-b.g.xa)/2)+D;var K=H+b.g.Ca-1;var P=N+b.g.xa-1;D=(b.g.width>>1)-(b.gb>>1)+(b.Nb<<1);var J=(b.g.height>>1)-(b.jb>>1)+(b.Ob<<1);if(b.tb){if(x>z){var S=z;z=x;x=S}A>C&&(S=C,C=A,A=S);S=x+(z-x+1-1>>1);var X=A+(C-A+1-1>>1);var U=S+A-X;var L=X+x-S;var ja=S+C-X;X=X+z-S;var W=
t.l;var ma=t.o;var sa=t.v;var ca=t.A;t.l=U;t.o=L;t.v=ja;t.A=X;t.l>t.v&&(S=t.l,t.l=t.v,t.v=S);t.o>t.A&&(S=t.o,t.o=t.A,t.A=S);if(-1!==b.g.ya){if(t.l+D<H||t.v+D>K||t.o+J<N||t.A+J>P)b.j.notification.notify("Rotation does not fit in bounded grid",15,180,15,!0),F=!1}else b.YD(b)?(b.j.notification.notify("Rotation does not fit on grid",15,180,15,!0),F=!1):(D=(b.g.width>>1)-(b.gb>>1)+(b.Nb<<1),J=(b.g.height>>1)-(b.jb>>1)+(b.Ob<<1));if(F){l?(F=L,P=ja,K=1,N=-1):(F=X,P=U,K=-1,N=1);H=b.g.u.P(Int16,3*(z-x+1)*
(C-A+1),"View.rotateCells");if(b.g.S)for(ja=A;ja<=C;ja+=1)for(U=x;U<=z;U+=1)L=b.g.getState(U+D,ja+J,!1),E?0<L&&(L=G-L):b.g.N&&(L=l?L<<1&15|(L&8)>>3:L>>1&15|(L&1)<<3),H[I]=ja-U,H[I+1]=-U,H[I+2]=L,I+=3;else for(ja=A;ja<=C;ja+=1){S=F;for(U=x;U<=z;U+=1)L=b.g.getState(U+D,ja+J,!1),E?0<L&&(L=G-L):b.g.N&&(L=l?L<<1&15|(L&8)>>3:L>>1&15|(L&1)<<3),H[I]=P,H[I+1]=S,H[I+2]=L,I+=3,S+=K;P+=N}D=(b.g.width>>1)-(b.gb>>1)+(b.Nb<<1);J=(b.g.height>>1)-(b.jb>>1)+(b.Ob<<1);for(I=0;I<H.length;)U=H[I],ja=H[I+1],L=H[I+2],b.dd(U+
D,ja+J,L),I+=3;for(U=x;U<t.l;U+=1)for(ja=A;ja<=C;ja+=1)b.dd(U+D,ja+J,0);for(U=t.v+1;U<=z;U+=1)for(ja=A;ja<=C;ja+=1)b.dd(U+D,ja+J,0);for(ja=A;ja<t.o;ja+=1)for(U=x;U<=z;U+=1)b.dd(U+D,ja+J,0);for(ja=t.A+1;ja<=C;ja+=1)for(U=x;U<=z;U+=1)b.dd(U+D,ja+J,0);b.g.Sg=!0;b.g.bh();b.qb(f)}else t.l=W,t.o=ma,t.v=sa,t.A=ca}};h.prototype.Wt=function(b){b.Ta||b.Nm(b,-1,0)};h.prototype.Yt=function(b){b.Ta||b.Nm(b,1,0)};h.prototype.Zt=function(b){b.Ta||b.Nm(b,0,-1)};h.prototype.Vt=function(b){b.Ta||b.Nm(b,0,1)};h.prototype.AE=
function(b){b.Ta||(b.ld?b.AK(b):b.BK(b))};h.prototype.BE=function(b){b.Ta||(b.ld?b.CK(b):b.DK(b))};h.prototype.KG=function(b){b.Ta||(b.ld?b.LG(b,!0):b.MG(b,!0,"rotate clockwise"))};h.prototype.JG=function(b){b.Ta||(b.ld?b.LG(b,!1):b.MG(b,!1,"rotate counter-clockwise"))};h.prototype.yL=function(b){var l=0,f=b.g.i;if(!b.Ta)for(-1===f&&(f=2);l<b.zb.length;){var t=b.zb[l];b.zb[l]=f-t-1;l+=1}};h.prototype.zL=function(b){var l=b.Cb,f=l.l,t=l.v,x=l.o;l=l.A;var z=(b.g.width>>1)-(b.gb>>1)+(b.Nb<<1),A=(b.g.height>>
1)-(b.jb>>1)+(b.Ob<<1),C=b.g.i;if(!b.Ta&&b.tb){if(f>t){var I=t;t=f;f=I}x>l&&(I=l,l=x,x=I);-1===C&&(C=2);for(I=x;I<=l;I+=1)for(x=f;x<=t;x+=1){var G=b.g.getState(x+z,I+A,!1);!b.g.N&&!b.g.ga&&2<C&&0<G&&(G=C-G);b.dd(x+z,I+A,C-G-1)}b.g.Sg=!0;b.g.bh();b.qb("invert cells in selection")}};h.prototype.XE=function(b){b.Ta||(b.ld?b.yL(b):b.zL(b))};h.prototype.gz=function(b){b.g.cd=b.g.cd?!1:!0;b.Xw(b.eb);var l=b.g.bd;b.g.cd&&(l=!l);b.j.notification.notify("Playback "+(l?"Reverse":"Forward"),15,40,15,!0)};h.prototype.It=
function(b){b.dh(!0,!0,r.hl);b.eb||(b.Ig=!0)};h.prototype.dE=function(b){var l=b.Ab;b.g.ga&&(l=RuleTreeCache.KK(l),""===l&&(l=b.D.Rw));b.Yl(b,l,!1)};h.prototype.TE=function(b){b.g.Cy=!1;b.g.By=0;b.g.ba?(b.Rb?(b.Rb=!1,b.j.notification.notify("Identify Cancelled",15,120,15,!1)):(b.Rb=!0,b.Lj=!1,b.Mp?b.j.notification.notify("Identifying (fast)...",15,216E3,15,!1):b.j.notification.notify("Identifying...",15,216E3,15,!1)),b.qb("")):(b.j.notification.notify("Empty Pattern",15,120,15,!1),b.Rb=!1,b.Lj=!1);
b.g.Kv(b.Rb);b.ha=0;b.$q(b);b.$q(b);b.j.Uf=!0;b.s.locked=!1};h.prototype.fv=function(b){b.Ho=1};h.prototype.Vu=function(b){b.Ho=2};h.prototype.FE=function(b){var l=window.prompt("Enter generation",b.g.counter),f=0;null!==l&&("+"==l.charAt(0)?f=b.g.counter+Number(l.substr(1)):f="-"==l.charAt(0)?b.g.counter-Number(l.substr(1)):Number(l),0<=f&&f<=r.vF?f!==b.g.counter&&(b.Ug=f,b.Oc.current=b.Yo([!1],!0,b),b.j.Uf=!0,b.j.notification.notify("Going to generation "+f,15,1E4,15,!1),b.j.notification.clear(!0,
!1),f<b.g.counter&&(b.g.Xs(!1),b.Yw(b.g.counter))):b.j.notification.notify("Invalid generation specified",15,240,15,!0))};h.prototype.Hv=function(b){b.Mp=!1;b.TE(b)};h.prototype.wE=function(b){b.Mp=!0;b.TE(b)};h.prototype.Mq=function(b,l,f){l&&(f.g.ic=b[0]);return[f.g.ic]};h.prototype.iH=function(b,l,f){l&&(f.lh=b[0]);return[f.lh]};h.prototype.kH=function(b,l,f){l&&(f.mq=b[0]);return[f.mq]};h.prototype.HC=function(b,l,f){l&&(f.Hj=b[0]);return[f.Hj]};h.prototype.KC=function(b,l,f){l&&(f.Ul=b[0]);return[f.Ul]};
h.prototype.Yo=function(b,l,f){l&&(0!==f.ha&&b[0]&&(f.ha=0,f.wk.current=f.Xo([f.ha],!0,f)),b[0]||f.$q(f));return b};h.prototype.IC=function(b,l,f){l&&(f.Mo=b[0]);return[f.Mo]};h.prototype.JC=function(b,l,f){l&&(f.dn=b[0]);return[f.dn]};h.prototype.Rk=function(b,l,f){l&&(f.Ek=b[0],f.Ek?f.Ls?f.j.notification.notify("Replace: Now click on a cell",15,180,15,!0):f.j.notification.notify("Pick: Now click on a cell",15,180,15,!0):(f.Qz||f.j.notification.clear(!0,!1),f.Qz=!1,f.Ls=!1));return[f.Ek]};h.prototype.hH=
function(b,l,f){l&&(f.zc=b[0],f.zc&&!f.eb&&f.dh(!0,!0,r.hl));return[f.zc]};h.prototype.vA=function(b,l,f){l&&-1!==f.ib&&(f.Rc=!b[0],f.Wc?(f.He=f.Rc,f.j.notification.notify("Loop and Waypoints "+(f.Rc?"Off":"On"),15,40,15,!0)):f.oe?(f.vf=f.Rc,f.j.notification.notify("Loop and Track "+(f.Rc?"Off":"On"),15,40,15,!0),f.HD(f.vf)):f.j.notification.notify("Loop "+(f.Rc?"Off":"On"),15,40,15,!0));return[f.Rc]};h.prototype.lA=function(b,l,f){l&&f.gf&&(f.yg=!b[0]);return[f.yg]};h.prototype.GA=function(b,l,f){l&&
-1!==f.tP&&(f.Ze=!b[0]);return[f.Ze]};h.prototype.LC=function(b,l,f){l&&(f.oe?(f.vf=!b[0],f.HD(f.vf),-1!==f.ib?(f.Rc=f.vf,f.j.notification.notify("Loop and Track "+(f.Rc?"Off":"On"),15,40,15,!0)):f.j.notification.notify("Track "+(f.vf?"Off":"On"),15,40,15,!0)):f.Wc&&(f.He=!b[0],f.He?(f.j.notification.clear(!1,!1),f.ls=""):(f.Ig=!0,f.elapsedTime=f.X.yK(f.g.counter)),-1!==f.ib?(f.Rc=f.He,f.j.notification.notify("Loop and Waypoints "+(f.Rc?"Off":"On"),15,40,15,!0)):f.j.notification.notify("Waypoints "+
(f.He?"Off":"On"),15,40,15,!0)));return f.oe?[f.vf]:[f.He]};h.prototype.Xo=function(b,l,f){l&&(f.ha=b[0],f.ha?(f.od.length&&f.Rg(r.Sw,f),f.Oc.current[0]&&(f.Oc.current=f.Yo([!1],!0,f))):(f.Rg(r.ei,f),f.ha=0));f.bC(f.Cd.current);return[f.ha]};h.prototype.LH=function(b,l,f){l&&(f.jl=b[0]);return[f.jl]};h.prototype.IH=function(b,l,f){l&&(f.g.nh=b[0],f.g.Mz());return[f.g.nh]};h.prototype.ux=function(b,l,f){l&&(f.rh=b[0],f.rh&&(f.g.ba?0<f.g.counter&&-1===f.g.i&&(--f.g.counter,f.g.Be(!0,f.Pd,f.Dc,f.Rb),
f.Uh()):(f.g.oa=0,f.g.Qb=0,f.g.Ub=0)));f.j.rg(!0);return[f.rh]};h.prototype.Uw=function(b,l){1<b.hc&&(b.hc-=l,1>b.hc&&(b.hc=1))};h.prototype.Tw=function(b,l){b.hc<b.od.length-b.nd+1&&(b.hc+=l,b.hc>b.od.length-b.nd+1&&(b.hc=b.od.length-b.nd+1))};h.prototype.Ww=function(b,l){1<b.ha&&(b.ha-=l,1>b.ha&&(b.ha=1))};h.prototype.Vw=function(b,l){b.ha<b.$p-b.nd&&(b.ha+=l,b.ha>b.$p-b.nd&&(b.ha=b.$p-b.nd))};h.prototype.IM=function(b){for(var l=b.ja.length-1,f=!1;0<=l&&!f;)b.ha<=b.ja[l][0]?--l:f=!0;f&&(b.ha=b.ja[l][0])};
h.prototype.hM=function(b){for(var l=0,f=!1;l<b.ja.length&&!f;)b.ha>=b.ja[l][0]?l+=1:f=!0;f&&(b.ha=b.ja[l][0])};h.prototype.EN=function(b){for(;this.g.counter<b-1;)this.g.ba?(this.g.Be(!1,!1,this.Dc,this.Rb),0===this.g.ba&&2<this.g.i||this.g.ee(),0===this.g.ba&&2>=this.g.i&&(this.g.ba=1,this.g.Be(!1,!1,this.Dc,this.Rb),--this.g.counter)):(this.g.counter+=1,this.g.ee()),this.Uh();this.g.counter<b&&(this.g.ba?(this.g.Be(this.rh,!1,this.Dc,this.Rb),0===this.g.ba&&2<this.g.i||this.g.ee(),0===this.g.ba&&
2>=this.g.i&&(this.g.ba=1,this.g.Be(!1,!1,this.Dc,this.Rb),--this.g.counter)):(this.g.counter+=1,this.g.ee()),this.Uh());this.elapsedTime=this.La[b];this.Mf=this.sb=b};h.prototype.Ys=function(b){var l=this.O+(0<this.g.i?this.g.i:0);!this.Pd&&this.j.tB&&(this.j.tB=!1,0>b&&(b=0),this.elapsedTime=this.La[b],this.Mf=this.sb=b,-1!==this.oj&&b>this.oj+l?this.g.counter=b:this.g.Ys(b,this.rh,this.Dc,this),this.X.kO(this.elapsedTime),this.Ig=!0,b!==this.g.counter&&(this.In=!0,this.Jy=b,this.g.Xs(!1),this.j.notification.notify("Computing previous generations",
15,1E4,15,!0),this.Iy=!0))};h.prototype.Fz=function(b){b.style.width="2em";b.style.height="2em";b.style.padding=0;b.style.fP="none";b.style.outline="none";b.style.boxShadow="none";b.style.background="transparent";b.style.position="fixed";b.style.left="-100px";b.style.top="0px"};h.prototype.Yl=function(b,l,f){var t="textarea";b.SG=document.documentElement.scrollTop||document.body.scrollTop;b.kt=l;b.Pk=0;b.To=l.length;if(f){var x=performance.now()-b.Cu;x<r.IJ&&b.To<r.GJ?f=!1:b.Lv||(t="div")}b.So=document.createElement("div");
b.So.contentEditable=!0;b.Fz(b.So);b.Hl=document.createElement(t);b.Fz(b.Hl);b.Hl.contentEditable=!0;b.So.appendChild(b.Hl);document.body.appendChild(b.So);f?(b.Ly=r.JJ,b.j.notification.notify("Copying...",15,1E4,15,!0),b.fr=!0,b.Au=!1,b.s.locked=!0):(b.Hl.innerHTML=l,b.bE(b,f))};h.prototype.bE=function(b,l){var f=null;if(b.Lv)var t=b.Hl;else l?t=b.So:(t=b.Hl,t.contentEditable="true",t.readOnly="false");t.focus();var x=document.createRange();x.selectNodeContents(t);try{l?document.execCommand("selectAll"):
(f=window.getSelection(),f.removeAllRanges(),f.addRange(x),t.setSelectionRange(0,999999)),document.execCommand("copy")}catch(z){}document.body.removeChild(b.So);b.kt="";b.j.el||b.Ec.canvas.focus();b.j.notification.notify("Copied to external clipboard",15,180,15,!0);l&&(b.fr=!1,b.s.locked=!1);document.documentElement.scrollTop=document.body.scrollTop=b.SG;b.Cu=-1};h.prototype.ej=function(b){var l=ColourManager.zg,f=Object.keys(l),t=b.red,x=b.green;b=b.blue;for(var z="",A=!1,C=null,I=0;I<f.length&&
!A;)C=l[f[I]],C[1]===t&&C[2]===x&&C[3]===b?(A=!0,I=f.length):I+=1;A?z=C[0]:z=t+" "+x+" "+b;return z};h.prototype.np=function(b,l){return b.red===l.red&&b.green===l.green&&b.blue===l.blue};h.prototype.cE=function(b,l){var f="#C "+Keywords.Io+" ",t=String(-(b.g.width/2-b.g.Aa-b.g.bc|0)),x=String(-(b.g.height/2-b.g.va-b.g.Zb|0)),z=b.g.zoom,A=b.g.angle|0,C=b.g.lb[b.g.Df];0!==b.g.counter&&(f+=Keywords.ht+" "+b.g.counter+" ");f+=Keywords.yf+" "+t+" "+Keywords.Af+" "+x+" ";f+=Keywords.Xd+" "+(z===(z|0)?
String(z):String(z.toFixed(2)))+" ";f+=Keywords.Rl+" "+A+" ";f+=Keywords.Cq+"\n";if(l){f+="#C "+Keywords.Io+" ";if(b.Nh){if(2<b.g.i){if(f+=Keywords.Oa+" "+Keywords.hx+" "+b.ej(C.Si),f+=" "+Keywords.Oa+" "+Keywords.gx+" "+b.ej(C.wg),b.np(C.Jc.aa,C.Si)||(f+=" "+Keywords.Oa+" "+Keywords.jx+" "+b.ej(C.Jc.aa)),b.np(C.Jc.Z,C.Jc.aa)||(f+=" "+Keywords.Oa+" "+Keywords.ix+" "+b.ej(C.Jc.Z)),C.hm||(f+=" "+Keywords.Oa+" "+Keywords.wC+" "+b.ej(C.ac.aa)),C.hm||!b.np(C.ac.Z,C.ac.aa))f+=" "+Keywords.Oa+" "+Keywords.vC+
" "+b.ej(C.ac.Z)}else f+=Keywords.Oa+" "+Keywords.hx+" "+b.ej(C.hb),f+=" "+Keywords.Oa+" "+Keywords.gx+" "+b.ej(C.yb.Z),b.np(C.yb.Z,C.yb.aa)||(f+=" "+Keywords.Oa+" "+Keywords.uC+" "+b.ej(C.yb.aa)),b.np(C.mb.aa,C.hb)||(f+=" "+Keywords.Oa+" "+Keywords.jx+" "+b.ej(C.mb.aa)),b.np(C.mb.Z,C.mb.aa)||(f+=" "+Keywords.Oa+" "+Keywords.ix+" "+b.ej(C.mb.Z));f+=" "+Keywords.Cq+"\n#C "+Keywords.Io+" "}f+=Keywords.Jl+" "+C.name+" ";b.O!==b.os&&(f+=Keywords.Bv+" "+b.O+" ");b.dj!==b.mF&&(f+=Keywords.iu+" "+b.dj+" ");
f+=Keywords.Qq+" "+b.I+" ";f+=Keywords.Gp+" "+b.H+" ";f+=Keywords.Cq+"\n"}b.Yl(b,f,!1)};h.prototype.UB=function(b){b.element.innerHTML=b.g.Yq(b,b.g,!0,b.g.i,b.g.i,[],!0);b.element.value=b.element.innerHTML};h.prototype.rO=function(b){var l=performance.now(),f=b.g.Yq(b,b.g,!1,b.g.i,b.g.i,[],!0),t=performance.now();b=b.g.fJ(b,b.g);var x=performance.now(),z=f.indexOf("\n")+2,A=b,C=100*(b.length-z)/(f.length-z);A.length>z+70&&(A=A.substr(0,z+70)+"...");alert("RLE: "+(f.length-z)+" bytes in "+(t-l|0)+
"ms\nURLE: "+(b.length-z)+" bytes in "+(x-t|0)+"ms\nURLE compressed to "+(C|0)+"% of RLE size saving "+(f.length-b.length)+" bytes\n"+A)};h.prototype.NL=function(b,l){if(b.Zj.locked||b.Bw||window.confirm("Open clipboard?"))b.element.innerHTML=l,b.element.value=b.element.innerHTML,d(b.element)};h.prototype.ir=function(b,l){b.Cu=performance.now();v.Va?b.Yl(b,B.Ce[b.fd].pattern,l):b.Yl(b,c(b.element),l)};h.prototype.Bu=function(b,l){b.Cu=performance.now();b.Yl(b,b.g.Yq(b,b.g,l,b.g.i,b.g.i,[]),!1)};h.prototype.Pt=
function(b,l){var f=l.charCode||l.keyCode;if(b.In?KeyProcessor.OM(b,f,l):b.Rb?KeyProcessor.PM(b,f,l):b.fr?KeyProcessor.MM(b,f,l):-1!==b.Ug?KeyProcessor.NM(b,f,l):KeyProcessor.LM(b,f,l))b.j.rg(!0),l.preventDefault()};h.prototype.JO=function(){this.g.Ea||this.g.T?(this.Ya.setPosition(Menu.nb,-85,-130),this.$.setPosition(Menu.nb,-130,-130),this.$.F="random fill [Shift 5]",this.g.Ea?this.Hk.setPosition(Menu.nb,-235,-130):this.Hk.setPosition(Menu.nb,-280,-130)):2>=this.g.i?(this.Ya.setPosition(Menu.nb,
-40,-130),this.$.setPosition(Menu.nb,-85,-130),this.$.F="random fill [Shift 5]",this.Hk.setPosition(Menu.nb,-190,-130)):(this.Ya.setPosition(Menu.nb,-40,-130),this.g.N?(this.$.setPosition(Menu.nb,-85,-130),this.$.F="random multi-state fill [Shift 5]",this.Hk.setPosition(Menu.nb,-190,-130)):(this.$.setPosition(Menu.nb,-130,-130),this.$.F="random multi-state fill [Shift 5]",this.rd.setPosition(Menu.nb,-85,-130),this.Hk.setPosition(Menu.nb,-235,-130)))};h.prototype.LO=function(){if(this.H<r.Em)this.hf.setPosition(Menu.md,
10,50),this.kf.setPosition(Menu.ra,0,50),this.ef.setPosition(Menu.tc,-160,50),this.lf.setPosition(Menu.md,10,100),this.af.setPosition(Menu.ra,0,100),this.cf.setPosition(Menu.tc,-160,100),0<this.X.lo()?(this.pd.setPosition(Menu.md,10,150),this.df.setPosition(Menu.tc,-160,150)):this.pd.setPosition(Menu.ra,0,150);else{var b=0<this.X.lo()?-175:-150;this.hf.setPosition(Menu.ub,0,b);this.kf.setPosition(Menu.ub,0,b+50);this.ef.setPosition(Menu.ub,0,b+100);this.lf.setPosition(Menu.ub,0,b+150);this.af.setPosition(Menu.ub,
0,b+200);this.cf.setPosition(Menu.ub,0,b+250);this.pd.setPosition(Menu.ub,0,b+300);this.df.setPosition(Menu.ub,0,b+350)}};h.prototype.SN=function(){var b="white",l="black",f="rgb(0,240,32)",t="blue",x="grey",z="white";var A=this.ta[r.sr];-1!==A?(b="rgb("+(A>>16)+","+(A>>8&255)+","+(A&255)+")",this.Y.Kw=!0,this.Y.GB=this.g.ie?-16777216|(A&255)<<16|(A>>8&255)<<8|A>>16:A>>16<<24|(A>>8&255)<<16|(A&255)<<8|255):(this.Y.Kw=!0,A=16777215,this.Y.GB=this.g.ie?-16777216|(A&255)<<16|(A>>8&255)<<8|A>>16:A>>16<<
24|(A>>8&255)<<16|(A&255)<<8|255);A=this.ta[r.qr];-1!==A?l="rgb("+(A>>16)+","+(A>>8&255)+","+(A&255)+")":A=0;this.jp=A;A=this.ta[r.tr];-1!==A&&(f="rgb("+(A>>16)+","+(A>>8&255)+","+(A&255)+")");A=this.ta[r.vr];-1!==A&&(t="rgb("+(A>>16)+","+(A>>8&255)+","+(A&255)+")");A=this.ta[r.ur];-1!==A?x="rgb("+(A>>16)+","+(A>>8&255)+","+(A&255)+")":A=8421504;this.Y.ME=this.g.ie?-16777216|(A&255)<<16|(A>>8&255)<<8|A>>16:A>>16<<24|(A>>8&255)<<16|(A&255)<<8|255;A=this.ta[r.rr];-1!==A&&(z="rgb("+(A>>16)+","+(A>>8&
255)+","+(A&255)+")");this.j.at(b,l,f,t,x,z)};h.prototype.Sq=function(){var b,l=0;this.s=this.j.XH(this.Vx,this.qD,this);this.s.Qn=this.Wx;this.s.tD=this.gy;this.Qr=this.s.Fa(Menu.ra,0,52,480,48,"Banner");this.Qr.bb("32px Arial");this.Ff=this.s.Fa(Menu.ra,-160,100,160,32,"Type");this.Xi=this.s.Fa(Menu.ra,-160,140,160,32,"Cells");this.Wi=this.s.Fa(Menu.ra,-160,180,160,32,"Bounding Box");this.Yi=this.s.Fa(Menu.ra,-160,240,160,32,"Direction");this.aj=this.s.Fa(Menu.ra,-160,280,160,32,"Period");this.bj=
this.s.Fa(Menu.ra,-160,320,160,32,"Slope");this.cj=this.s.Fa(Menu.ra,-160,360,160,32,"Speed");this.Zi=this.s.Fa(Menu.ra,-160,400,160,32,"Heat");this.bk=this.s.Fa(Menu.ra,-160,440,160,32,"Volatility");this.$i=this.s.Fa(Menu.ra,-160,460,160,32,"Mod");this.Vi=this.s.Fa(Menu.ra,-160,500,160,32,"Active Cells");this.ak=this.s.Fa(Menu.ra,-160,540,160,32,"Temperature");this.Vr=this.s.Fa(Menu.ra,80,100,320,32,"");this.Rr=this.s.Fa(Menu.ra,80,140,320,32,"");this.Dv=this.s.Fa(Menu.ra,80,180,320,32,"");this.Ev=
this.s.Fa(Menu.ra,80,220,320,32,"");this.Gv=this.s.Fa(Menu.ra,80,260,320,32,"");this.Iv=this.s.Fa(Menu.ra,80,300,320,32,"");this.Tr=this.s.Fa(Menu.ra,80,340,320,32,"");this.Sr=this.s.Fa(Menu.ra,80,380,320,32,"");this.Jz=this.s.Fa(Menu.ra,80,420,320,32,"");this.Fv=this.s.Fa(Menu.ra,80,460,320,32,"");this.Pr=this.s.Fa(Menu.ra,80,500,320,32,"");this.Ur=this.s.Fa(Menu.ra,80,540,320,32,"");this.Hf=this.s.Fa(Menu.md,0,40,16,20,"X");this.Hf.bb(r.ph);this.Hf.lt=Menu.Re;this.If=this.s.Fa(Menu.md,70,40,16,
20,"Y");this.If.bb(r.ph);this.If.lt=Menu.Re;this.Gf=this.s.Fa(Menu.md,140,40,16,20,"A");this.Gf.bb(r.ph);this.Gf.lt=Menu.Re;this.$b=this.s.Fa(Menu.md,16,40,54,20,"");this.$b.bb(r.ph);this.$b.textAlign=Menu.right;this.$b.F="camera X position";this.oc=this.s.Fa(Menu.md,86,40,54,20,"");this.oc.bb(r.ph);this.oc.textAlign=Menu.right;this.oc.F="camera Y position";this.cb=this.s.Fa(Menu.md,156,40,40,20,"");this.cb.bb(r.ph);this.cb.textAlign=Menu.right;this.cb.F="camera angle";this.ck=this.s.Fa(Menu.md,196,
40,4,20,"");this.gi=this.s.Fa(Menu.tc,-280,40,20,20,"E");this.gi.bb(r.ph);this.li=this.s.Fa(Menu.tc,-210,40,20,20,"S");this.li.bb(r.ph);this.yh=this.s.Fa(Menu.tc,-140,40,20,20,"W");this.yh.bb(r.ph);this.ji=this.s.Fa(Menu.tc,-70,40,20,20,"N");this.ji.bb(r.ph);this.ob=this.s.Fa(Menu.tc,-260,40,50,20,"");this.ob.bb(r.ph);this.ob.textAlign=Menu.right;this.ob.F="bounding box east edge velocity";this.Gb=this.s.Fa(Menu.tc,-190,40,50,20,"");this.Gb.bb(r.ph);this.Gb.textAlign=Menu.right;this.Gb.F="bounding box south edge velocity";
this.Pb=this.s.Fa(Menu.tc,-120,40,50,20,"");this.Pb.bb(r.ph);this.Pb.textAlign=Menu.right;this.Pb.F="bounding box west edge velocity";this.Db=this.s.Fa(Menu.tc,-50,40,50,20,"");this.Db.bb(r.ph);this.Db.textAlign=Menu.right;this.Db.F="bounding box north edge velocity";this.Bn=this.s.pb(this.lA,Menu.tc,-210,0,38,20,["START"],[!1],Menu.Va);this.Bn.bb(r.ax);this.Bn.F=["autostart [Alt O]"];this.mn=this.s.pb(this.GA,Menu.tc,-210,20,38,20,["STOP"],[!1],Menu.Va);this.mn.bb(r.ax);this.mn.F=["stop [Alt P]"];
this.vh=this.s.pb(this.LC,Menu.tc,-172,0,38,20,["WAYPT"],[!1],Menu.Va);this.vh.bb(r.ax);this.vh.F=["toggle waypoint mode [W]"];this.Am=this.s.pb(this.vA,Menu.tc,-172,20,38,20,["LOOP"],[!1],Menu.Va);this.Am.bb(r.ax);this.Am.F=["toggle loop mode [Shift P]"];this.Cd=this.s.pb(this.Tk,Menu.md,90,0,120,40,["","",""],r.Gm,Menu.en);this.Cd.icon=[this.Y.icon("draw"),this.Y.icon("select"),this.Y.icon("pan")];this.Cd.F=["draw [F2]","select [F4]","pan [F5]"];this.ka=this.s.pb(this.Xx,Menu.tc,-80,100,80,60,["1",
"2"],0,Menu.en);this.ka.orientation=Menu.vertical;this.ka.F=["",""];this.ka.bb("14px Arial");this.wk=this.s.pb(this.Xo,Menu.tc,-40,0,40,40,["Help"],[!1],Menu.Va);this.wk.F=["toggle help display [H]"];this.wk.bb("16px Arial");this.Bh=this.s.Ga(this.Tx,Menu.tc,-40,50,40,["^"]);this.Bh.F="show help topics [Backspace]";this.zh=this.s.Ga(this.Cv,Menu.tc,-40,100,40,["<"]);this.zh.F="show help sections";this.hf=this.s.Ga(this.Qt,Menu.ra,0,50,150,["Keys"]);this.hf.F="show keyboard shortcuts [K]";this.kf=
this.s.Ga(this.vv,Menu.ra,0,100,150,["Scripts"]);this.kf.F="show script commands [S]";this.ef=this.s.Ga(this.Ot,Menu.ra,0,150,150,["Info"]);this.ef.F="show pattern and engine information [I]";this.lf=this.s.Ga(this.iA,Menu.ra,0,200,150,["Themes"]);this.lf.F="show colour Themes [T]";this.af=this.s.Ga(this.zt,Menu.ra,0,250,150,["Colours"]);this.af.F="show colour names [C]";this.cf=this.s.Ga(this.po,Menu.ra,0,300,150,["Aliases"]);this.cf.F="show rule aliases [A]";this.pd=this.s.Ga(this.St,Menu.ra,0,
350,150,["Memory"]);this.pd.F="show memory usage [Y]";this.df=this.s.Ga(this.xo,Menu.ra,0,350,150,["Annotations"]);this.df.F="show annotations [N]";this.fj=this.s.pb(this.hH,Menu.md,0,0,40,40,["Auto"],[!1],Menu.Va);this.fj.icon=[this.Y.icon("autofit")];this.fj.F=["toggle autofit [Shift F]"];this.fj.bb("16px Arial");this.gl=this.s.Ga(this.It,Menu.md,45,0,40,"");this.gl.icon=this.Y.icon("fit");this.gl.F="fit pattern to display [F]";this.zi=this.s.pb(this.Mq,Menu.tc,-85,0,40,40,["Grid"],[!1],Menu.Va);
this.zi.icon=[this.Y.icon("grid")];this.zi.F=["toggle gridlines [X]"];this.zi.bb("16px Arial");this.jg=this.s.NI();this.jg.locked=!0;this.Wn=this.s.Fa(Menu.Sj,0,-130,42,30,"Gen");this.Wn.textAlign=Menu.left;this.Wn.bb(r.qh);this.Wn.F="generation";this.bg=this.s.Fa(Menu.Sj,42,-130,98,30,"");this.bg.textAlign=Menu.right;this.bg.bb(r.qh);this.bg.F="generation";this.$d=this.s.Fa(Menu.Sj,0,-100,70,30,"Time");this.$d.textAlign=Menu.left;this.$d.bb(r.qh);this.$d.F="elapsed time";this.Sn=this.s.Fa(Menu.Sj,
70,-100,70,30,"");this.Sn.textAlign=Menu.right;this.Sn.bb(r.qh);this.Sn.F="elapsed time";this.Zm=this.s.Fa(Menu.Sj,166,-70,130,30,"");this.Zm.textAlign=Menu.left;this.Zm.bb(r.qh);this.Zm.F="selection size";this.$j=this.s.Fa(Menu.Sj,0,-70,166,30,"");this.$j.textAlign=Menu.left;this.$j.bb(r.qh);this.$j.F="cell state at cursor position";this.Pe=this.s.pb(this.ux,Menu.Sj,0,-40,100,40,[""],[this.rh],Menu.Va);this.Pe.F=["toggle generation statistics [G]\ngeneration "+(this.g.counter+this.xi)];this.xl=this.s.Fa(Menu.Sj,
0,-40,this.I-40,40,"");this.xl.textAlign=Menu.left;this.xl.m=!0;this.qd=this.s.Fa(Menu.nb,-70,-130,70,30,"Alive");this.qd.textAlign=Menu.left;this.qd.bb(r.qh);this.qd.F="current population";this.Rm=this.s.Fa(Menu.nb,-140,-130,70,30,"");this.Rm.textAlign=Menu.right;this.Rm.bb(r.qh);this.Rm.F="alive";this.nk=this.s.Fa(Menu.nb,-70,-100,70,30,"Births");this.nk.textAlign=Menu.left;this.nk.bb(r.qh);this.nk.F="cells born this generation";this.pk=this.s.Fa(Menu.nb,-140,-100,70,30,"");this.pk.textAlign=Menu.right;
this.pk.bb(r.qh);this.pk.F="births";this.Xc=this.s.Fa(Menu.nb,-70,-70,70,30,"Deaths");this.Xc.textAlign=Menu.left;this.Xc.bb(r.qh);this.Xc.F="cells died this generation";this.em=this.s.Fa(Menu.nb,-140,-70,70,30,"");this.em.textAlign=Menu.right;this.em.bb(r.qh);this.em.F="deaths";this.Ym=this.s.Fa(Menu.Sj,0,-160,140,30,this.Ab);this.Ym.bb(r.qh);this.yc=this.s.jk(this.Uk,Menu.ra,0,0,r.Et,40,0,1,.1,"Zoom ","",1);this.yc.F="camera zoom [[ / ]]";this.he=this.s.jk(this.xt,Menu.xD,30,0,40,292,r.Vv,r.aw,
1,"Layers ","",0);this.he.F="number of layers [Q / A]";this.hd=this.s.jk(this.Ml,Menu.mz,-70,0,40,292,1,0,.1,"Depth ","",2);this.hd.F="depth between layers [P / L]";this.Hd=this.s.jk(this.wt,Menu.ra,0,50,390,40,0,359,0,"Angle ","\u00b0",0);this.Hd.F="camera angle [< / >]";this.lg=this.s.Ga(this.Nv,Menu.nb,-40,-90,40,"");this.lg.icon=this.Y.icon("shrink");this.lg.F="shrink to thumbnail [N]";this.Ah=this.s.Fa(Menu.ra,0,100,120,40,"");this.wj=this.s.pb(this.nD,Menu.ub,-100,-75,180,40,["Use Rectangles"],
[this.g.sc],Menu.Va);this.wj.F=["toggle hexagonal cells [/]"];this.br=this.s.pb(this.BH,Menu.ub,100,-75,180,40,["Cell Borders"],[this.g.td],Menu.Va);this.br.F=["toggle cell borders [Alt B]"];this.Ak=this.s.pb(this.HH,Menu.ub,-100,-25,180,40,["Major GridLines"],[this.g.ll],Menu.Va);this.Ak.F=["toggle major gridlines [Shift X]"];this.Fq=this.s.pb(this.MH,Menu.ub,100,-25,180,40,["Starfield"],[this.Li],Menu.Va);this.Fq.F=["toggle starfield display [S]"];this.xm=this.s.pb(this.GH,Menu.ub,-100,25,180,40,
["Annotations"],[this.Ki],Menu.Va);this.xm.F=["toggle annotations [Alt L]"];this.rq=this.s.pb(this.JH,Menu.ub,100,25,180,40,["Rainbow"],[this.g.Qd],Menu.Va);this.rq.F=["toggle rainbow mode [Alt W]"];this.op=this.s.pb(this.zH,Menu.ub,-100,75,180,40,["Auto GridLines"],[this.ni],Menu.Va);this.op.F=["automatically turn on gridlines for Draw and Select and off for Pan [Ctrl G]"];this.yn=this.s.pb(this.yH,Menu.ub,100,75,180,40,["Alt GridLines"],[this.g.Pl],Menu.Va);this.yn.F=["toggle alternating gridlines [Alt D]"];
this.Kp=this.s.pb(this.EH,Menu.ub,-100,-50,180,40,["AutoFit History"],[this.Ci],Menu.Va);this.Kp.F=["toggle AutoFit History [Shift H]"];this.on=this.s.pb(this.KC,Menu.ub,100,-50,180,40,["Throttle"],[this.Ul],Menu.Va);this.on.F=["toggle playback throttling [Alt T]"];this.cn=this.s.pb(this.HC,Menu.ub,-100,0,180,40,["Perf. Warning"],[this.Hj],Menu.Va);this.cn.F=["toggle performance warning display [Shift W]"];this.Qp=this.s.pb(this.Yx,Menu.ub,100,0,180,40,["Kill Gliders"],[this.g.kj],Menu.Va);this.Qp.F=
["toggle kill escaping gliders [Ctrl L]"];this.pp=this.s.pb(this.AH,Menu.ub,0,50,180,40,["AutoHide UI"],[this.Bi],Menu.Va);this.pp.F=["toggle hide UI on playback [Alt U]"];this.gk=this.s.Ga(this.vu,Menu.ub,-100,-125,180,"Change Rule");this.gk.F="change rule [Alt R]";this.fk=this.s.Ga(this.Tt,Menu.ub,100,-125,180,"New Pattern");this.fk.F="new pattern [Alt N]";this.ek=this.s.Ga(this.Rt,Menu.ub,-100,-75,180,"Load Pattern");this.ek.F="load last saved pattern [Ctrl O]";this.hk=this.s.Ga(this.kv,Menu.ub,
100,-75,180,"Save Pattern");this.hk.F="save pattern [Ctrl S]";this.tq=this.s.Ga(this.eu,Menu.ub,-100,-25,180,"Randomize");this.tq.F="randomize pattern and rule [Alt Z]";this.bi=this.s.Ga(this.dE,Menu.ub,100,-25,180,"Copy Rule");this.bi.F="copy rule definition [Ctrl J]";this.Lp=this.s.Ga(this.Hv,Menu.ub,-100,25,180,"Identify");this.Lp.F="identify oscillator or spaceship period [F6]";this.ci=this.s.Ga(this.wE,Menu.ub,100,25,180,"Fast Identify");this.ci.F="quickly identify oscillator or spaceship period [Ctrl F6]";
this.Vk=this.s.Ga(this.fv,Menu.ub,-100,75,180,"Save Image");this.Vk.F="save image in new window [O]";this.ik=this.s.Ga(this.Vu,Menu.ub,100,75,180,"Save Graph");this.ik.F="save population graph image in new window [Shift O]";this.mi=this.s.Ga(this.FE,Menu.ub,100,125,180,"Go To Gen");this.mi.F="go to specified generation [Shift N]";this.Dp=this.s.pb(this.wn,Menu.ub,0,-100,180,40,["Frame Times"],[this.j.Mk],Menu.Va);this.Dp.F=["toggle timing display [T]"];this.nt=this.s.pb(this.sD,Menu.ub,0,-50,180,
40,["Timing Details"],[this.j.bn],Menu.Va);this.nt.F=["toggle timing details [Shift T]"];this.Np=this.s.pb(this.FH,Menu.ub,0,0,180,40,["Display Info Bar"],[this.kd],Menu.Va);this.Np.F=["toggle Information Bar [Shift I]"];this.wq=this.s.pb(this.LH,Menu.ub,0,50,180,40,["Relative Gen"],[this.jl],Menu.Va);this.wq.F=["toggle absolute/relative generation display [Shift G]"];this.Ts=this.s.pb(this.IH,Menu.ub,0,100,180,40,["Render Quality"],[this.g.nh],Menu.Va);this.Ts.F=["toggle anti-aliased cell display [Ctrl Q]"];
this.Rs=this.s.Ga(this.bu,Menu.No,-135,-100,120,"Prev");this.Rs.F="go to previous universe [Page Up]";this.rs=this.s.Ga(this.Ut,Menu.No,135,-100,120,"Next");this.rs.F="go to next universe [Page Down]";this.U=this.s.Ga(this.Ht,Menu.nb,-40,-85,40,"Esc");this.U.F="close errors";this.U.bb("16px Arial");this.Qs=this.s.Ga(this.vG,Menu.xD,10,0,40,"<");this.Qs.F="go to previous POI [Shift J]";this.qs=this.s.Ga(this.GF,Menu.mz,-50,0,40,">");this.qs.F="go to next POI [J]";this.bq=this.s.jk(this.tx,Menu.ra,
0,45,172,40,0,1,this.wd,"Opacity ","%",0);this.bq.F="graph opacity [7 / 9]";this.Wp=this.s.pb(this.iH,Menu.tc,-85,45,40,40,[""],[!1],Menu.Va);this.Wp.icon=[this.Y.icon("lines")];this.Wp.F=["toggle graph lines/points [Shift Y]"];this.di=this.s.Ga(this.Iz,Menu.tc,-40,45,40,"X");this.di.F="close results [Esc]";this.Ui=this.s.Ga(this.Lt,Menu.tc,-40,45,40,"X");this.Ui.F="close graph [Y]";this.Vh=this.s.pb(this.Rk,Menu.md,0,45,40,40,[""],[this.Ek],Menu.Va);this.Vh.icon=[this.Y.icon("pick")];this.Vh.F=["pick state [F3]"];
this.Iq=this.s.pb(this.JC,Menu.md,45,45,40,40,[""],[this.dn],Menu.Va);this.Iq.icon=[this.Y.icon("states")];this.Iq.F=["toggle states display [Ctrl D]"];this.Gs=this.s.pb(this.kH,Menu.md,90,45,40,40,[""],[this.mq],Menu.Va);this.Gs.icon=[this.Y.icon("drawpause")];this.Gs.F=["toggle pause playback while drawing [Ctrl P]"];this.Eq=this.s.pb(this.IC,Menu.md,135,45,40,40,[""],[this.Mo],Menu.Va);this.Eq.icon=[this.Y.icon("smart")];this.Eq.F=["toggle smart drawing [Shift F2]"];this.Oc=this.s.pb(this.Yo,Menu.nb,
-40,-40,40,40,[""],[!1],Menu.Va);this.Oc.icon=[this.Y.icon("menu")];this.Oc.F=["toggle settings menu [M]"];this.Ds=this.s.Ga(this.$t,Menu.ub,0,-125,150,"Pattern");this.Ds.F="pattern settings";this.gj=this.s.Ga(this.$q,Menu.No,0,-100,120,"Back");this.gj.F="back to previous menu [Backspace]";this.qe=this.s.Ga(this.Ao,Menu.No,0,-100,120,"Cancel");this.qe.F="cancel operation [Esc]";this.qe.so=!0;this.Qi=this.s.Ga(this.Sz,Menu.ub,0,-75,150,"Theme");this.Qi.F="choose colour theme";this.mm=this.s.pb(this.mD,
Menu.ub,0,-25,150,40,["Graph"],[this.ad],Menu.Va);this.mm.F=["toggle population graph display [Y]"];this.Xr=this.s.Ga(this.Nt,Menu.ub,0,25,150,"Advanced");this.Xr.F="advanced settings";this.xr=this.s.Ga(this.Tq,Menu.ub,0,75,150,"Display");this.xr.F="display settings";this.ow=this.s.Ga(this.au,Menu.ub,0,125,150,"Playback");this.ow.F="playback settings";var f=-1;for(b=0;b<=this.g.Ue;b+=1){var t=r.mt[b];var x=r.uO[b];x!==f?(l=120,f=x):l+=60;this.G[b]=this.s.pb(null,Menu.ra,140*x-210,l,120,40,[this.kx(t)],
[!1],Menu.Va);this.G[b].F=["select "+this.kx(t)+" theme"];this.G[b].bb("20px Arial")}this.G[0].Jb=this.hB;this.G[1].Jb=this.uB;this.G[2].Jb=this.Fx;this.G[3].Jb=this.Jx;this.G[4].Jb=this.Kx;this.G[5].Jb=this.Ox;this.G[6].Jb=this.Px;this.G[7].Jb=this.Qx;this.G[8].Jb=this.Rx;this.G[9].Jb=this.Sx;this.G[10].Jb=this.FB;this.G[11].Jb=this.WB;this.G[12].Jb=this.rC;this.G[13].Jb=this.bD;this.G[14].Jb=this.wD;this.G[15].Jb=this.AD;this.G[16].Jb=this.Ax;this.G[17].Jb=this.Cx;this.G[18].Jb=this.Dx;this.G[19].Jb=
this.Ex;this.G[20].Jb=this.Ix;this.vm=this.s.Fa(Menu.ra,-210,60,120,40,"Default");this.pm=this.s.Fa(Menu.ra,-70,60,120,40,"Classic");this.wm=this.s.Fa(Menu.ra,70,60,120,40,"Program");this.sm=this.s.Fa(Menu.ra,210,60,120,40,"Basic");this.kc=this.s.jk(this.Sk,Menu.nb,-365,-40,75,40,0,1,0,"","",-1);this.kc.F="steps per second [+ / -]";this.Td=this.s.jk(this.xn,Menu.nb,-285,-40,75,40,r.ho,r.Jg,1,"x","",0);this.Td.F="generations per step [E / D]";this.Yd=this.s.Fa(Menu.nb,-285,-60,75,20,0);this.Yd.bb(r.qh);
this.Yd.m=!0;this.Zj=this.s.Ga(this.Ux,Menu.nb,-455,-40,40,"");this.Zj.icon=this.Y.icon("undo");this.Zj.F="undo [Ctrl Z]";this.Bo=this.s.Ga(this.su,Menu.nb,-410,-40,40,"");this.Bo.icon=this.Y.icon("redo");this.Bo.F="redo [Ctrl Y]";this.up=this.s.pb(this.lD,Menu.tc,-130,0,40,40,["Sync"],[this.Jh],Menu.Va);this.up.F=["sync cut and copy with external clipboard [Alt S]"];this.up.bb("15px Arial");this.Bb=this.s.pb(this.Fd,Menu.nb,-205,-40,160,40,["","","",""],r.Te,Menu.en);this.Bb.icon=[this.Y.icon("tostart"),
this.Y.icon("stepback"),this.Y.icon("stepforward"),this.Y.icon("play")];this.Bb.F=["reset [R]","previous generation [Shift Tab]","next generation [Tab]","play [Enter]"];this.Dd=this.s.pb(this.rD,Menu.tc,-280,45,280,20,"0123456".split(""),this.Ef,Menu.en);this.Dd.F="dead;alive;history;mark 1;mark off;mark 2;kill".split(";");this.Dd.bb("14px Arial");this.B=this.s.pb(this.by,Menu.tc,-280,65,280,20,"      ".split(" "),[!1,!1,!1,!1,!1,!1,!1],Menu.Va);this.B.F="dead;alive;history;mark 1;mark off;mark 2;kill".split(";");
this.B.be=1;this.uh=this.s.Ga(null,Menu.md,175,45,5,"");this.uh.be=0;this.uh.locked=!0;this.uh.border=0;this.Qg=this.s.jk(this.Yk,Menu.md,180,45,100,40,0,1,0,"","",-1);this.Qg.F="select drawing states range";this.kg=this.s.Ga(this.TG,Menu.md,0,45,40,"All");this.kg.icon=this.Y.icon("select");this.kg.F="select all cells [Ctrl A]";this.kg.bb("16px Arial");this.An=this.s.pb(this.kD,Menu.md,45,45,40,40,["Auto"],[this.kk],Menu.Va);this.An.icon=[this.Y.icon("autoshrink")];this.An.F=["toggle auto shrink selection [Alt A]"];
this.An.bb("16px Arial");this.ol=this.s.pb(null,Menu.md,90,45,40,40,[""],[!1],Menu.Va);this.ol.icon=[this.Y.icon("selectlibrary")];this.ol.F=["toggle clipboard library [Shift B]"];this.gr=this.s.pb(this.CH,Menu.ra,0,90,400,40,"0123456789".split(""),this.Ag,Menu.en);this.Du();this.uo=this.s.pb(this.oD,Menu.tc,-160,45,160,40,["AND","CPY","OR","XOR"],r.rH[this.Mm],Menu.en);this.uo.F=["paste mode [Shift M]","paste mode [Shift M]","paste mode [Shift M]","paste mode [Shift M]"];this.uo.bb("16px Arial");
this.ue=this.s.Ga(this.pE,Menu.md,135,45,40,"");this.ue.icon=this.Y.icon("cut");this.ue.F="cut [Ctrl X]";this.te=this.s.Ga(this.Dt,Menu.md,180,45,40,"");this.te.icon=this.Y.icon("copy");this.te.F="copy [Ctrl C]";this.gg=this.s.Ga(this.jG,Menu.md,225,45,40,"");this.gg.icon=this.Y.icon("paste");this.gg.F="paste [Ctrl V]";this.Lf=this.s.Ga(this.Wt,Menu.nb,-175,-175,40,"");this.Lf.icon=this.Y.icon("nudgeleft");this.Lf.F="nudge left [Alt Left]";this.dg=this.s.Ga(this.Yt,Menu.nb,-130,-175,40,"");this.dg.icon=
this.Y.icon("nudgeright");this.dg.F="nudge right [Alt Right]";this.fg=this.s.Ga(this.Zt,Menu.nb,-85,-175,40,"");this.fg.icon=this.Y.icon("nudgeup");this.fg.F="nudge up [Alt Up]";this.Jf=this.s.Ga(this.Vt,Menu.nb,-40,-175,40,"");this.Jf.icon=this.Y.icon("nudgedown");this.Jf.F="nudge down [Alt Down]";this.Je=this.s.Ga(this.AE,Menu.nb,-265,-85,40,"");this.Je.icon=this.Y.icon("flipx");this.Je.F="flip horizontally [Alt X]";this.Ke=this.s.Ga(this.BE,Menu.nb,-220,-85,40,"");this.Ke.icon=this.Y.icon("flipy");
this.Ke.F="flip vertically [Alt Y]";this.ig=this.s.Ga(this.KG,Menu.nb,-175,-85,40,"");this.ig.icon=this.Y.icon("rotatecw");this.ig.F="rotate clockwise [>]";this.hg=this.s.Ga(this.JG,Menu.nb,-130,-85,40,"");this.hg.icon=this.Y.icon("rotateccw");this.hg.F="rotate counter-clockwise [<]";this.se=this.s.Ga(this.ip,Menu.nb,-85,-85,40,"");this.se.icon=this.Y.icon("inside");this.se.F="clear cells in selection [Del]";this.re=this.s.Ga(this.Fo,Menu.nb,-40,-85,40,"");this.re.icon=this.Y.icon("outside");this.re.F=
"clear cells outside selection [Shift Del]";this.Wl=this.s.Ga(this.Ro,Menu.nb,-40,-130,40,"R");this.Wl.icon=this.Y.icon("select");this.Wl.F="clear [R]History cells [Ctrl Del]";this.Wl.bb("16px Arial");this.Ya=this.s.Ga(this.XE,Menu.nb,-85,-130,40,"");this.Ya.icon=this.Y.icon("invertselection");this.Ya.F="invert cells in selection [Ctrl I]";this.$=this.s.Ga(this.Ft,Menu.nb,-130,-130,40,"");this.$.icon=this.Y.icon("random");this.$.F="random fill [Shift 5]";this.rd=this.s.Ga(this.du,Menu.nb,-175,-130,
40,"2");this.rd.icon=this.Y.icon("random");this.rd.F="random 2-state fill [Ctrl Shift 5]";this.Hk=this.s.jk(this.KH,Menu.nb,-275,-130,100,40,1,100,this.Kj,"","%",0);this.Hk.F="random fill density";this.vo=this.s.jk(this.pD,Menu.tc,-265,45,100,40,0,r.JF-1,this.Ng,"","",-1);this.vo.F="paste location [Shift L]";this.vo.bb("16px Arial");this.wr=this.s.Ga(this.gz,Menu.nb,-40,-85,40,"");this.wr.icon=this.Y.icon("uturn");this.wr.F="reverse playback direction [U]";this.ol.gu([this.gr]);this.Oc.gu([this.Ah,
this.he,this.hd,this.Hd,this.gj,this.Qi,this.Ds,this.Xr,this.xr,this.ow,this.on,this.cn,this.lg,this.U,this.pp,this.op,this.yn,this.wj,this.br,this.xm,this.Qp,this.mm,this.Dp,this.nt,this.Np,this.Fq,this.Kp,this.Ak,this.Rs,this.rs]);this.Pe.gu([this.qd,this.Rm,this.nk,this.pk,this.Xc,this.em,this.Wn,this.bg,this.$d,this.Sn,this.Ym]);this.wk.gu([this.ka,this.Bh,this.zh])};h.prototype.yo=function(b){var l=this,f=0,t=0;this.Zc=b;this.Zc.getContext&&(f=this.Zc.width,t=this.Zc.height,f!==this.Bk&&v.ms&&
(f=this.Bk),f<r.Mc&&(f=r.Mc),t<r.Dj&&(t=r.Dj),f&=-8,this.Zc.width!==f&&(this.Zc.width=f),this.Zc.height!==t&&(this.Zc.height=t),this.Ec=this.Zc.getContext("2d",{alpha:!1}),this.Ec.globalAlpha=1,this.Ec.fillStyle="black",this.Ec.imageSmoothingEnabled=!1,this.Ec.kP="low",this.Ec.fillRect(0,0,this.Zc.width,this.Zc.height),this.Ec.textAlign="left",this.Ec.textBaseline="middle",this.I=this.Zc.width,this.H=this.Zc.height,this.g=new Life(this.Ec,this.I,this.H,512,512,this.D),this.g.uL(this.Ec,this.I,this.H),
this.La=this.g.u.P(Float32,r.IF,"View.elapsedTimes"),this.Gl=new Stars(r.jw,this.g.u),this.Rq(this.Ec),this.j=new MenuManager(this.Zc,this.Ec,"24px Arial",this.Y,this,this.Kt),this.j.Mk=!1,this.g.MJ(),this.Sq(),this.kB=this.Bb.Xm,this.vz=this.kc.Xm,this.nC=this.Td.Xm,registerEvent(this.Zc,"wheel",function(x){l.hy(l,x)},!1),this.j.notification.enabled=!0,this.j.HI(this.s),registerEvent(this.Zc,"keydown",function(x){l.Pt(l,x)},!1))};h.prototype.kx=function(b){var l=this.g.lb,f="";b|=0;b<l.length&&(f=
l[b].name);return f};h.prototype.sO=function(b){var l=!1,f=this.g.lb,t=0;for(b=b.toLowerCase();t<f.length-1&&!l;)f[t].name.toLowerCase()===b?l=!0:t+=1;l||(t=-1);return t};h.prototype.QO=function(b){var l=this.X.Dr();l.Vf||(l.x=this.g.width/2-this.g.Aa);l.zf||(l.y=this.g.height/2-this.g.va);l.Wd||(l.zoom=this.g.zoom);l.Fh||(l.angle=this.g.angle);l.Fi||(l.W=this.g.W);l.ui||(l.depth=this.g.ze);l.yi||(l.Cc=this.Eg);l.Oi||(l.step=this.Ha);l.sg||(l.Gc=this.g.Df);this.X.HM(b)};h.prototype.zK=function(b){var l=
b,f=this.Ec,t=b.length;f.font=(18*this.s.xh|0)+"px "+r.iD;var x=f.measureText(b).width;if(500<x){--t;for(x=f.measureText(b.substr(0,t)+"...").width;500<x;)--t,x=f.measureText(b.substr(0,t)+"...").width;l=l.substr(0,t)+"..."}return l};h.prototype.WM=function(b,l){ScriptParser.pM(this,b,l)};h.prototype.qN=function(){this.Wr=this.jv=!1;this.g.ma=1<<r.WJ;this.Mn=this.xC=-1;this.Jw=this.AB=this.sl=this.BA=this.hw=this.Sc=!1;this.g.bc=0;this.g.Zb=0;this.g.xc=1;this.kd=this.ou=this.zc=this.VE=!1;this.al=
this.Mh=this.ec=null;this.pj=r.pj;this.g.sj=this.g.iL;this.g.rj=this.g.hL;this.g.qj=this.g.gL;this.g.tj=this.g.jL;this.g.uj=this.g.kL;this.yg=this.gf=this.tv=!1;this.dc=-1;this.Ze=!1;this.ib=-1;this.rh=this.vf=this.fp=this.oe=this.ap=this.Wc=this.He=this.Rc=!1;this.O=this.os=2<this.g.i?63<=256-this.g.i?63:256-this.g.i:63;this.dj=this.mF;this.ge=!1;this.g.kj=!1;this.g.ts=0};h.prototype.pC=function(){this.Xj?(m(this.element),this.j.hasFocus=!1):(this.I=this.Cm,this.H=this.AC,this.zc?(this.vb=!1,this.dh(!0,
!1,r.hl)):this.g.zoom=this.Jm,this.yc&&(this.yc.current=this.Uk([this.g.zoom,this.g.zoom],!1,this)),this.ha=this.ym,this.vb=!1,this.j.vb=!1,this.s.m=!1,this.j.notification.notify("Shrink with hotkey N",15,100,15,!0),this.resize())};h.prototype.Kt=function(b){b.vb?(b.pC(),b.CC&&!b.eb&&(b.Bb.current=b.Fd(r.Dk,!0,b))):b.Sc&&(b.sl||b.ir(b,!1));b.Au=!1};h.prototype.resize=function(){this.sw&&(B.tw.MB=this.dk-this.I,this.dk=this.I,this.sw=!1);this.Zc.width=this.I;this.Zc.height=this.H;this.Ec.textBaseline=
"middle";this.g.GG(this.I,this.H)};h.prototype.qC=function(){this.Cm=this.I;this.AC=this.H;this.Jm=this.g.zoom;this.ym=this.ha;this.I=this.I/this.Ge|0;this.H=this.H/this.Ge|0;this.g.zoom=this.g.zoom/this.Ge;this.I&=-8;this.s.m=!0;this.j.vb=!0;this.j.Ge=this.Ge;this.vb=!0;this.resize()};h.prototype.gD=function(){var b=this.g.i,l;b>this.fh&&(b=this.fh);this.Dd.lower=[];this.Dd.F=[];this.Dd.Ji(40*b);this.B.lower=[];this.B.F=[];this.B.current=[];this.B.Ji(40*b);this.B.be=1;for(l=0;l<b;l+=1){var f=l+this.Vg;
this.Dd.lower[l]=String(f);var t=this.Fr(f);10>f&&(t+=" [Ctrl "+f+"]");this.Dd.F[l]=t;this.B.lower[l]="";this.B.F[l]=t;this.B.current[l]=!1}f=this.Ef;0<f&&(this.g.Pa||this.g.N||this.g.ga||this.g.T||(f=this.g.i-f));this.Dd.current=f-this.Vg};h.prototype.YG=function(){var b=this.g.i,l=this.s.Ie;this.Ef=1;this.Vg=0;this.Iq.current=[this.JC([!0],!0,this)];this.fh=7+((this.I/l-r.Mc)/(40*l)|0);this.fh>b&&(this.fh=b);this.g.Ea?(this.Dd.lower="0123456".split(""),this.Dd.Ji(280),this.Dd.F="dead [Ctrl 0];alive [Ctrl 1];history [Ctrl 2];mark 1 [Ctrl 3];mark off [Ctrl 4];mark 2 [Ctrl 5];kill [Ctrl 6]".split(";"),
this.Dd.current=this.Ef,this.B.lower="      ".split(" "),this.B.Ji(280),this.B.F="dead [Ctrl 0];alive [Ctrl 1];history [Ctrl 2];mark 1 [Ctrl 3];mark off [Ctrl 4];mark 2 [Ctrl 5];kill [Ctrl 6]".split(";"),this.B.be=1,this.B.current=[!1,!1,!1,!1,!1,!1,!1]):2>=b?(this.Dd.lower=["0","1"],this.Dd.Ji(80),this.Dd.F=["dead [Ctrl 0]","alive [Ctrl 1]"],this.Dd.current=this.Ef,this.B.lower=["",""],this.B.Ji(80),this.B.F=["dead [Ctrl 0]","alive [Ctrl 1]"],this.B.be=1,this.B.current=[!1,!1]):(this.Ef=this.g.Pa||
this.g.N||this.g.ga||this.g.T?1:b-1,this.gD(),this.Dd.Ji(40*this.fh),this.B.Ji(40*this.fh),this.Qg.current=this.Yk([0,0],!0,this));this.Dd.setPosition(Menu.tc,-this.Dd.Vs,45);this.B.setPosition(Menu.tc,-this.B.Vs,65)};h.prototype.ON=function(b){var l=this.g.Ue;-1===b&&(this.Nh?b=l:b=this.g.Ea?10:2<this.g.i&&!this.g.N&&!this.g.ga?11:this.g.la?17:this.g.N||this.g.ga?18:1);this.Ju&&b!==l&&this.g.lb[b].nm!==this.g.pf&&(this.g.lb[l].set(this.g.lb[b]),b=l,this.g.lb[l].nm=this.g.pf,this.Nh=!0);this.an(b,
1,this)};h.prototype.QG=function(){var b=window.innerWidth,l=window.innerHeight,f=this.I,t=this.H+80;f*=this.devicePixelRatio;t*=this.devicePixelRatio;var x=this.devicePixelRatio;this.xf=1;if(f>b||t>l)if(x=f/b,t/l>x&&(x=t/l),f/=x,t=this.H*this.devicePixelRatio/x,x=f/this.I,t/this.H<x&&(x=t/this.H),f<r.Mc||t<r.Dj)x=f/r.Mc,t/r.Dj<x&&(x=t/r.Dj),f/=x,t/=x,this.xf=x,x=1;this.I=f&-8;this.H=t|0;this.j.xf=this.xf;B.tw.xf=this.xf;this.s.sN(x);this.Y.WN(x);this.Lr=18*x|0;this.Hp=this.Lr+"px "+r.zE;this.qm=
this.Lr+"px "+r.iD;this.I!==this.dk&&(this.sw=!0)};h.prototype.aE=function(){this.il=!1;this.xi=0;this.mh=!1;this.Um=this.Tm=0;this.Es=this.kq=this.ul=this.Vc=this.Ab="";this.Fs=this.Qm=this.jb=this.gb=0;this.Ej="(none)";this.g.Pa=!1;this.g.la=!1;this.g.N=!1;this.g.Ea=!1;this.g.T=!1;this.g.S=!1;this.g.Gg=this.D.Jp;this.g.R=!1;this.g.Ud=this.D.sn;this.g.ye=!1;this.g.Vd=-1;this.g.mw=!1;this.g.i=-1;this.g.ya=-1;this.Ba=this.ud=this.g.sa=!1;this.g.ga=!1;this.g.Jk=null;this.g.Kk=null;this.g.ke=null;this.g.Rd=
null;this.g.Pg=[];this.g.Sd=null;this.g.Og=0;this.g.Oj=0;this.g.yl=0};h.prototype.Yh=function(b,l){b=this.D.create("",b,this.g.u,this.tp,this.Bt,[l],this);this.bF=this.D.C;this.D.Uv?(b=this.D.create("","x=1,y=1,rule=Life\n!",this.g.u,this.tp,this.tp,[l],this),this.tp(b,[l],this),this.j.notification.clear(!1,!0),this.j.notification.notify("Loading rule...",15,1E4,15,!0)):this.tp(b,[l],this)};h.prototype.Bt=function(b,l,f){f.D.C=f.bF;f.D.Ba=!0;f.tp(null,l,f)};h.prototype.tp=function(b,l,f){var t=!1;
var x=l[0];f.Lv=-1!==window.navigator.userAgent.indexOf("Edge")?!0:!1;f.g.nh=!1;f.g.uk=null;f.Tn=!1;f.oj=-1;f.on.current=f.KC([!0],!0,f);f.Lk=!1;f.Dl=!1;f.Cl=!1;f.Fl=!1;f.El=!1;f.g.Df=-1;f.j.FG();f.Jh=!0;f.kk=!1;f.tb=!1;f.vk=!1;f.Nf=[];for(l=0;10>l;l+=1)f.Nf[l]=null;f.Ag=0;f.cr=!1;f.zb=null;f.ld=!1;f.tf=0;f.sf=0;f.zd=!1;f.Dh=!1;f.uo.current=f.oD(2,!0,f);f.nq=!1;f.Ik=[];f.uq=[];f.od=[];f.Mj=[];f.ag=[];f.Kn=[];f.gd=0;f.vc=0;f.mo=0;f.g.Sg=!1;f.Mg=[];f.$c=r.Bs;f.hq=0;f.zs=-1;f.gq=[];f.As=0;f.xj=!1;f.JA=
0;f.KA=0;f.Ck=0;f.Mv=!1;f.Lm=r.lk;f.Om=-r.lk;f.Km=r.lk;f.Pm=-r.lk;f.j.notification.clear(!0,!0);f.j.notification.clear(!1,!0);f.g.bd=!1;f.g.cd=!1;f.vD=!1;if(b){f.il=f.D.il;f.xi=f.D.uz;f.mh=f.D.mh;f.Tm=f.D.uw;f.Um=f.D.vw;f.Ok=f.D.Ok;f.Nk=f.D.Nk;f.gb=b.width;f.jb=b.height;f.kq=b.name;f.Es=b.MF;f.Ej=b.Ej;""===f.Ej&&(f.Ej="(none)");f.Qm=b.vd;f.Fs=b.vs;f.Ab=b.J;f.Vc=b.Zf;f.ul=b.qp;f.g.Ac=b.Ac;f.g.vg=b.vg;f.Ba=f.D.Ba;f.g.Ea=b.wc;f.g.T=b.T;f.Wl.F="clear [R]History cells [Ctrl Del]";f.g.T&&(f.Wl.F="clear [R]Super cells [Ctrl Del]");
f.g.i=b.i;!f.Ba&&2<b.vd&&(f.g.i=b.vd);f.g.Sd=null;f.g.Pg=null;f.Zh=[];-1!==b.Fe?(f.g.pg=b.pg,f.g.Fe=b.Fe,f.g.i=b.Fe,f.g.Xh=b.Xh,f.g.Al=b.Al,f.g.Jk=b.Jk,f.g.Kk=b.Kk,f.g.ke=b.ke,f.g.Rd=b.Rd,f.Zh=b.yq,f.g.ga=!0):f.g.ga=!1;null!==b.Sd&&(f.g.Pg=b.Pg,f.g.Sd=b.Sd,f.g.Og=b.Og,f.g.Oj=b.Oj,f.g.yl=b.yl,f.g.i=b.og,f.g.ke=b.ke,f.g.Rd=b.Rd,f.Zh=b.yq,f.g.ga=!0);f.g.KM(b.Rd);if(f.g.sa=b.sa)f.g.Ja.Qb=b.Le,f.g.Ja.ex=b.Rf,f.g.Ja.Go=b.i,f.g.Ja.$N(b.Mb,b.mg,b.xe,b.si,b.R,b.$e,b.wh),f.D.qc?(f.g.Ja.ku=b.Vq,f.g.Ja.lu=b.Wq,
f.g.Ja.qc=!0):f.g.Ja.qc=!1,f.vD=b.Nd;f.g.Pa=b.Pa;f.g.la=b.la;f.g.Pl=f.g.la;f.g.N=b.N;f.g.sc=!1;f.g.S=b.S;f.g.mw=b.S;f.g.Gg=b.Gg;f.g.R=b.R;f.g.Ud=b.Ud;f.g.ye=b.ye;f.g.Vd=b.Vd;f.g.ya=b.lc;f.g.Ca=b.Qe;f.g.xa=b.Fg;f.g.Dn=b.Gr;f.g.En=b.Fp;f.g.tu=b.zz;f.g.xy=b.sv;f.wo=new Uint32Array(f.Qm);for(l=0;l<f.Qm;l+=1)f.wo[l]=f.D.Po[l]}else f.aE();f.g.cO();f.Ki=!0;f.ad=!1;f.lh=!0;f.wd=r.sE;f.Dc=b?!1:!0;f.Ep=!0;f.jl=!1;f.C=f.D.C;f.g.ba=1;f.g.Ws=r.rE;f.Nb=0;f.Ob=0;f.Zg=-1;f.sh=-1;f.In=!1;f.fr=!1;f.s.locked=!1;f.Ci=
!1;f.Mi=!1;f.g.GK();f.g.HK();f.g.Ea&&f.g.gE();f.g.Ea&&f.g.mE();f.Ti="";f.Li=!1;ColourManager.qf();f.g.dr(!1);f.g.Md=r.rv;f.g.cg=r.qv;f.g.pf=10;f.g.YJ=10;f.g.ll=!0;f.oE=-1;f.nE=-1;f.Eg=60;f.Ha=1;f.g.W=1;f.g.ze=.1;f.g.angle=0;f.g.zoom=6;f.g.mN(f.XJ,f.VJ);f.g.Aa=f.g.width/2;f.g.va=f.g.height/2;f.ez=!1;f.cz=!1;f.dz=!1;f.Oe=0;f.nj=0;f.Ve=-1;f.oh=-1;f.Pf=-1;f.Ii=-1;f.ta[r.ah]=-1;f.ta[r.mj]=-1;f.ta[r.Ku]=-1;f.ta[r.ti]=-1;f.ta[r.kr]=-1;f.ta[r.lr]=-1;f.ta[r.mr]=-1;f.ta[r.Tu]=-1;f.ta[r.Uu]=-1;f.ta[r.Lu]=-1;
f.ta[r.Qu]=-1;f.ta[r.Pu]=-1;f.ta[r.Ou]=-1;f.ta[r.Ru]=-1;f.ta[r.Su]=-1;f.ta[r.Nu]=-1;f.ta[r.nr]=-1;f.ta[r.Mu]=-1;f.ta[r.Vy]=-1;f.ta[r.sr]=-1;f.ta[r.qr]=-1;f.ta[r.tr]=-1;f.ta[r.vr]=-1;f.ta[r.ur]=-1;f.ta[r.rr]=-1;f.ta[r.jr]=-1;f.ta[r.pr]=-1;f.ta[r.Uy]=-1;f.ta[r.Xy]=-1;f.ta[r.Wy]=-1;f.ta[r.Ty]=-1;f.Ry=r.aF;f.Qy=r.nu;f.Sy=r.qG;f.vb&&f.pC();f.Kl=!1;f.j.vb=!1;f.Ge=r.tE;f.Xj=!1;f.j.Xj=!1;f.lx=!1;f.ud=b?!1:!0;f.Ta=!1;f.g.ic=!1;f.g.td=!1;f.Bb.m=!1;f.Cd.m=!1;f.Pe.m=!1;f.kc.m=!1;f.Td.m=!1;f.Oc.m=!1;f.he.m=!1;
f.hd.m=!1;f.Qi.m=!1;f.on.m=!1;f.cn.m=!1;f.s.m=!1;f.jg.m=!1;f.Zj.m=!1;f.Bo.m=!1;f.Ds.m=!1;f.Xr.m=!1;f.ow.m=!1;f.xr.m=!1;f.gj.m=!1;f.Oc.current=[!1];f.Pe.current=[!1];f.ha=0;f.hc=0;f.ol.current=[!1];f.An.current=f.kD([f.kk],!0,f);f.up.current=f.lD([f.Jh],!0,f);f.fx=!1;f.Cd.current=f.Tk(r.Gm,!0,f);f.Hk.current=f.KH([50,50],!0,f);f.vo.current=f.pD([r.iq,r.iq],!0,f);f.wk.current=f.Xo([f.ha],!0,f);f.$l=[96,96,96];f.g.Sl=f.g.ie?4284506208:1616929023;f.am=[128,128,128];f.g.Tl=f.g.ie?4286611584:2155905279;
f.dm=[0,255,0];f.g.ZB="rgb(0,255,0)";f.cm=[255,0,0];f.g.HA="rgb(255,0,0)";f.Zl=[255,255,0];f.g.hu="rgb(255,255,0)";f.X.reset();f.Wc=!1;f.X.oJ();f.Bi=!1;f.Pd=!1;f.Hj=!0;f.Nh=!1;f.Ju=!1;f.g.Cg=!1;f.Iw=r.sq;f.Cw=r.sq;f.Aw=50;f.Us=!1;f.Ew=!1;f.Hw=!1;f.vl=-1;f.wl=-1;f.Wm=-1;f.Wh=[];f.Jj=[];f.Qw=!1;f.CC=!1;if(b){f.g.Ea?(f.zg=[0,65280,128,14221272,16711680,16776960,6316128],f.hr="[R]History"):(f.zg=ColourManager.Zy,f.hr="(default)");f.qN();f.Gw=Date.now().toString();!f.Bd&&v.fullScreen&&(f.I=document.body.clientWidth&
-8,f.H=window.innerHeight-128,f.I<r.Mc&&(f.I=r.Mc),f.H<r.Dj&&(f.H=r.Dj),t=!0);f.g.Qd=!1;f.Ug=-1;b.title&&(l=b.vd,f.g.Ea&&(l=7),f.g.N&&(l=16),f.g.T&&(l=26),f.WM(b.title,l),f.od.length&&(f.hc=1),f.vb&&x&&(f.vb=!1),-1<f.Ve&&(f.Ve&=-8,f.Ve!==f.I&&(f.I=f.Ve,t=!0)),-1<f.oh&&f.oh!==f.H&&(f.H=f.oh,t=!0),f.Bd&&(-1<f.Pf?(f.Pf&=-8,f.Pf!==f.I&&(f.I=f.Pf,t=!0)):f.I<r.Mc&&(f.I=r.Mc),-1<f.Ii&&f.Ii!==f.H&&(f.H=f.Ii,t=!0)));f.g.Qd&&(2<f.g.i||f.g.sa||f.g.N||f.g.Ea||f.g.ga||f.g.la)&&(f.g.Qd=!1);if(!f.Ba||f.g.ga||f.g.T)f.O=
0;f.Wb.qf(f.Gw);f.Bd&&(f.eq=f.I,f.cq=f.H,f.QG());b.tg&&0===f.Mg.length&&(f.Ba=!1);f.YG();f.SN();f.LO();f.JO();f.g.RM();f.g.O=f.O;f.g.dj=f.dj;f.Xj&&!f.ad&&(f.Dc=!0,f.ad=!1);f.g.TI(!f.Dc);if(b.width>f.g.ma||b.height>f.g.ma)f.C="Pattern too big (maximum "+f.g.ma+"x"+f.g.ma+")",f.tg=!0,f.Ba=!1,f.aE();if(-1!==b.lc){var z=6;b.sa&&(z=6*b.mg);b.Nd&&(z=6*b.Ee);if(b.Qe>=f.g.ma-z||b.Fg>=f.g.ma-z)f.C="Bounded grid is too big",f.Ba=!1,f.g.ya=-1}f.g.DO(f);f.Mv&&(f.g.Ny(),f.JM());f.uD=!1;if(-1!==f.g.ya){x=f.g.Ca;
var A=f.g.xa;0===x&&(x=b.width);0===A&&(A=b.height)}else x=b.width,A=b.height,0<f.Mg.length&&(x=f.vJ(x),A=f.uJ(A));z=r.Jg;f.g.sa&&(z=4*f.g.Ja.hi+1,-1!==f.g.ya&&(z+=2*f.g.Ja.hi),f.g.Ja.type===f.D.wf&&(z=-1!==f.g.ya?z+f.g.xa/2:z+(f.g.M.A-f.g.M.o+1)/2),z<r.Jg&&(z=r.Jg));l=f.g.ma/2-z;f.mh&&(f.Tm<-l?f.Tm=-l:f.Tm>=l&&(f.Tm=l-1),f.Um<-l?f.Um=-l:f.Um>=l&&(f.Um=l-1),f.Nb+=f.Tm,f.Ob+=f.Um);f.Nb<-l?f.Nb=-l:f.Nb>=l&&(f.Nb=l-1);f.Ob<-l?f.Ob=-l:f.Ob>=l&&(f.Ob=l-1);for(;f.g.width<f.g.ma&&(x+z+2*Math.abs(f.Nb)>=
f.g.width||A+z+2*Math.abs(f.Ob)>=f.g.height);)f.g.Jr(),f.Oe+=f.g.width>>2,f.nj+=f.g.height>>2,f.We+=f.g.width>>2,f.Qj+=f.g.height>>2,f.g.S&&(f.Oe-=f.g.height>>3,f.We-=f.g.height>>3);b.sa&&f.g.Ja.resize(f.g.width,f.g.height);f.wJ(b.width,b.height);f.g.Ea&&f.D.Po[6]&&f.g.GM(b,f.Tc,f.Uc);f.Mh?f.j.notification.Yg="rgb("+f.Mh[0]+","+f.Mh[1]+","+f.Mh[2]+")":f.j.notification.Yg=f.j.notification.wG;if(null===f.ec)for(l=0;l<f.zg.length;l+=1)f.Ln[l]=f.D.Po[l]?r.bH:r.lC;f.g.cc?(f.g.NJ(f.zg,f.ec),f.g.Cg=!0):
f.g.Cg=!1;b.tg||f.EJ(b);f.Ym.Xa=""!==f.Vc?f.Vc:f.Ab;f.Ym.F=f.Ab;""!==f.Vc&&(f.Ym.F+=" alias "+f.Vc)}f.Lj=!1;f.fA="none";f.Eb="none";f.Up="none";f.hs="none";f.Vp="none";f.gs="none";f.Pv="none";f.Rp="none";f.js="none";f.Sp="none";f.ks="none";f.Tp="none";f.Rb=!1;f.Lp.current=[f.Rb];f.g.Kv(f.Rb);f.cn.current=f.HC([f.Hj],!0,f);f.g.Ny();f.ON(f.xC);f.g.ec=f.ec;f.g.Pa||!f.Ba&&2<f.g.i?f.g.fE(f.zg,f.ec):f.g.eE();f.g.Kd(1);f.g.NN();f.Eq.current=f.IC([f.Mo],!0,f);f.bq.current=f.tx([f.wd,f.wd],!1,f);f.Wp.current=
[f.lh];f.fj.current=[f.zc];f.zi.current=[f.g.ic];f.rq.current=[f.g.Qd];f.g.counter=0;f.g.$f=0;f.g.zj=0;f.sb=0;f.Mf=0;f.elapsedTime=0;f.Cd.Hg=[!1,!1,!1];if(f.ud)b&&(f.g.LB(f.Mi),f.ec&&(f.zg=f.ec)),f.sJ=f.zg.length,f.g.fE(f.zg,f.ec),f.g.Tg.reset(),f.Dc=!0,f.ad=!1;else{f.g.LB(f.Mi);f.g.Pw();2>=f.g.i&&f.g.Ow(f.g.fb);f.g.Ea&&f.D.Po[2]&&f.g.HJ(b,f.Tc,f.Uc);f.Uh();0<f.Mg.length&&(f.g.LB(f.Mi),f.g.Pw(),2>=f.g.i&&f.g.Ow(f.g.fb));f.g.oN(f.g.fb,f.g.ca);x=0;for(l=1;l<f.wo.length;l+=1)x+=f.wo[l];b&&0===x&&0===
f.g.oa&&!f.xj?(f.Tn=!0,f.g.Pa||(b.tg?f.j.notification.notify("Pattern too big!",15,r.hv,15,!1):f.j.notification.notify("New pattern",15,300,15,!1))):f.Tn=!1;-1!==f.g.ya&&f.g.$B();f.g.IN(f.Pd);f.g.Xs(f.Pd)}f.$j.width=9999<f.g.ma?166:140;f.Zm.Lo(f.$j.Vs);f.mm.locked=f.Dc;f.mm.current=[f.ad];f.cn.current=[f.Hj];f.on.current=[f.Ul];f.Qp.current=[f.g.kj];f.pp.current=[f.Bi];f.op.current=[f.ni];f.yn.current=[f.g.Pl];f.yn.locked=!f.g.la;f.g.R?(f.wj.current=[f.g.sc],f.wj.F=["toggle triangular cells [/]"]):
(f.wj.F=["toggle hexagonal cells [/]"],f.wj.current=f.g.S?[f.g.sc]:[!0]);f.wr.m=(f.g.la||f.g.N)&&null!==f.g.Kc?!1:!0;0===f.X.lo()?(f.xm.locked=!0,f.Ki=!1):(f.xm.locked=!1,f.Ki=!0);f.xm.current=[f.Ki];f.Np.current=[f.kd];f.wq.current=[f.jl];f.Ts.current=[f.g.nh];f.Fq.current=[f.Li];f.Kp.current=[f.Ci];f.X.uc.length?(f.Qs.m=!1,f.qs.m=!1):(f.Qs.m=!0,f.qs.m=!0);0===f.g.pf?(f.Ak.current=[!1],f.Ak.locked=!0):(f.Ak.current=[f.g.ll],f.Ak.locked=!1);f.Dc||f.g.EG();l=f.g.zoom;x=f.g.Aa;A=f.g.va;z=f.vb;f.vb=
!1;f.dh(!0,!1,r.hl);f.vb=z;f.ez?f.g.zoom=l:!f.zc&&f.g.zoom>r.nF&&(f.g.zoom=r.nF);f.cz&&(f.g.Aa=x);f.dz&&(f.g.va=A);f.Wc&&f.QO(f.od);f.vb&&f.lx&&(f.g.zoom=f.EC);f.uE=f.g.zoom;f.yc.current=f.Uk([f.g.zoom,f.g.zoom],!1,f);f.Oe=f.g.Aa;f.nj=f.g.va;f.yp=f.g.angle;f.Hd.current=[f.yp,f.yp];f.Xu=f.g.Df;f.an(f.Xu,f.g.Xl,f);f.bz=f.Eg;l=Math.sqrt((f.bz-r.hh)/(r.Bm-r.hh));f.kc.current=f.Sk([l,l],!0,f);f.Wu=f.Ha;f.Td.current=f.xn([f.Wu,f.Wu],!0,f);f.zp=f.g.W;f.he.current=[f.zp,f.zp];f.az=f.g.ze;l=Math.sqrt(f.az);
f.hd.current=f.Ml([l,l],!0,f);f.g.ba=1;f.gf&&!f.yg?(f.eb=!0,f.Bb.current=r.Dk):(f.eb=!1,f.Bb.current=r.Te);f.Xw(f.eb);f.H<r.Em?(f.Oc.m=!0,f.Bb.Lo(f.kB+45),f.kc.Lo(f.vz+45),f.Td.Lo(f.nC+45)):(f.Bb.Lo(f.kB),f.kc.Lo(f.vz),f.Td.Lo(f.nC));f.I>r.Mc&&!f.Bd?(l=f.I-r.Mc+r.Et,l>r.zx&&(l=r.zx),f.yc.Ji(l)):f.yc.Ji(r.Et);if(t||f.vb)f.vb?f.qC():f.resize();b||(f.D.tg?f.j.notification.notify("Pattern too big!",15,r.hv,15,!1):f.j.notification.notify("Invalid pattern!",15,r.hv,15,!1));f.od.length?f.ha=0:f.hc=0;f.Ba||
(f.Ta=!0,f.g.Cg=!1,f.g.Pa=!0,f.g.Ea=!1,f.g.T=!1);if(f.Ta||f.g.Pa)f.Cd.Hg[r.Fm]=!0;f.Ta?(f.Bb.m=!0,f.Pe.m=!0,f.jg.m=!0,f.kc.m=!0,f.Td.m=!0,f.Zj.m=!0,f.Bo.m=!0,f.ud&&(f.he.m=!0,f.hd.m=!0,f.Qi.m=!0,f.g.W=1),f.xl.m=!1,""===f.C?(f.xl.Xa=Keywords.yt,f.xl.mf=r.Ip):(f.xl.Xa=f.C,f.xl.mf=f.pj)):f.xl.m=!0;540>f.H?f.gj.setPosition(Menu.No,0,-85):f.gj.setPosition(Menu.No,0,-100);f.tH();f.Ig=!1;f.ls="";f.PG(f);f.lv()?(f.nk.Xa="Density",f.nk.F="cell density"):(f.nk.Xa="Births",f.nk.F="cells born this generation");
f.j.Uf=!0;f.j.rg(!0);f.Bd&&f.mx&&(""===f.Ti?f.mx.nodeValue="LifeViewer":f.mx.nodeValue=f.zK(f.Ti));v.Va?(b=f.kq,""===b&&(b="Universe "+(f.fd+1)),f.j.notification.notify(b,15,120,15,!0),f.Rs.m=!1,f.rs.m=!1):(f.Rs.m=!0,f.rs.m=!0);f.qb("");f.gw&&e(f);(8===f.g.zoom||.125===f.g.zoom)&&0<f.no&&0===(f.no&3)&&1===(f.Mj.length&5)?(f.zr=!0,f.g.UE()):f.zr=!1;f.g.Mz();(f.g.la||f.g.N)&&null!==f.g.Kc&&f.Qw&&(f.g.cd=!0,f.Xw(f.eb));f.Jw&&""===f.C&&(f.Bw||(f.Bw=!0,f.Dw(f,!0)),f.Bw=!1);-1!==f.Ug&&(f.j.notification.notify("Going to generation "+
f.Ug,15,1E4,15,!1),f.j.notification.clear(!0,!1))};registerEvent(window,"load",y,!1);window.onresize=function(){if(v.fullScreen){var b=B.Gd[0][1];b.I=document.body.clientWidth&-8;b.H=window.innerHeight-128;b.I<r.Mc&&(b.I=r.Mc);b.H<r.uG&&(b.H=r.uG);if(b.I>r.Mc&&!b.Bd){var l=b.I-r.Mc+r.Et;l>r.zx&&(l=r.zx);b.yc.Ji(l)}else b.yc.Ji(r.Et);l=b.Ef;b.YG();b.Ef=l;b.gD();b.resize();b.j.rg(!0)}};window.DocConfig=v;window.Controller=B;window.ViewConstants=r;window.startAllViewers=y;window.updateViewer=m;window.updateMe=
d;window.hideViewer=k;window.lifeViewerBuild=r.sx}(),function(){var w={Bl:0,Jn:"",My:!1,mO:function(h){h=LifeConstants.fw[h];10<h.length&&(h=h.replace(/marked/,"mkd"),h=h.replace(/trail/,"trl"),10<h.length&&(h="1"<=h.substr(-1)&&"9">=h.substr(-1)?h.substr(0,9)+h.substr(-1):h.substr(0,10)));return h},cN:function(h,g,p,k,a,c,d,e,m,n){var q=e,u=h.s.Ie,y=this.Bl*u,v=this.Bl*h.s.Ie,r=!1,B=h.da;c&&(c.fillStyle===ViewConstants.Mr&&(r=!0),B>=n&&B<=n+h.nd&&(c.font=h.Hp,r||(c.fillStyle=1<(h.ha|0)?ViewConstants.Ip:
ViewConstants.ov),c.fillText(g,d+y,e+v),r||(c.fillStyle=ViewConstants.Ip),c.fillText(p,d+y+c.measureText(g).width,e+v),r||(c.fillStyle=(h.ha|0)<h.$p-h.nd?ViewConstants.Ip:ViewConstants.ov),c.fillText(k,d+y+c.measureText(g+p).width,e+v),r||(c.fillStyle=ViewConstants.Ip),c.font=h.qm,c.fillText(a,d+y+h.fa[0]*u,e+v),q+=m));h.da+=1;return q},sy:function(h){h/=1048576;return 10>h?String(h.toFixed(1)):String(h.toFixed(0))},ab:function(h,g,p,k,a,c,d,e,m){var n=h.da;a&&(e-=6,n>=m&&n<=m+h.nd&&(h=a.fillStyle,
h!==ViewConstants.Mr&&(a.fillStyle="rgb("+g+","+p+","+k+")"),a.fillRect(c,d-(e>>1)-1,e,e),a.fillStyle=h))},measureText:function(h,g,p,k){var a=k?h.xv:h.wv;a[h.da]?g=a[h.da]:(g.font=0===k?h.Hp:h.qm,g=g.measureText(p).width,a[h.da]=g);return g},h:function(h,g,p,k,a,c,d,e){var m=c,n=String(p).indexOf("\t"),q=0,u=h.s.Ie,y=this.Bl*u,v=this.Bl*h.s.xh,r=h.da>=e&&h.da<=e+h.nd;w.My&&0===w.Bl&&(""===g?w.Jn+=p+"\n":"H / Esc"!==g&&(w.Jn+=g+"\t"+p+"\n"));if(g.length){r&&(k.font=h.Hp,k.fillText(g,a+y,c+v));g=this.measureText(h,
k,g,0);g>h.fa[q]*u&&""!==p&&(r&&(c+=d,m+=d),h.da+=1,r=h.da>=e&&h.da<=e+h.nd);r&&(k.font=h.qm);for(;-1!==n;)r&&k.fillText(p.substr(0,n),a+y+h.fa[q]*u,c+v),q+=1,p=p.substr(n+1),n=p.indexOf("\t");n=!1;if(h.Wg&&(g=this.measureText(h,k,p,1),a+h.fa[q]*u+g>k.canvas.width)){var B=p.toLowerCase();g=B.indexOf("|");-1===g&&("r"===B[0]?g=B.indexOf("b"):"m"!==B[0]&&(g=B.indexOf("s")),-1===g&&(g=B.indexOf("/"),-1!==g&&"m"!==B[0]?g+=1:(g=p.length>>1,B=B.indexOf(",",g),-1!==B&&(g=B+1))));-1!==g&&(r&&(k.fillText(p.substr(0,
g),a+y+h.fa[q]*u,c+v),c+=d,m+=d),h.da+=1,(r=h.da>=e&&h.da<=e+h.nd)&&k.fillText("  "+p.substr(g),a+y+h.fa[q]*u,c+v),n=!0)}n||r&&k.fillText(p,a+y+h.fa[q]*u,c+v)}else k.font=h.qm,r&&k.fillText(p,a+y,c+v);r&&(m+=d);h.da+=1;return m},nc:function(h,g,p){for(var k=ColourManager.zg,a=Object.keys(k),c="    "+h+"\t"+g+"\t"+p,d=!1,e,m=0;m<a.length&&!d;)e=k[a[m]],e[1]===h&&e[2]===g&&e[3]===p?(c+="\t"+e[0],d=!0,m=a.length):m+=1;return c},ng:function(h){return this.nc(h.red,h.green,h.blue)},ZI:function(h){var g=
0,p=0;h.g.ba&&(g=h.g.M.v-h.g.M.l+1,p=h.g.M.A-h.g.M.o+1);-1!==h.g.ya&&(0!==h.g.Ca&&(g=h.g.Ca),0!==h.g.xa&&(p=h.g.xa));return g+" x "+p},gJ:function(h){var g="AutoFit";h.Ci&&(g+=" History");h.Mi&&(g+=" State 1");return g},NF:function(h,g){g-=h.length;for(var p="";0<g;)p+=" ",--g;return p+h},Fy:function(h){var g=h.indexOf(","),p=h.lastIndexOf(",");return[h.substring(4,g),h.substring(g+1,p),h.substring(p+1,h.length-1)]},CG:function(h,g,p,k,a,c){var d=k;switch(h.xk){case ViewConstants.ei:this.iN(h,g,p,
k,a,c);break;case ViewConstants.Tz:this.eN(h,g,p,k,a,c);break;case ViewConstants.Sw:this.gN(h,g,p,k,a,c);break;case ViewConstants.Jv:this.dN(h,g,p,k,a,c);break;case ViewConstants.yC:this.hN(h,g,p,k,a,c);break;case ViewConstants.Hy:this.$M(h,g,p,k,a,c);break;case ViewConstants.iy:this.YM(h,g,p,k,a,c);break;case ViewConstants.mA:this.fN(h,g,p,k,a,c);break;case ViewConstants.ly:this.ZM(h,g,p,k,a,c)}h.$p=h.da-1;h.da=1;h.fa[0]=120;k=d+a*(h.nd+2);k=h.xk!==ViewConstants.ei?this.cN(h,"Up"," / ","Down","scroll help",
g,p,k,a,0):k+a;h.Bd?this.h(h,"H","close help",g,p,k,a,0):this.h(h,"H / Esc","close help",g,p,k,a,0)},iN:function(h,g,p,k,a,c){h.da=1;h.Wg=!1;h.ja=[];h.fa[0]=108;h.ja[0]=[h.da,"Top"];this.h(h,"",ViewConstants.xH+" build "+ViewConstants.sx+" by "+ViewConstants.wH,g,p,k,a,c)},ZM:function(h,g,p,k,a,c){var d,e=0,m=h.s.Ie;h.da=1;h.Wg=!1;h.ja=[];h.ja[e]=[h.da,"Top"];e+=1;h.fa[0]=128;h.fa[1]=208;h.fa[2]=288;h.fa[3]=368;k=this.h(h,"","Annotations",g,p,k,a,c);k=this.h(h,"","",g,p,k,a,c);h.ja[e]=[h.da,"Labels"];
e+=1;k=this.h(h,"","Labels:",g,p,k,a,c);k=this.h(h,"Number",h.X.Se.length,g,p,k,a,c);for(d=0;d<h.X.Se.length;d+=1){var n="Label "+String(d+1);k=this.h(h,n,h.X.DL(d),g,p,k,a,c);k=this.h(h," ",h.X.EL(d),g,p,k,a,c);k=this.h(h," ",h.X.FL(d),g,p,k,a,c);n=this.Fy(h.X.GL(d));this.ab(h,n[0],n[1],n[2],g,p+h.fa[0]*m,k,a,c);k=this.h(h,"Colour",this.nc(n[0],n[1],n[2]),g,p,k,a,c)}k=this.h(h,"","",g,p,k,a,c);h.ja[e]=[h.da,"Arrows"];e+=1;k=this.h(h,"","Arrows:",g,p,k,a,c);k=this.h(h,"Number",h.X.Cf.length,g,p,k,
a,c);for(d=0;d<h.X.Cf.length;d+=1)n="Arrow "+String(d+1),k=this.h(h,n,h.X.$I(d),g,p,k,a,c),k=this.h(h," ",h.X.aJ(d),g,p,k,a,c),k=this.h(h," ",h.X.bJ(d),g,p,k,a,c),n=this.Fy(h.X.nu(d)),this.ab(h,n[0],n[1],n[2],g,p+h.fa[0]*m,k,a,c),k=this.h(h,"Colour",this.nc(n[0],n[1],n[2]),g,p,k,a,c);k=this.h(h,"","",g,p,k,a,c);h.ja[e]=[h.da,"Polygons"];k=this.h(h,"","Polygons:",g,p,k,a,c);k=this.h(h,"Number",h.X.Of.length,g,p,k,a,c);for(d=0;d<h.X.Of.length;d+=1)n="Polygon "+String(d+1),k=this.h(h,n,h.X.CM(d),g,p,
k,a,c),k=this.h(h," ",h.X.DM(d),g,p,k,a,c),k=this.h(h," ",h.X.EM(d),g,p,k,a,c),n=this.Fy(h.X.FM(d)),this.ab(h,n[0],n[1],n[2],g,p+h.fa[0]*m,k,a,c),k=this.h(h,"Colour",this.nc(n[0],n[1],n[2]),g,p,k,a,c)},eN:function(h,g,p,k,a,c){var d,e=0;h.da=1;h.ja=[];h.Wg=!0;h.fa[0]=124;h.ja[e]=[h.da,"Top"];e+=1;k=this.h(h,"","Keyboard commands",g,p,k,a,c);k=this.h(h,"","",g,p,k,a,c);h.ja[e]=[h.da,"Playback"];e+=1;k=this.h(h,"","Playback controls:",g,p,k,a,c);if(h.ud)k=this.h(h,"R","reset",g,p,k,a,c);else{k=this.h(h,
"Enter","toggle play / pause",g,p,k,a,c);k=this.h(h,"Space","pause / next generation",g,p,k,a,c);k=this.h(h,"B","pause / previous generation",g,p,k,a,c);k=this.h(h,"Backspace","pause / previous generation",g,p,k,a,c);k=this.h(h,"Tab","pause / next step",g,p,k,a,c);k=this.h(h,"Shift Tab","pause / previous step",g,p,k,a,c);if(h.g.la||h.g.N)k=this.h(h,"U","toggle playback direction",g,p,k,a,c);k=h.Bd?this.h(h,"Esc","close LifeViewer",g,p,k,a,c):this.h(h,"Esc","pause if playing",g,p,k,a,c);k=this.h(h,
"R","reset to generation 0",g,p,k,a,c);k=this.h(h,"Shift N","go to generation",g,p,k,a,c);k=this.h(h,"-","decrease generation speed",g,p,k,a,c);k=this.h(h,"+","increase generation speed",g,p,k,a,c);k=this.h(h,"Shift -","minimum generation speed",g,p,k,a,c);k=this.h(h,"Shift +","maximum generation speed",g,p,k,a,c);k=this.h(h,"D","decrease step size",g,p,k,a,c);k=this.h(h,"E","increase step size",g,p,k,a,c);k=this.h(h,"Shift D","minimum step size",g,p,k,a,c);k=this.h(h,"Shift E","maximum step size",
g,p,k,a,c);k=this.h(h,"0","reset step and speed",g,p,k,a,c);k=this.h(h,"Ctrl P","toggle pause playback while drawing",g,p,k,a,c);k=this.h(h,"Alt T","toggle throttling",g,p,k,a,c);h.Wc?-1!==h.ib?(k=this.h(h,"W","toggle waypoint playback and loop",g,p,k,a,c),k=this.h(h,"Shift P","toggle just loop",g,p,k,a,c)):k=this.h(h,"W","toggle waypoint playback",g,p,k,a,c):-1!==h.ib&&(k=this.h(h,"W","toggle loop",g,p,k,a,c));h.gf&&(k=this.h(h,"Alt O","toggle autostart",g,p,k,a,c));-1!==h.dc&&(k=this.h(h,"Alt P",
"toggle stop",g,p,k,a,c))}k=this.h(h,"","",g,p,k,a,c);h.ja[e]=[h.da,"Multi"];e+=1;k=this.h(h,"","Multi-Viewer controls:",g,p,k,a,c);DocConfig.Va&&(k=this.h(h,"Page Up","previous universe",g,p,k,a,c),k=this.h(h,"Page Down","next universe",g,p,k,a,c),k=this.h(h,"Home","first universe",g,p,k,a,c),k=this.h(h,"End","last universe",g,p,k,a,c));k=this.h(h,"Shift R","reset all LifeViewers to generation 0",g,p,k,a,c);k=this.h(h,"Z","stop playback in all other LifeViewers",g,p,k,a,c);k=this.h(h,"Shift Z","stop playback in all LifeViewers",
g,p,k,a,c);k=this.h(h,"","",g,p,k,a,c);h.ja[e]=[h.da,"Camera"];e+=1;k=this.h(h,"","Camera controls:",g,p,k,a,c);if(h.H>=ViewConstants.Em||(h.vb&&h.AC)>=ViewConstants.Em)k=this.h(h,"M","toggle settings menu",g,p,k,a,c);k=this.h(h,"V","restore saved camera position",g,p,k,a,c);k=this.h(h,"Shift V","save current camera position",g,p,k,a,c);var m=h.X.uc.length;if(0<m&&(k=this.h(h,"J","jump to next point of interest",g,p,k,a,c),k=this.h(h,"Shift J","jump to previous point of interest",g,p,k,a,c),9<m&&
(m=9),!h.ge&&!h.qg))for(d=1;d<=m;d+=1)k=this.h(h,"Alt "+String(d),"jump to POI #"+String(d),g,p,k,a,c);k=this.h(h,"F","fit pattern to display",g,p,k,a,c);k=this.h(h,"Shift F","toggle autofit",g,p,k,a,c);k=this.h(h,"Shift H","toggle autofit history mode",g,p,k,a,c);k=this.h(h,"Ctrl F","fit selection to display",g,p,k,a,c);k=this.h(h,"Ctrl M","center pattern on display",g,p,k,a,c);h.g.Ea&&(k=this.h(h,"Shift S","toggle autofit state 1 mode",g,p,k,a,c));k=this.h(h,"[","zoom out",g,p,k,a,c);k=this.h(h,
"]","zoom in",g,p,k,a,c);k=this.h(h,"Shift [","halve zoom",g,p,k,a,c);k=this.h(h,"Shift ]","double zoom",g,p,k,a,c);k=this.h(h,"1","1x zoom",g,p,k,a,c);k=this.h(h,"2","2x zoom",g,p,k,a,c);k=this.h(h,"4","4x zoom",g,p,k,a,c);k=this.h(h,"8","8x zoom",g,p,k,a,c);k=this.h(h,"6","16x zoom",g,p,k,a,c);k=this.h(h,"3","32x zoom",g,p,k,a,c);k=this.h(h,"Shift 3","64x zoom",g,p,k,a,c);k=this.h(h,"Shift 1","integer zoom",g,p,k,a,c);k=this.h(h,"Shift 2","-2x zoom",g,p,k,a,c);k=this.h(h,"Shift 4","-4x zoom",g,
p,k,a,c);k=this.h(h,"Shift 8","-8x zoom",g,p,k,a,c);k=this.h(h,"Shift 6","-16x zoom",g,p,k,a,c);k=this.h(h,"Left","pan left",g,p,k,a,c);k=this.h(h,"Right","pan right",g,p,k,a,c);k=this.h(h,"Up","pan up",g,p,k,a,c);k=this.h(h,"Down","pan down",g,p,k,a,c);k=this.h(h,"Shift Left","pan north west",g,p,k,a,c);k=this.h(h,"Shift Right","pan south east",g,p,k,a,c);k=this.h(h,"Shift Up","pan north east",g,p,k,a,c);k=this.h(h,"Shift Down","pan south west",g,p,k,a,c);k=this.h(h,"<","rotate left",g,p,k,a,c);
k=this.h(h,">","rotate right",g,p,k,a,c);k=this.h(h,"Shift <","rotate left 90 degrees",g,p,k,a,c);k=this.h(h,"Shift >","rotate right 90 degrees",g,p,k,a,c);k=this.h(h,"5","reset angle",g,p,k,a,c);k=this.h(h,"","",g,p,k,a,c);h.ud||(h.ja[e]=[h.da,"View"],e+=1,k=this.h(h,"","View controls:",g,p,k,a,c),k=this.h(h,"Q","increase number of layers",g,p,k,a,c),k=this.h(h,"A","decrease number of layers",g,p,k,a,c),k=this.h(h,"P","increase layer depth",g,p,k,a,c),k=this.h(h,"L","decrease layer depth",g,p,k,
a,c),k=this.h(h,"C","next colour theme",g,p,k,a,c),k=this.h(h,"Shift C","previous colour theme",g,p,k,a,c),k=this.h(h,"Alt C","default theme",g,p,k,a,c),k=this.h(h,"","",g,p,k,a,c));h.ja[e]=[h.da,"Display"];e+=1;k=this.h(h,"","Display controls:",g,p,k,a,c);h.ud||(k=this.h(h,"G","toggle generation statistics",g,p,k,a,c),k=this.h(h,"Shift G","toggle generation display mode",g,p,k,a,c),h.Dc||(k=this.h(h,"Y","toggle population graph",g,p,k,a,c),k=this.h(h,"Shift Y","toggle graph lines",g,p,k,a,c),k=this.h(h,
"7","decrease graph opacity",g,p,k,a,c),k=this.h(h,"9","increase graph opacity",g,p,k,a,c)),k=this.h(h,"Shift W","toggle performance warning",g,p,k,a,c));h.g.S?k=this.h(h,"/","toggle hexagons for hexagonal grid",g,p,k,a,c):h.g.R&&(k=this.h(h,"/","toggle triangles for triangular grid",g,p,k,a,c));k=this.h(h,"T","toggle timing information",g,p,k,a,c);k=this.h(h,"Shift T","toggle extended timing information",g,p,k,a,c);k=this.h(h,"I","toggle pattern and engine information",g,p,k,a,c);k=this.h(h,"Shift I",
"toggle information bar",g,p,k,a,c);k=this.h(h,"Ctrl Q","toggle cell anti-aliasing",g,p,k,a,c);k=this.h(h,"Alt B","toggle cell borders",g,p,k,a,c);k=this.h(h,"X","toggle gridlines",g,p,k,a,c);0<h.g.pf&&(k=this.h(h,"Shift X","toggle major gridlines",g,p,k,a,c));k=this.h(h,"Ctrl G","toggle auto gridlines",g,p,k,a,c);h.g.la&&(k=this.h(h,"Alt D","toggle alternating gridlines",g,p,k,a,c));if(h.g.Ea||h.g.T||-1===h.g.i)k=this.h(h,"Alt G","convert pattern to [R]Super",g,p,k,a,c),k=this.h(h,"Alt H","convert pattern to [R]History",
g,p,k,a,c),k=this.h(h,"Alt J","convert pattern to [R]Standard",g,p,k,a,c);0<h.X.lo()&&(k=this.h(h,"Alt L","toggle annotation display",g,p,k,a,c));k=this.h(h,"Ctrl L","toggle kill escaping gliders",g,p,k,a,c);h.Kl&&(k=this.h(h,"N","toggle thumbnail view",g,p,k,a,c));k=this.h(h,"S","toggle stars",g,p,k,a,c);k=this.h(h,"O","open screenshot in separate window",g,p,k,a,c);k=this.h(h,"Shift O","open population graph in separate window",g,p,k,a,c);k=this.h(h,"Shift U","toggle UI",g,p,k,a,c);k=this.h(h,"Alt U",
"toggle autohide UI during playback",g,p,k,a,c);-1===h.g.i&&(k=this.h(h,"Alt W","toggle rainbow mode",g,p,k,a,c));k=this.h(h,"","",g,p,k,a,c);h.ja[e]=[h.da,"Pattern"];e+=1;k=this.h(h,"","Pattern controls:",g,p,k,a,c);k=this.h(h,"Alt N","new pattern",g,p,k,a,c);k=this.h(h,"Alt R","change rule",g,p,k,a,c);k=this.h(h,"Ctrl O","open original or last saved pattern",g,p,k,a,c);k=this.h(h,"Ctrl+Shift O","open clipboard as pattern",g,p,k,a,c);k=this.h(h,"Ctrl S","save pattern",g,p,k,a,c);k=this.h(h,"Alt Z",
"randomize pattern and rule",g,p,k,a,c);k=this.h(h,"Ctrl+Alt Z","randomize pattern only",g,p,k,a,c);k=this.h(h,"F6","toggle oscillator and spaceship identification",g,p,k,a,c);k=this.h(h,"Ctrl F6","fast identification",g,p,k,a,c);k=this.h(h,"","",g,p,k,a,c);h.ja[e]=[h.da,"Clipboard"];e+=1;k=this.h(h,"","External clipboard controls:",g,p,k,a,c);k=this.h(h,"Alt S","toggle sync cut and copy with external clipboard",g,p,k,a,c);k=this.h(h,"Ctrl+Shift C","copy original pattern",g,p,k,a,c);k=this.h(h,"Ctrl C",
"copy current selection",g,p,k,a,c);k=this.h(h,"Ctrl+Alt C","copy current selection with comments",g,p,k,a,c);k=this.h(h,"Ctrl+Shift X","cut original pattern",g,p,k,a,c);k=this.h(h,"Ctrl X","cut current selection",g,p,k,a,c);k=this.h(h,"Ctrl+Alt X","cut current selection with comments",g,p,k,a,c);k=this.h(h,"Ctrl J","copy rule definition",g,p,k,a,c);k=this.h(h,"K","copy camera position",g,p,k,a,c);k=this.h(h,"Shift K","copy camera position and view",g,p,k,a,c);k=this.h(h,"","",g,p,k,a,c);h.ja[e]=
[h.da,"Edit"];e+=1;k=this.h(h,"","Edit controls:",g,p,k,a,c);k=this.h(h,"F1","toggle draw/pan mode",g,p,k,a,c);k=this.h(h,"F2","draw mode",g,p,k,a,c);k=this.h(h,"Shift F2","toggle smart drawing",g,p,k,a,c);k=this.h(h,"F3","pick mode",g,p,k,a,c);k=this.h(h,"F4","select mode",g,p,k,a,c);k=this.h(h,"F5","pan mode",g,p,k,a,c);k=this.h(h,"Ctrl A","select all",g,p,k,a,c);k=this.h(h,"Shift A","shrink selection",g,p,k,a,c);k=this.h(h,"Alt A","toggle auto-shrink selection",g,p,k,a,c);k=this.h(h,"Ctrl C","copy",
g,p,k,a,c);k=this.h(h,"Ctrl D","toggle states display",g,p,k,a,c);k=this.h(h,"Ctrl I","invert selection",g,p,k,a,c);k=this.h(h,"Ctrl K","remove selection",g,p,k,a,c);k=this.h(h,"Ctrl V","paste",g,p,k,a,c);k=this.h(h,"Ctrl+Shift V","paste to selection",g,p,k,a,c);k=this.h(h,"Ctrl X","cut",g,p,k,a,c);k=this.h(h,"Ctrl Y","redo edit",g,p,k,a,c);k=this.h(h,"Ctrl Z","undo edit",g,p,k,a,c);k=this.h(h,"Ctrl+Shift Z","redo edit",g,p,k,a,c);k=this.h(h,"Ctrl Space","advance selection",g,p,k,a,c);k=this.h(h,
"Shift Space","advance outside",g,p,k,a,c);k=this.h(h,"Shift L","cycle paste location",g,p,k,a,c);k=this.h(h,"Shift M","cycle paste mode",g,p,k,a,c);2<h.g.i?(k=this.h(h,"Shift 5","multi-state random fill",g,p,k,a,c),h.g.N||(k=this.h(h,"Ctrl+Shift 5","2-state random fill",g,p,k,a,c))):k=this.h(h,"Shift 5","random fill",g,p,k,a,c);k=this.h(h,"Alt K","pick cell state to replace with drawing state",g,p,k,a,c);k=this.h(h,"Ctrl+Alt K","clear current drawing state cells",g,p,k,a,c);k=this.h(h,"Del","clear cells in selection",
g,p,k,a,c);k=this.h(h,"Shift Del","clear outside selection",g,p,k,a,c);h.g.Ea&&(k=this.h(h,"Ctrl Del","clear [R]History cells",g,p,k,a,c),k=this.h(h,"Alt Del","clear [R]History marked cells",g,p,k,a,c));k=this.h(h,">","rotate selection clockwise",g,p,k,a,c);k=this.h(h,"<","rotate selection counter-clockwise",g,p,k,a,c);k=this.h(h,"Alt X","flip selection horizontally",g,p,k,a,c);k=this.h(h,"Alt Y","flip selection vertically",g,p,k,a,c);k=this.h(h,"Alt Left","nudge selection 1 cell left",g,p,k,a,c);
k=this.h(h,"Alt Right","nudge selection 1 cell right",g,p,k,a,c);k=this.h(h,"Alt Up","nudge selection 1 cell up",g,p,k,a,c);k=this.h(h,"Alt Down","nudge selection 1 cell down",g,p,k,a,c);k=this.h(h,"Esc","hide paste",g,p,k,a,c);k=this.h(h,"Enter","perform paste",g,p,k,a,c);h.g.Ea?m=7:(m=-1===h.g.i?2:h.g.i,10<m&&(m=10));for(d=0;d<m;d+=1)k=this.h(h,"Ctrl "+d,"select state "+d+" for drawing",g,p,k,a,c);k=this.h(h,"Shift B","toggle clipboard library",g,p,k,a,c);for(d=0;10>d;d+=1)k=this.h(h,"Alt "+d,"make clipboard "+
d+" active",g,p,k,a,c);k=this.h(h,"","",g,p,k,a,c);h.ja[e]=[h.da,"Help"];k=this.h(h,"","Help controls:",g,p,k,a,c);k=this.h(h,"Up","scroll up one line",g,p,k,a,c);k=this.h(h,"Down","scroll down one line",g,p,k,a,c);k=this.h(h,"Page Up","scroll up one page",g,p,k,a,c);k=this.h(h,"Page Down","scroll down one page",g,p,k,a,c);k=this.h(h,"Shift Page Up","scroll up one section",g,p,k,a,c);k=this.h(h,"Shift Page Down","scroll down one section",g,p,k,a,c);k=this.h(h,"Home","go to first help page",g,p,k,
a,c);this.h(h,"End","go to last help page",g,p,k,a,c)},gN:function(h,g,p,k,a,c){var d=0;h.da=1;h.Wg=!1;h.ja=[];h.fa[0]=252;h.ja[d]=[h.da,"Top"];d+=1;k=this.h(h,"","Scripts",g,p,k,a,c);k=this.h(h,"","",g,p,k,a,c);k=this.h(h,"","Scripts must be embedded in pattern comments",g,p,k,a,c);k=this.h(h,"","Commands must be surrounded by whitespace",g,p,k,a,c);k=this.h(h,"","",g,p,k,a,c);h.ja[d]=[h.da,"Params"];d+=1;k=this.h(h,"","Parameter conventions:",g,p,k,a,c);k=this.h(h,"A|B","either A or B",g,p,k,a,
c);k=this.h(h,"(A)","A is optional",g,p,k,a,c);k=this.h(h,"A*","zero or more A",g,p,k,a,c);k=this.h(h,"A+","one or more A",g,p,k,a,c);k=this.h(h,"<1..3>","integer range",g,p,k,a,c);k=this.h(h,"<1.0..3.0>","decimal range",g,p,k,a,c);k=this.h(h,"","",g,p,k,a,c);h.ja[d]=[h.da,"General"];d+=1;k=this.h(h,"","General:",g,p,k,a,c);k=this.h(h,Keywords.Io,"start script section",g,p,k,a,c);k=this.h(h,Keywords.Cq,"end script section",g,p,k,a,c);k=this.h(h,Keywords.oC,"suppress overwrite warning",g,p,k,a,c);
k=this.h(h,"","",g,p,k,a,c);h.ja[d]=[h.da,"Playback"];d+=1;k=this.h(h,"","Playback:",g,p,k,a,c);k=this.h(h,Keywords.ru+" ("+Keywords.Yb+")","start play automatically",g,p,k,a,c);k=this.h(h,Keywords.yj+" <1..>|"+Keywords.Yb,"loop at generation",g,p,k,a,c);k=this.h(h,Keywords.Vj+" <1..>|"+Keywords.Yb,"stop at generation",g,p,k,a,c);k=this.h(h,Keywords.iC+" <1..>","play to generation on load",g,p,k,a,c);k=this.h(h,Keywords.Xn+" <"+ViewConstants.hh+".."+ViewConstants.Bm+">","set steps per second",g,p,
k,a,c);k=this.h(h,Keywords.Qo+" <"+ViewConstants.ho+".."+ViewConstants.Jg+">","set generations per step",g,p,k,a,c);(h.g.la||h.g.N)&&h.g.Kc&&(k=this.h(h,Keywords.NB,"set initial playback to Reverse",g,p,k,a,c));k=this.h(h,Keywords.Az,"always use hard reset",g,p,k,a,c);k=this.h(h,Keywords.yt,"disable playback",g,p,k,a,c);k=this.h(h,Keywords.yA,"disable step back",g,p,k,a,c);k=this.h(h,Keywords.AA,"disable stop messages",g,p,k,a,c);k=this.h(h,Keywords.zA,"disable performance warning",g,p,k,a,c);k=this.h(h,
Keywords.DA,"disable playback throttling",g,p,k,a,c);k=this.h(h,Keywords.qz,"starting playback pauses others",g,p,k,a,c);k=this.h(h,Keywords.Lz,"ignore other pause requests",g,p,k,a,c);k=this.h(h,"","",g,p,k,a,c);h.ja[d]=[h.da,"Camera"];d+=1;k=this.h(h,"","Camera:",g,p,k,a,c);k=this.h(h,Keywords.Rl+" <0..359>","set camera angle",g,p,k,a,c);k=this.h(h,Keywords.yf+" <-"+(h.g.ma>>1)+".."+(h.g.ma>>1)+">","set camera x position",g,p,k,a,c);k=this.h(h,Keywords.Af+" <-"+(h.g.ma>>1)+".."+(h.g.ma>>1)+">",
"set camera y position",g,p,k,a,c);k=this.h(h,Keywords.Xd+" <"+Number(-1/ViewConstants.za).toFixed(1)+".."+ViewConstants.$a.toFixed(1)+">","set camera zoom",g,p,k,a,c);k=this.h(h,Keywords.jy,"same as "+Keywords.Xd,g,p,k,a,c);k=this.h(h,Keywords.pu+" ("+Keywords.Yb+")","fit pattern to display",g,p,k,a,c);k=this.h(h,Keywords.Hz+" ("+Keywords.Yb+")","autofit uses pattern history",g,p,k,a,c);k=this.h(h,Keywords.kC+" ("+Keywords.Yb+")","autofit only uses state 1",g,p,k,a,c);k=this.h(h,Keywords.rt+" X Y",
"camera tracking",g,p,k,a,c);k=this.h(h," X ","horizontal speed cells/gen",g,p,k,a,c);k=this.h(h," Y ","vertical speed cells/gen",g,p,k,a,c);k=this.h(h,Keywords.ep+" E S W N","camera box tracking",g,p,k,a,c);k=this.h(h," E ","east edge speed cells/gen",g,p,k,a,c);k=this.h(h," S ","south edge speed cells/gen",g,p,k,a,c);k=this.h(h," W ","west edge speed cells/gen",g,p,k,a,c);k=this.h(h," N ","north edge speed cells/gen",g,p,k,a,c);k=this.h(h,Keywords.qt+" P X Y","camera tracking with loop",g,p,k,a,
c);k=this.h(h," P ","period",g,p,k,a,c);k=this.h(h," X ","horizontal speed cells/gen",g,p,k,a,c);k=this.h(h," Y ","vertical speed cells/gen",g,p,k,a,c);k=this.h(h,"","",g,p,k,a,c);h.ja[d]=[h.da,"Waypoints"];d+=1;k=this.h(h,"","Waypoints:",g,p,k,a,c);k=this.h(h,Keywords.ht+" <0..>","waypoint at generation",g,p,k,a,c);k=this.h(h,Keywords.gB+" <0.0..>","pause for time",g,p,k,a,c);k=this.h(h,Keywords.Sh+" "+Keywords.xg+"|"+Keywords.yf+"|"+Keywords.Af+"|"+Keywords.Xd,"linear motion",g,p,k,a,c);k=this.h(h,
Keywords.hj+" "+Keywords.xg+"|"+Keywords.yf+"|"+Keywords.Af+"|"+Keywords.Xd,"bezier motion (default)",g,p,k,a,c);k=this.h(h,Keywords.gH,"save timing at waypoint start",g,p,k,a,c);k=this.h(h,"","",g,p,k,a,c);h.ja[d]=[h.da,"POIs"];d+=1;k=this.h(h,"","Points of interest:",g,p,k,a,c);k=this.h(h,Keywords.qw,"define point of interest",g,p,k,a,c);k=this.h(h,Keywords.pw+" <0..>","start POI at generation",g,p,k,a,c);k=this.h(h,Keywords.Ms,"reset generation at POI",g,p,k,a,c);k=this.h(h,Keywords.pq,"start playback at POI",
g,p,k,a,c);k=this.h(h,Keywords.qq,"stop playback at POI",g,p,k,a,c);k=this.h(h,Keywords.Ns+" <"+WaypointConstants.pG+".."+WaypointConstants.oG+">","set POI transition speed",g,p,k,a,c);k=this.h(h,"<command>|ALL "+Keywords.mc,"use initial value for POI",g,p,k,a,c);k=this.h(h,Keywords.xd+"<string>"+Keywords.xd,"define message",g,p,k,a,c);k=this.h(h,Keywords.lB,"add Labels as POIs",g,p,k,a,c);k=this.h(h,"","",g,p,k,a,c);h.ja[d]=[h.da,"Annotations"];d+=1;k=this.h(h,"","Annotations:",g,p,k,a,c);k=this.h(h,
Keywords.fs+" X Y ZOOM","define label at position",g,p,k,a,c);k=this.h(h,"  (MAXZOOM)|(MINZOOM MAXZOOM) ("+Keywords.Ld+")","... zoom range and fixed position",g,p,k,a,c);k=this.h(h," "+Keywords.xd+"<string>"+Keywords.xd,"... label text",g,p,k,a,c);k=this.h(h,Keywords.Xz+" <"+ViewConstants.zF+".."+ViewConstants.rF+">","define label font size",g,p,k,a,c);k=this.h(h," ("+Keywords.Ld+")","... optionally fix size",g,p,k,a,c);k=this.h(h,Keywords.Vz+" <0.0..1.0>","define label font alpha",g,p,k,a,c);k=this.h(h,
Keywords.Yz+" <0..> <0..> <0..>","generation range / fade",g,p,k,a,c);k=this.h(h,Keywords.Wz+" <0..359>","label angle",g,p,k,a,c);k=this.h(h," ("+Keywords.Ld+")","... optionally fix angle",g,p,k,a,c);k=this.h(h,Keywords.Zz+" X Y D|"+Keywords.Yb,"label target and distance",g,p,k,a,c);k=this.h(h,Keywords.$z+" DX DY|"+Keywords.Ld,"label move per generation",g,p,k,a,c);k=this.h(h,Keywords.Xq+" X1 Y1 X2 Y2 ZOOM","define arrow at position",g,p,k,a,c);k=this.h(h," (MAXZOOM)|(MINZOOM MAXZOOM) ("+Keywords.Ld+
")","... zoom range and fix position",g,p,k,a,c);k=this.h(h,Keywords.oy+" <"+ViewConstants.bw+".."+ViewConstants.Wv+"> <0.0..1.0>","line width and head multiple",g,p,k,a,c);k=this.h(h,Keywords.my+" <0.0..1.0>","define arrow alpha",g,p,k,a,c);k=this.h(h,Keywords.py+" <0..> <0..> <0..>","generation range / fade",g,p,k,a,c);k=this.h(h,Keywords.ny+" <0..359>","arrow angle",g,p,k,a,c);k=this.h(h," ("+Keywords.Ld+")","... optionally fix angle",g,p,k,a,c);k=this.h(h,Keywords.qy+" X Y D|"+Keywords.Yb,"arrow target and distance",
g,p,k,a,c);k=this.h(h,Keywords.ry+" DX DY|"+Keywords.Ld,"arrow move per generation",g,p,k,a,c);k=this.h(h,Keywords.oB+" X1 Y1 X2 Y2 .. ZOOM","define outline polygon",g,p,k,a,c);k=this.h(h," (MAXZOOM) ("+Keywords.Ld+")","... zoom range and fix position",g,p,k,a,c);k=this.h(h,Keywords.rw+" X1 Y1 X2 Y2 .. ZOOM","define filled polygon",g,p,k,a,c);k=this.h(h," (MAXZOOM) ("+Keywords.Ld+")","... zoom range and fix position",g,p,k,a,c);k=this.h(h,Keywords.pB+" <"+ViewConstants.bw+".."+ViewConstants.Wv+">",
"line width",g,p,k,a,c);k=this.h(h,Keywords.mB+" <0.0..1.0>","define polygon alpha",g,p,k,a,c);k=this.h(h,Keywords.qB+" <0..> <0..> <0..>","generation range / fade",g,p,k,a,c);k=this.h(h,Keywords.nB+" <0..359>","polygon angle",g,p,k,a,c);k=this.h(h," ("+Keywords.Ld+")","... optionally fix angle",g,p,k,a,c);k=this.h(h,Keywords.rB+" X Y D|"+Keywords.Yb,"polygon target and distance",g,p,k,a,c);k=this.h(h,"","",g,p,k,a,c);h.ja[d]=[h.da,"Display"];d+=1;k=this.h(h,"","Display:",g,p,k,a,c);k=this.h(h,Keywords.Qq+
" <"+ViewConstants.Mc+".."+h.Bk+">","set LifeViewer width",g,p,k,a,c);k=this.h(h,Keywords.Gp+" <"+ViewConstants.Dj+".."+ViewConstants.Yv+">","set LifeViewer height",g,p,k,a,c);k=this.h(h,Keywords.Ps+" <"+ViewConstants.Mc+".."+h.Bk+">","set popup width",g,p,k,a,c);k=this.h(h,Keywords.Os+" <"+ViewConstants.Dj+".."+ViewConstants.Yv+">","set popup height",g,p,k,a,c);k=this.h(h,Keywords.Lq+" "+Keywords.xd+"<string>"+Keywords.xd,"set popup window title",g,p,k,a,c);k=this.h(h," "+Keywords.ug+"B","program build number",
g,p,k,a,c);k=this.h(h," "+Keywords.ug+"N","pattern name",g,p,k,a,c);k=this.h(h," "+Keywords.ug+"O","pattern originator",g,p,k,a,c);k=this.h(h," "+Keywords.ug+"R","rule name",g,p,k,a,c);k=this.h(h," "+Keywords.ug+"A","rule alias",g,p,k,a,c);k=this.h(h," "+Keywords.ug+"T","program title",g,p,k,a,c);k=this.h(h," "+Keywords.ug+"0..9","saved timing as average fps",g,p,k,a,c);k=this.h(h," "+Keywords.ug+Keywords.ug,Keywords.ug+" symbol",g,p,k,a,c);k=this.h(h,Keywords.fo+" <"+ViewConstants.aw+".."+ViewConstants.Vv+
">","set number of layers",g,p,k,a,c);k=this.h(h,Keywords.On+" <"+ViewConstants.$v.toFixed(1)+".."+ViewConstants.pF.toFixed(1)+">","set layer depth",g,p,k,a,c);k=this.h(h,Keywords.Ir+" ("+Keywords.Yb+")","display gridlines",g,p,k,a,c);k=this.h(h,Keywords.Hr+" <0..16>","set major grid line interval",g,p,k,a,c);k=this.h(h,Keywords.iu+" <0.."+(2<h.g.i?1:63)+">","number of age states to draw",g,p,k,a,c);k=this.h(h,Keywords.Bv+" <0.."+(2<h.g.i?1:63)+">","number of history states to draw",g,p,k,a,c);k=
this.h(h,Keywords.et+" ("+Keywords.Yb+")","display stars",g,p,k,a,c);h.g.S?(k=this.h(h,Keywords.Bz,"hexagonal cells for grid",g,p,k,a,c),k=this.h(h,Keywords.bx,"offset square cells for grid",g,p,k,a,c)):h.g.R&&(k=this.h(h,Keywords.lH,"triangular cells for grid",g,p,k,a,c),k=this.h(h,Keywords.bx,"rectangualr cells for grid",g,p,k,a,c));k=this.h(h,Keywords.wy,"display cell borders",g,p,k,a,c);k=this.h(h,Keywords.xA,"disable menus and hotkeys",g,p,k,a,c);k=this.h(h,Keywords.Gz,"hide menus during playback",
g,p,k,a,c);k=this.h(h,Keywords.eC,"show timing information",g,p,k,a,c);k=this.h(h,Keywords.rz,"extended timing information",g,p,k,a,c);k=this.h(h,Keywords.cC,"show generation statistics",g,p,k,a,c);k=this.h(h,Keywords.dC,"show information bar",g,p,k,a,c);k=this.h(h,Keywords.zG,"use rainbow colours",g,p,k,a,c);k=this.h(h,Keywords.vB,"use high quality rendering",g,p,k,a,c);k=this.h(h,"","",g,p,k,a,c);h.ja[d]=[h.da,"Thumb"];d+=1;k=this.h(h,"","Thumbnails:",g,p,k,a,c);k=this.h(h,Keywords.GC+" ("+Keywords.Yb+
")","start at 1/"+h.Ge+" size",g,p,k,a,c);k=this.h(h,Keywords.BC+" <"+ViewConstants.DF+".."+ViewConstants.wF+">","set thumbnail divisor",g,p,k,a,c);k=this.h(h,Keywords.zC+" ("+Keywords.Yb+")","thumbnail launches viewer",g,p,k,a,c);k=this.h(h,Keywords.FC+" <"+Number(-1/ViewConstants.za).toFixed(1)+".."+ViewConstants.$a.toFixed(1)+">","set thumbnail zoom",g,p,k,a,c);k=this.h(h,Keywords.DC,"start playback on thumbnail expand",g,p,k,a,c);k=this.h(h,"","",g,p,k,a,c);h.ja[d]=[h.da,"Graph"];d+=1;k=this.h(h,
"","Population Graph:",g,p,k,a,c);k=this.h(h,Keywords.nv,"display population graph",g,p,k,a,c);k=this.h(h,Keywords.xz+" <0.0..1.0>","population graph opacity",g,p,k,a,c);k=this.h(h,Keywords.yz,"population graph use points",g,p,k,a,c);k=this.h(h,Keywords.iw,"disable population graph",g,p,k,a,c);k=this.h(h,"","",g,p,k,a,c);h.ja[d]=[h.da,"Colours"];d+=1;k=this.h(h,"","Colours:",g,p,k,a,c);k=this.h(h,Keywords.Jl+" <0.."+(h.g.Ue-1)+">|name","set theme",g,p,k,a,c);k=this.h(h," name = "+Keywords.Kq,"set custom theme",
g,p,k,a,c);k=this.h(h,Keywords.Oa+" "+Keywords.hx+" R G B","set theme background",g,p,k,a,c);k=this.h(h,Keywords.Oa+" "+Keywords.gx+" R G B","set theme alive color",g,p,k,a,c);k=this.h(h,Keywords.Oa+" "+Keywords.uC+" R G B","set theme alive ramp",g,p,k,a,c);k=this.h(h,Keywords.Oa+" "+Keywords.jx+" R G B","set theme dead color",g,p,k,a,c);k=this.h(h,Keywords.Oa+" "+Keywords.ix+" R G B","set theme dead ramp",g,p,k,a,c);k=this.h(h,Keywords.Oa+" "+Keywords.wC+" R G B","set theme dying color",g,p,k,a,
c);k=this.h(h,Keywords.Oa+" "+Keywords.vC+" R G B","set theme dying ramp",g,p,k,a,c);k=this.h(h,Keywords.Oa+" "+Keywords.QD+" R G B","set boundary color",g,p,k,a,c);k=this.h(h,Keywords.Oa+" <0.."+(-1===h.g.i?h.g.Ea?"6":"1":String(h.g.i-1))+"> R G B","set state color",g,p,k,a,c);h.g.Ea&&(k=this.h(h,Keywords.Oa+" "+Keywords.KF+" R G B","set [R]History state color "+ViewConstants.mM,g,p,k,a,c),k=this.h(h,Keywords.Oa+" "+Keywords.LF+" R G B","set [R]History state color "+ViewConstants.nM,g,p,k,a,c),k=
this.h(h,Keywords.Oa+" "+Keywords.SE+" R G B","set [R]History state color "+ViewConstants.qL,g,p,k,a,c),k=this.h(h,Keywords.Oa+" "+Keywords.gF+" R G B","set [R]History state color "+ViewConstants.hF,g,p,k,a,c),k=this.h(h,Keywords.Oa+" "+Keywords.kF+" R G B","set [R]History state color "+ViewConstants.lF,g,p,k,a,c),k=this.h(h,Keywords.Oa+" "+Keywords.iF+" R G B","set [R]History state color "+ViewConstants.jF,g,p,k,a,c),k=this.h(h,Keywords.Oa+" "+Keywords.ZE+" R G B","set [R]History state color "+ViewConstants.$E,
g,p,k,a,c));h.g.N&&(k=this.h(h,Keywords.Oa+" N*E*S*W* R G B","set PCA state color",g,p,k,a,c));k=this.h(h,Keywords.Oa+" "+Keywords.SD+" R G B","set bounded color",g,p,k,a,c);k=this.h(h,Keywords.Oa+" "+Keywords.WG+" R G B","set select color",g,p,k,a,c);k=this.h(h,Keywords.Oa+" "+Keywords.jq+" R G B","set paste color",g,p,k,a,c);k=this.h(h,Keywords.Oa+" "+Keywords.ID+" R G B","set advance color",g,p,k,a,c);k=this.h(h,Keywords.Oa+" "+Keywords.Ir+" R G B","set grid color",g,p,k,a,c);k=this.h(h,Keywords.Oa+
" "+Keywords.Hr+" R G B","set grid major color",g,p,k,a,c);k=this.h(h,Keywords.Oa+" "+Keywords.et+" R G B","set star color",g,p,k,a,c);k=this.h(h,Keywords.Oa+" "+Keywords.sC+" R G B","set waypoint message color",g,p,k,a,c);k=this.h(h,Keywords.Oa+" "+Keywords.pz+" R G B","set error message color",g,p,k,a,c);k=this.h(h,Keywords.Oa+" "+Keywords.IE+" R G B","set graph background color",g,p,k,a,c);k=this.h(h,Keywords.Oa+" "+Keywords.HE+" R G B","set graph axis color",g,p,k,a,c);k=this.h(h,Keywords.Oa+
" "+Keywords.GE+" R G B","set graph alive color",g,p,k,a,c);k=this.h(h,Keywords.Oa+" "+Keywords.JE+" R G B","set graph birth color",g,p,k,a,c);k=this.h(h,Keywords.Oa+" "+Keywords.KE+" R G B","set graph death color",g,p,k,a,c);k=this.h(h,Keywords.Oa+" "+Keywords.fs+" R G B","set label text color",g,p,k,a,c);k=this.h(h,Keywords.Oa+" "+Keywords.Xq+" R G B","set arrow line color",g,p,k,a,c);k=this.h(h,Keywords.Oa+" "+Keywords.tG+" R G B","set polygon color",g,p,k,a,c);k=this.h(h,Keywords.Oa+" "+Keywords.oH+
" R G B","set UI foreground color",g,p,k,a,c);k=this.h(h,Keywords.Oa+" "+Keywords.mH+" R G B","set UI background color",g,p,k,a,c);k=this.h(h,Keywords.Oa+" "+Keywords.pH+" R G B","set UI highlight text color",g,p,k,a,c);k=this.h(h,Keywords.Oa+" "+Keywords.sH+" R G B","set UI selected color",g,p,k,a,c);k=this.h(h,Keywords.Oa+" "+Keywords.qH+" R G B","set UI locked color",g,p,k,a,c);k=this.h(h,Keywords.Oa+" "+Keywords.nH+" R G B","set UI border color",g,p,k,a,c);k=this.h(h,Keywords.Gy,"same as "+Keywords.Oa,
g,p,k,a,c);k=this.h(h,"","",g,p,k,a,c);h.ja[d]=[h.da,"Pattern"];d+=1;k=this.h(h,"","Pattern:",g,p,k,a,c);k=this.h(h,Keywords.wx+" <-"+(h.g.ma>>1)+".."+(h.g.ma>>1)+">","set pattern x offset",g,p,k,a,c);k=this.h(h,Keywords.xx+" <-"+(h.g.ma>>1)+".."+(h.g.ma>>1)+">","set pattern y offset",g,p,k,a,c);k=this.h(h,Keywords.fz+" <"+ViewConstants.xF+".."+ViewConstants.oF+">","set boundary delete range",g,p,k,a,c);k=this.h(h,Keywords.wA,"disable pattern source copy",g,p,k,a,c);k=this.h(h,Keywords.CA,"hide pattern source",
g,p,k,a,c);k=this.h(h,Keywords.kA+" <"+ViewConstants.yF+".."+ViewConstants.qF+">","set maximum grid size 2^n",g,p,k,a,c);k=this.h(h,Keywords.vq+" name X Y (<1..>)+","create a named recipe",g,p,k,a,c);k=this.h(h,Keywords.Eo+" name rle","create a named rle",g,p,k,a,c);k=this.h(h," (X Y) (TRANS)","... X Y and transformation",g,p,k,a,c);k=this.h(h," "+Keywords.WC,"identity",g,p,k,a,c);k=this.h(h," "+Keywords.TC,"flip",g,p,k,a,c);k=this.h(h," "+Keywords.UC,"flip X",g,p,k,a,c);k=this.h(h," "+Keywords.VC,
"flip Y",g,p,k,a,c);k=this.h(h," "+Keywords.ZC,"swap X and Y",g,p,k,a,c);k=this.h(h," "+Keywords.$C,"swap X and Y and flip",g,p,k,a,c);k=this.h(h," "+Keywords.YC,"rotate clockwise",g,p,k,a,c);k=this.h(h," "+Keywords.XC,"rotate counter-clockwise",g,p,k,a,c);k=this.h(h,Keywords.jq+" name|rle (X Y)","paste rle at optional X Y",g,p,k,a,c);k=this.h(h," (TRANS)","... optional transformation",g,p,k,a,c);k=this.h(h,Keywords.Cs+" <0..>","set paste generation",g,p,k,a,c);k=this.h(h,"(recipe|<1..>+)*","... optional delta list",
g,p,k,a,c);k=this.h(h,Keywords.Cs+" "+Keywords.Br+" <1..>","set paste interval",g,p,k,a,c);k=this.h(h," (<0..> (<1..>))","... optional start and end",g,p,k,a,c);k=this.h(h,Keywords.IA+" X Y","set position delta for "+Keywords.Cs+" "+Keywords.Br,g,p,k,a,c);k=this.h(h,Keywords.YA+" <0..15>|mode","set paste mode",g,p,k,a,c);k=this.h(h," 0   0000  "+Keywords.dB,"",g,p,k,a,c);k=this.h(h," 1   0001  "+Keywords.QA,"",g,p,k,a,c);k=this.h(h," 2   0010  "+Keywords.LA,"",g,p,k,a,c);k=this.h(h," 3   0011  "+
Keywords.$A+"|"+Keywords.RA,"",g,p,k,a,c);k=this.h(h," 4   0100  "+Keywords.MA,"",g,p,k,a,c);k=this.h(h," 5   0101  "+Keywords.cB,"",g,p,k,a,c);k=this.h(h," 6   0110  "+Keywords.bB,"",g,p,k,a,c);k=this.h(h," 7   0111  "+Keywords.XA,"",g,p,k,a,c);k=this.h(h," 8   1000  "+Keywords.TA,"",g,p,k,a,c);k=this.h(h," 9   1001  "+Keywords.ZA,"",g,p,k,a,c);k=this.h(h," 10  1010  "+Keywords.VA,"",g,p,k,a,c);k=this.h(h," 11  1011  "+Keywords.NA,"",g,p,k,a,c);k=this.h(h," 12  1100  "+Keywords.UA,"",g,p,k,a,c);
k=this.h(h," 13  1101  "+Keywords.OA,"",g,p,k,a,c);k=this.h(h," 14  1110  "+Keywords.SA,"",g,p,k,a,c);k=this.h(h," 15  1111  "+Keywords.WA,"",g,p,k,a,c);k=this.h(h,Keywords.Uz,"suppress escaping gliders",g,p,k,a,c);k=this.h(h,"","",g,p,k,a,c);h.ja[d]=[h.da,"Randomize"];k=this.h(h,"","Randomize:",g,p,k,a,c);k=this.h(h,Keywords.EB,"create random pattern",g,p,k,a,c);k=this.h(h,Keywords.BB+" <string>","set random seed",g,p,k,a,c);k=this.h(h,Keywords.DB+" <"+ViewConstants.CF+".."+ViewConstants.uF+">",
"set random pattern width",g,p,k,a,c);k=this.h(h,Keywords.yB+" <"+ViewConstants.BF+".."+ViewConstants.tF+">","set random pattern height",g,p,k,a,c);k=this.h(h,Keywords.xB+" <"+ViewConstants.cw+".."+ViewConstants.Xv+">","set random pattern fill percentage",g,p,k,a,c);k=this.h(h,Keywords.yw+" "+Keywords.Ld,"keep rule fixed",g,p,k,a,c);h.g.la||h.g.N?(k=this.h(h,Keywords.zB,"only generate reversible rules",g,p,k,a,c),this.h(h,Keywords.CB,"only generate fixed population rules",g,p,k,a,c)):h.g.sa||-1!==
h.g.Vd||(k=this.h(h,Keywords.yw+" <item> <0..100>","set percentage chance for <item>",g,p,k,a,c),k=this.h(h," "+Keywords.xg,"all conditions",g,p,k,a,c),k=this.h(h," "+Keywords.xw,"all birth conditions",g,p,k,a,c),k=this.h(h," "+Keywords.Fw,"all survival conditions",g,p,k,a,c),k=this.h(h," "+Keywords.xw+"<0..n>","specified birth condition",g,p,k,a,c),this.h(h," "+Keywords.Fw+"<0..n>","specified survival condition",g,p,k,a,c))},dN:function(h,g,p,k,a,c){var d,e,m=Controller.Gd.length,n=h.zg,q=h.g.lb[h.g.Df],
u=0,y=h.s.Ie;h.da=1;h.Wg=!1;h.ja=[];h.fa[0]=128;h.ja[u]=[h.da,"Top"];u+=1;k=this.h(h,"","Information",g,p,k,a,c);k=this.h(h,"","",g,p,k,a,c);h.ja[u]=[h.da,"Display"];u+=1;k=this.h(h,"","Display:",g,p,k,a,c);k=this.h(h,"Size",h.I+" x "+h.H,g,p,k,a,c);k=this.h(h,"Scale",h.s.Ie.toFixed(2),g,p,k,a,c);k=this.h(h,"Pixel Ratio",h.devicePixelRatio.toFixed(2),g,p,k,a,c);k=this.h(h,"Window Zoom",h.xf.toFixed(2),g,p,k,a,c);DocConfig.ms&&(k=this.h(h,"Limit Width",h.Bk,g,p,k,a,c));var v=h.g.na;1>v&&(v=-1/v);k=
this.h(h,"View","X "+-(h.g.width/2-(h.g.Aa+h.g.bc)|0)+"  Y "+-(h.g.height/2-(h.g.va+h.g.Zb)|0)+"  Z "+v.toFixed(2)+"  ANGLE "+h.g.angle.toFixed(0),g,p,k,a,c);v=h.Bq;1>v&&(v=1/v);k=this.h(h,"Saved View","X "+-(h.g.width/2-h.We|0)+"  Y "+-(h.g.height/2-h.Qj|0)+"  Z "+v.toFixed(2)+"  ANGLE "+h.VB.toFixed(0),g,p,k,a,c);k=this.h(h,"Origin","X "+h.g.bc.toFixed(2)+"  Y "+h.g.Zb.toFixed(2)+"  Z "+h.g.xc.toFixed(3),g,p,k,a,c);var r=h.Ta?h.ud?"Multi-State Viewer":"Viewer":h.g.Ea?"History Player":"Player";r=
h.Bd?r+" (PopUp)":r+" (InLine)";k=this.h(h,"Type",r,g,p,k,a,c);r=h.g.S?"Hexagonal":h.g.R?"Triangular":"Square";k=this.h(h,"Mode",r,g,p,k,a,c);r="Rectangular";h.g.S&&!h.g.sc?r="Hexagonal":h.g.R&&!h.g.sc&&(r="Triangular");k=this.h(h,"Cells",r,g,p,k,a,c);k=this.h(h,"Quality",h.g.nh?"High":"Standard",g,p,k,a,c);h.Kl&&(k=this.h(h,"Thumbnail","1/"+h.Ge,g,p,k,a,c));k=this.h(h,"","",g,p,k,a,c);h.ja[u]=[h.da,"Pattern"];u+=1;k=this.h(h,"","Pattern:",g,p,k,a,c);""!==h.kq&&(k=this.h(h,"Name",h.kq,g,p,k,a,c));
""!==h.Es&&(k=this.h(h,"Originator",h.Es,g,p,k,a,c));k=this.h(h,"Actual Size",h.gb+" x "+h.jb,g,p,k,a,c);-1!==h.Ok&&-1!==h.Nk&&(k=this.h(h,"Specified",h.Ok+" x "+h.Nk,g,p,k,a,c));0<h.Mg.length&&(k=this.h(h,"Pastes",h.Mg.length,g,p,k,a,c),k=this.h(h,"Paste Size",h.Om-h.Lm+1+" x "+(h.Pm-h.Km+1)+" from ("+h.Lm+", "+h.Km+") to ("+h.Om+", "+h.Pm+")",g,p,k,a,c),k=this.h(h,"Paste Max T",h.Ck+(h.xj?" + "+Keywords.Br:""),g,p,k,a,c));0<h.Mj.length&&(k=this.h(h,"RLEs",h.Mj.length,g,p,k,a,c));0<h.Ik.length&&
(k=this.h(h,"Recipes",h.Ik.length,g,p,k,a,c));k=this.h(h,"Offset","X "+h.Nb+"  Y "+h.Ob,g,p,k,a,c);h.il&&(k=this.h(h,"CXRLE Gen",h.xi,g,p,k,a,c));h.mh&&(k=this.h(h,"CXRLE Pos","X "+h.Tm+"  Y "+h.Um,g,p,k,a,c));h.uD&&(k=this.h(h,"Clipped",(0===h.g.Ca?"Inf":h.g.Ca)+" x "+(0===h.g.xa?"Inf":h.g.xa)+" "+h.D.RD(h.g.ya),g,p,k,a,c));h.Ba?r=h.Ab:(r=h.Ab,""===r&&(r="(none)"));if("MAP"===r.substr(0,3)&&r.length===h.D.fF+3)for(k=this.h(h,"Rule","MAP",g,p,k,a,c),v=3;v<h.D.fF+3;)k=this.h(h,"  "+(v-3),r.substr(v,
16),g,p,k,a,c),v+=16;else h.Wg=!0,k=this.h(h,"Rule",r,g,p,k,a,c),h.Wg=!1;""!==h.Vc&&(k=this.h(h,"Alias",h.Vc,g,p,k,a,c));h.g.ga&&(k=null===h.g.Sd?this.h(h,"Type","@TREE ["+h.g.Xh+"]",g,p,k,a,c):this.h(h,"Type","@TABLE ["+h.g.Og+(0<h.g.yl?" / "+h.g.yl:"")+"]",g,p,k,a,c));if(h.g.la)r="Margolus";else if(-1!==h.g.Vd)r="1D";else if(h.g.mw){r="Hexagonal";if(h.g.Gg===h.D.Nr||h.g.sa&&h.g.Ja.type===h.D.ai)r="Tripod";h.g.sa&&h.g.Ja.type===h.D.Gh&&(r="Asterisk");1<h.g.Ja.Xg&&(r+=" range "+h.g.Ja.Xg)}else if(h.g.sa){switch(h.g.Ja.type){case h.D.Od:r=
"Moore";break;case h.D.wf:r="von Neumann";break;case h.D.sk:r="Circular";break;case h.D.lj:r="Cross";break;case h.D.Pj:r="Saltire";break;case h.D.Tj:r="Star";break;case h.D.yk:r="L2";break;case h.D.Ai:r="Hexagonal";break;case h.D.jj:r="Checkerboard";break;case h.D.vj:r="Hash";break;case h.D.bm:r="Custom";break;case h.D.ai:r="Tripod";break;case h.D.Gh:r="Asterisk";break;case h.D.$h:r="Triangular";break;case h.D.vi:r="Gaussian";break;case h.D.kp:r="Weighted"}1<h.g.Ja.Xg&&(r+=" range "+h.g.Ja.Xg)}else if(h.g.R)switch(r=
"Triangular",h.g.Ud){case h.D.gp:r+=" Edges";break;case h.D.hp:r+=" Vertices";break;case h.D.Nq:r+=" Inner";break;case h.D.Oq:r+=" Outer"}else if(h.g.ga)if(null===h.g.Sd)r=4===h.g.pg?"von Neumann":"Moore";else switch(h.g.Oj){case PatternConstants.Aq:r="von Neumann";break;case PatternConstants.xq:r="Moore";break;case PatternConstants.zl:r="Hexagonal";break;case PatternConstants.zq:r="1D";break;default:r="unknown"}else r=h.g.ye||h.g.N?"von Neumann":"Moore";k=this.h(h,"N'hood",r,g,p,k,a,c);if(h.g.sa)switch(h.g.Ja.type){case h.D.kp:v=
2*h.g.Ja.Xg+1;for(d=0;d<v;d+=1)r=h.g.Ja.xe.length>v*v?" "+h.g.Ja.xe.substr(d*v*2,2*v):" "+h.g.Ja.xe.substr(d*v,v),k=this.h(h,r,"",g,p,k,a,c);break;case h.D.bm:for(v=2*h.g.Ja.Xg+1,d=0;d<v;d+=1){r=" ";for(e=0;e<v;e+=1)r+=h.g.Ja.io[d][e]?"1":"0";k=this.h(h,r,"",g,p,k,a,c)}}r=h.Qm;2<h.Qm&&h.Fs!==h.Qm&&(r=h.Fs+" of "+r);k=this.h(h,"States",r,g,p,k,a,c);if(h.wo)for(d=1;d<h.Qm;d+=1)h.wo[d]&&(k=this.h(h,"State "+d,h.wo[d]+"\t"+h.Fr(d),g,p,k,a,c));if(h.g.Rd)if(h.fa[1]=200,h.fa[2]=280,h.fa[3]=360,h.fa[4]=440,
h.g.Rd[0].yy!==PatternConstants.QB)k=this.h(h,"Icons",PatternConstants.CN[h.g.Rd[0].yy],g,p,k,a,c);else for(k=this.h(h,"Icons","Size\tNumber\tColours\tGrayScale",g,p,k,a,c),d=0;d<h.g.Rd.length;d+=1)v=h.g.Rd[d].width,r=v+"x"+v+"\t"+h.g.Rd[d].height/v+"\t"+h.g.Rd[d].HF+"\t"+(h.g.Rd[d].LE?"Yes":"No"),k=this.h(h,"  Set "+d,r,g,p,k,a,c);k=this.h(h,"Decoder",h.Ej,g,p,k,a,c);k=this.h(h,"","",g,p,k,a,c);h.ja[u]=[h.da,"Identify"];u+=1;k=this.h(h,"","Identify:",g,p,k,a,c);k=this.h(h,"Enabled",h.Rb?"Yes":"No",
g,p,k,a,c);"none"!==h.Eb&&"Empty"!==h.Eb&&(k=this.h(h,"Type",h.Eb,g,p,k,a,c),k=this.h(h,"Cells",h.Rp,g,p,k,a,c),"Oscillator"!==h.Eb||h.eg||(k=this.h(h,"ActiveCells",h.Ov,g,p,k,a,c)),k=this.h(h,"BoundingBox",h.gs,g,p,k,a,c),"Oscillator"===h.Eb?(k=this.h(h,"Period",h.Up,g,p,k,a,c),h.eg||(k=this.h(h,"Mod",h.Tp,g,p,k,a,c))):"Still Life"!==h.Eb&&(k=this.h(h,"Direction",h.hs,g,p,k,a,c),k=this.h(h,"Period",h.Up,g,p,k,a,c),h.eg||(k=this.h(h,"Mod",h.Tp,g,p,k,a,c)),k=this.h(h,"Slope",h.js,g,p,k,a,c),k=this.h(h,
"Speed",h.Vp,g,p,k,a,c)),"Still Life"!==h.Eb&&(k=this.h(h,"Heat",h.Sp,g,p,k,a,c)),"Oscillator"!==h.Eb||h.eg||(k=this.h(h,"Temperature",h.Qv,g,p,k,a,c),k=this.h(h,"Volatility",h.ks,g,p,k,a,c)),k=this.h(h,"Generation",h.Pv,g,p,k,a,c));k=this.h(h,"","",g,p,k,a,c);h.ja[u]=[h.da,"Grid"];u+=1;k=this.h(h,"","Grid:",g,p,k,a,c);k=this.h(h,"Size",h.g.width+" x "+h.g.height,g,p,k,a,c);k=this.h(h,"Maximum",h.g.ma+" x "+h.g.ma,g,p,k,a,c);k=this.h(h,"Area",this.ZI(h),g,p,k,a,c);k=0!==(h.g.counter&1)?this.h(h,"Tiles",
h.g.Ll(h.g.qa)+" ["+h.g.Ll(h.g.uf)+"] / "+h.g.Ll(h.g.Ka)+" / "+h.g.Ll(h.g.Da),g,p,k,a,c):this.h(h,"Tiles",h.g.Ll(h.g.ia)+" ["+h.g.Ll(h.g.uf)+"] / "+h.g.Ll(h.g.Ka)+" / "+h.g.Ll(h.g.Da),g,p,k,a,c);h.g.Qf&&(k=this.h(h,"State6",h.g.Ll(h.g.Qf),g,p,k,a,c));k=this.h(h,"Tile Size",(h.g.Vo<<3)+" x "+h.g.Wo,g,p,k,a,c);k=this.h(h,"Generation",h.g.counter,g,p,k,a,c);0!==h.xi&&(k=this.h(h,"AbsoluteGen",h.g.counter+h.xi,g,p,k,a,c));h.g.la&&(k=this.h(h,"MargolusGen",h.g.$f+h.xi,g,p,k,a,c));h.g.N&&(k=this.h(h,"PCAGen",
h.g.$f+h.xi,g,p,k,a,c));(h.g.la||h.g.N)&&h.g.Kc&&(v=h.g.bd,h.g.cd&&(v=!v),k=this.h(h,"Direction",v?"Reverse":"Forward",g,p,k,a,c));k=this.h(h,"DeleteRange",h.g.Ws,g,p,k,a,c);h.g.kj&&(k=this.h(h,"KillGliders",h.g.ts,g,p,k,a,c));k=this.h(h,"","",g,p,k,a,c);-1!==h.g.ya&&(h.ja[u]=[h.da,"Bounded"],u+=1,k=this.h(h,"","Bounded grid:",g,p,k,a,c),k=this.h(h,"Type",h.D.RD(h.g.ya),g,p,k,a,c),k=0===h.g.Ca?this.h(h,"Width","Infinite",g,p,k,a,c):this.h(h,"Width",h.g.Ca,g,p,k,a,c),4!==h.g.ya&&(k=0===h.g.xa?this.h(h,
"Height","Infinite",g,p,k,a,c):this.h(h,"Height",h.g.xa,g,p,k,a,c),2===h.g.ya&&(k=h.g.tu?this.h(h,"Twist","Horizontal",g,p,k,a,c):this.h(h,"Twist","Vertical",g,p,k,a,c)),0!==h.g.Dn&&(k=this.h(h,"H'Shift",h.g.Dn,g,p,k,a,c)),0!==h.g.En&&(k=this.h(h,"V'Shift",h.g.En,g,p,k,a,c))),k=this.h(h,"","",g,p,k,a,c));h.ja[u]=[h.da,"AutoFit"];u+=1;k=this.h(h,"","AutoFit:",g,p,k,a,c);k=this.h(h,"Enabled",h.zc?"On":"Off",g,p,k,a,c);k=this.h(h,"Mode",this.gJ(h),g,p,k,a,c);k=this.h(h,"","",g,p,k,a,c);h.ja[u]=[h.da,
"Track"];u+=1;k=this.h(h,"","Track:",g,p,k,a,c);k=this.h(h,"Enabled",h.oe&&!h.vf?"On":"Off",g,p,k,a,c);h.oe&&(h.ap?(k=this.h(h,"Mode","Track Box",g,p,k,a,c),k=this.h(h,"Definition","E "+h.qn.toFixed(3)+"  S "+h.rn.toFixed(3)+"  W "+h.cp.toFixed(3)+"  N "+h.bp.toFixed(3),g,p,k,a,c)):(k=this.h(h,"Mode","Track",g,p,k,a,c),k=this.h(h,"Definition","X "+h.qn.toFixed(3)+"  Y "+h.rn.toFixed(3),g,p,k,a,c)));k=this.h(h,"Current","E "+h.Eu.toFixed(3)+"  S "+h.Gu.toFixed(3)+"  W "+h.Hu.toFixed(3)+"  N "+h.Fu.toFixed(3),
g,p,k,a,c);k=this.h(h,"","",g,p,k,a,c);h.ja[u]=[h.da,"Undo/Redo"];u+=1;k=this.h(h,"","Undo/Redo:",g,p,k,a,c);k=this.h(h,"Enabled",h.Pd?"Off":"On",g,p,k,a,c);if(!h.Pd)for(k=this.h(h,"Snapshots",h.g.Tg.OO()+"/"+h.g.Tg.ij.length,g,p,k,a,c),k=this.h(h,"Buffer",(h.g.Tg.bufferSize()>>10)+"K",g,p,k,a,c),k=this.h(h,"Next Gen",h.g.jo,g,p,k,a,c),k=this.h(h,"Undo",h.vc,g,p,k,a,c),k=this.h(h,"Redo",h.mo-h.vc,g,p,k,a,c),d=0;9>=d;d+=1)null!==h.Nf[d]&&(k=this.h(h,"Clip "+d+(d===h.Ag?"*":""),h.Nf[d].width+" x "+
h.Nf[d].height,g,p,k,a,c));k=this.h(h,"","",g,p,k,a,c);h.ja[u]=[h.da,"Engine"];u+=1;k=this.h(h,"","Engine:",g,p,k,a,c);k=this.h(h,"Name",ViewConstants.xH,g,p,k,a,c);k=this.h(h,"Build",ViewConstants.sx,g,p,k,a,c);k=this.h(h,"Author",ViewConstants.wH,g,p,k,a,c);k=this.h(h,"Decoders","RLE, Life 1.06, Life 1.05, Cells",g,p,k,a,c);k=this.h(h,"N'hoods","Moore, Hexagonal, von Neumann, Triangular, 1D,",g,p,k,a,c);k=this.h(h," ","Circular, Cross, L2, Saltire, Star, Checkerboard,",g,p,k,a,c);k=this.h(h," ",
"Hash, Tripod, Asterisk, Custom (CoordCA)",g,p,k,a,c);k=this.h(h,"Rules","Wolfram, Totalistic, Generations, Margolus,",g,p,k,a,c);k=this.h(h," ","Isotropic Non-Totalistic (Hensel, Callahan),",g,p,k,a,c);k=this.h(h," ","Alternating, MAP, Larger than Life (LtL),",g,p,k,a,c);k=this.h(h," ","Higher-range outer-totalistic (HROT), Gaussian,",g,p,k,a,c);k=this.h(h," ","Partitioned cellular automata (PCA), Weighted,",g,p,k,a,c);k=this.h(h," ","[R]History, [R]Super",g,p,k,a,c);k=this.h(h,"Repository","RuleTable (@TABLE, @TREE, @COLORS and @NAMES)",
g,p,k,a,c);k=this.h(h,"BoundedGrid","Plane, Torus, Klein, Cross-surface, Sphere",g,p,k,a,c);k=this.h(h,"Viewers",m,g,p,k,a,c);k=this.h(h,"Playing",Controller.YO(),g,p,k,a,c);if(DocConfig.Va){v=Controller.Ce.length;k=this.h(h,"Universe","Multi ("+(h.fd+1)+" of "+v+")",g,p,k,a,c);h.Wg=!0;for(d=0;d<v;d+=1)k=this.h(h,String(d+1)+(d===h.fd?"*":""),Controller.Ce[d].name,g,p,k,a,c),k=this.h(h," ",Controller.Ce[d].wN,g,p,k,a,c),k=this.h(h," ",Controller.Ce[d].width+" x "+Controller.Ce[d].height,g,p,k,a,c);
h.Wg=!1}else k=this.h(h,"Universe","Single",g,p,k,a,c);k=this.h(h,"Exclusive",h.jv?"Yes":"No",g,p,k,a,c);k=this.h(h,"IgnorePause",h.Wr?"Yes":"No",g,p,k,a,c);k=this.h(h,"Endian",littleEndian?"Little":"Big",g,p,k,a,c);k=this.h(h,"ArrayFill",arrayFill?"Yes":"No",g,p,k,a,c);k=this.h(h,"ArraySlice",arraySlice?"Yes":"No",g,p,k,a,c);k=this.h(h,"CopyWithin",copyWithin?"Yes":"No",g,p,k,a,c);k=this.h(h,"","",g,p,k,a,c);h.fa[1]=300;h.fa[2]=380;h.fa[3]=460;h.ja[u]=[h.da,"Rule Cache"];u+=1;k=this.h(h,"","Rule Cache:",
g,p,k,a,c);k=this.h(h,"Entries",RuleTreeCache.rules.length,g,p,k,a,c);if(0<RuleTreeCache.rules.length)for(k=this.h(h,"Entry","Name\tSize Kb\tFetch\tDecode",g,p,k,a,c),d=0;d<RuleTreeCache.rules.length;d+=1)r=RuleTreeCache.rules[d].name,17<r.length&&(r=r.substr(0,17)+"*"),k=this.h(h,String(d),r+"\t"+(RuleTreeCache.Zv[d].size>>10)+"\t"+RuleTreeCache.Zv[d].fetch+"ms\t"+RuleTreeCache.Zv[d].decode+"ms",g,p,k,a,c);k=this.h(h,"","",g,p,k,a,c);h.fa[1]=210;h.fa[2]=270;h.fa[3]=330;if(h.g.Pa)for(h.ja[u]=[h.da,
"Colours"],u+=1,k=this.h(h,"","Set:",g,p,k,a,c),k=this.h(h,"Name",h.hr,g,p,k,a,c),k=this.h(h,"Used",h.Fs,g,p,k,a,c),d=0;d<h.Ln.length;d+=1)h.Ln[d]!==ViewConstants.lC&&(m=this.nc(n[d]>>16&255,n[d]>>8&255,n[d]&255),r=String(d),h.Ln[d]!==ViewConstants.aH||h.ju||(r+="*"),this.ab(h,n[d]>>16,n[d]>>8&255,n[d]&255,g,p+h.fa[0]*y,k,a,c),k=this.h(h,r,m,g,p,k,a,c));else{h.ja[u]=[h.da,"Theme"];u+=1;k=this.h(h,"","Theme:",g,p,k,a,c);h.g.ga||h.g.T||(k=this.h(h,"Name",h.g.lb[h.g.Df].name,g,p,k,a,c),k=this.h(h,"History",
h.O,g,p,k,a,c),k=this.h(h,"Age",h.dj,g,p,k,a,c));this.ab(h,h.g.Sa[0],h.g.Ra[0],h.g.Qa[0],g,p+h.fa[0]*y,k,a,c);k=this.h(h,"Background",this.nc(h.g.Sa[0],h.g.Ra[0],h.g.Qa[0]),g,p,k,a,c);if(h.g.Pa||h.g.ga)for(d=1;d<h.g.i;d+=1)this.ab(h,h.g.Sa[d],h.g.Ra[d],h.g.Qa[d],g,p+h.fa[0]*y,k,a,c),k=this.h(h,"State "+d,this.nc(h.g.Sa[d],h.g.Ra[d],h.g.Qa[d]),g,p,k,a,c);else if(h.g.N){for(d=1;16>d;d+=1)e=d+h.O,this.ab(h,h.g.Sa[e],h.g.Ra[e],h.g.Qa[e],g,p+h.fa[0]*y,k,a,c),r="",d&1&&(r+="N"),d&2&&(r+="E"),d&4&&(r+="S"),
d&8&&(r+="W"),k=this.h(h,r,this.nc(h.g.Sa[e],h.g.Ra[e],h.g.Qa[e]),g,p,k,a,c);0<h.O&&(e=h.O,this.ab(h,h.g.Sa[e],h.g.Ra[e],h.g.Qa[e],g,p+h.fa[0]*y,k,a,c),k=this.h(h,"Dead",this.nc(h.g.Sa[e],h.g.Ra[e],h.g.Qa[e]),g,p,k,a,c),1<h.O&&(e=1,this.ab(h,h.g.Sa[e],h.g.Ra[e],h.g.Qa[e],g,p+h.fa[0]*y,k,a,c),k=this.h(h,"DeadRamp",this.nc(h.g.Sa[e],h.g.Ra[e],h.g.Qa[e]),g,p,k,a,c)))}else if(2<h.g.i)if(h.g.T)for(d=1;d<h.g.i;d+=1)this.ab(h,h.g.Sa[d],h.g.Ra[d],h.g.Qa[d],g,p+h.fa[0]*y,k,a,c),k=this.h(h,this.mO(d),this.nc(h.g.Sa[d],
h.g.Ra[d],h.g.Qa[d]),g,p,k,a,c);else{e=h.g.i+h.O-1;this.ab(h,h.g.Sa[e],h.g.Ra[e],h.g.Qa[e],g,p+h.fa[0]*y,k,a,c);k=this.h(h,"Alive",this.nc(h.g.Sa[e],h.g.Ra[e],h.g.Qa[e]),g,p,k,a,c);for(d=1;d<h.g.i-1;d+=1)e=h.g.i-d+h.O-1,this.ab(h,h.g.Sa[e],h.g.Ra[e],h.g.Qa[e],g,p+h.fa[0]*y,k,a,c),k=this.h(h,"Dying "+d,this.nc(h.g.Sa[e],h.g.Ra[e],h.g.Qa[e]),g,p,k,a,c);0<h.O&&(e=h.O,this.ab(h,h.g.Sa[e],h.g.Ra[e],h.g.Qa[e],g,p+h.fa[0]*y,k,a,c),k=this.h(h,"Dead",this.nc(h.g.Sa[e],h.g.Ra[e],h.g.Qa[e]),g,p,k,a,c),1<h.O&&
(e=1,this.ab(h,h.g.Sa[e],h.g.Ra[e],h.g.Qa[e],g,p+h.fa[0]*y,k,a,c),k=this.h(h,"DeadRamp",this.nc(h.g.Sa[e],h.g.Ra[e],h.g.Qa[e]),g,p,k,a,c)))}else this.ab(h,q.yb.Z.red,q.yb.Z.green,q.yb.Z.blue,g,p+h.fa[0]*y,k,a,c),k=this.h(h,"Alive",this.ng(q.yb.Z),g,p,k,a,c),q.yb.Z.red!==q.yb.aa.red||q.yb.Z.green!==q.yb.aa.green||q.yb.Z.blue!==q.yb.aa.blue?(this.ab(h,q.yb.aa.red,q.yb.aa.green,q.yb.aa.blue,g,p+h.fa[0]*y,k,a,c),k=this.h(h,"AliveRamp",this.ng(q.yb.aa),g,p,k,a,c)):k=this.h(h,"AliveRamp","    (none)",g,
p,k,a,c),0<h.O&&(this.ab(h,q.mb.aa.red,q.mb.aa.green,q.mb.aa.blue,g,p+h.fa[0]*y,k,a,c),k=this.h(h,"Dead",this.ng(q.mb.aa),g,p,k,a,c),1<h.O&&(q.mb.Z.red!==q.mb.aa.red||q.mb.Z.green!==q.mb.aa.green||q.mb.Z.blue!==q.mb.aa.blue?(this.ab(h,q.mb.Z.red,q.mb.Z.green,q.mb.Z.blue,g,p+h.fa[0]*y,k,a,c),k=this.h(h,"DeadRamp",this.ng(q.mb.Z),g,p,k,a,c)):k=this.h(h,"DeadRamp","    (none)",g,p,k,a,c)));if(h.g.Ea)for(d=3;6>=d;d+=1)v=128+ViewConstants.Za[d],m=this.nc(h.g.Sa[v],h.g.Ra[v],h.g.Qa[v]),r=ViewConstants.Zh[d],
this.ab(h,h.g.Sa[v],h.g.Ra[v],h.g.Qa[v],g,p+h.fa[0]*y,k,a,c),k=this.h(h,r,m,g,p,k,a,c)}-1!==h.g.lc&&(this.ab(h,h.am[0],h.am[1],h.am[2],g,p+h.fa[0]*y,k,a,c),k=this.h(h,"Bounded",this.nc(h.am[0],h.am[1],h.am[2]),g,p,k,a,c));this.ab(h,h.$l[0],h.$l[1],h.$l[2],g,p+h.fa[0]*y,k,a,c);k=this.h(h,"Boundary",this.nc(h.$l[0],h.$l[1],h.$l[2]),g,p,k,a,c);h.Mh&&(this.ab(h,h.Mh[0],h.Mh[1],h.Mh[2],g,p+h.fa[0]*y,k,a,c),k=this.h(h,"Text",this.nc(h.Mh[0],h.Mh[1],h.Mh[2]),g,p,k,a,c));h.al&&(this.ab(h,h.al[0],h.al[1],
h.al[2],g,p+h.fa[0]*y,k,a,c),k=this.h(h,"Error",this.nc(h.al[0],h.al[1],h.al[2]),g,p,k,a,c));this.ab(h,h.dm[0],h.dm[1],h.dm[2],g,p+h.fa[0]*y,k,a,c);k=this.h(h,"Select",this.nc(h.dm[0],h.dm[1],h.dm[2]),g,p,k,a,c);this.ab(h,h.cm[0],h.cm[1],h.cm[2],g,p+h.fa[0]*y,k,a,c);k=this.h(h,"Paste",this.nc(h.cm[0],h.cm[1],h.cm[2]),g,p,k,a,c);this.ab(h,h.Zl[0],h.Zl[1],h.Zl[2],g,p+h.fa[0]*y,k,a,c);k=this.h(h,"Advance",this.nc(h.Zl[0],h.Zl[1],h.Zl[2]),g,p,k,a,c);k=this.h(h,"","",g,p,k,a,c);h.ja[u]=[h.da,"Gridlines"];
u+=1;k=this.h(h,"","Gridlines:",g,p,k,a,c);r=h.g.ic?"On":"Off";h.g.ic&&!h.g.Hh()&&(r+=" (Hidden)");k=this.h(h,"Enabled",r,g,p,k,a,c);this.ab(h,h.g.Md>>16,h.g.Md>>8&255,h.g.Md&255,g,p+h.fa[0]*y,k,a,c);k=this.h(h,"Line Color",this.nc(h.g.Md>>16,h.g.Md>>8&255,h.g.Md&255),g,p,k,a,c);this.ab(h,h.g.cg>>16,h.g.cg>>8&255,h.g.cg&255,g,p+h.fa[0]*y,k,a,c);k=this.h(h,"Major Color",this.nc(h.g.cg>>16,h.g.cg>>8&255,h.g.cg&255),g,p,k,a,c);r=0<h.g.pf&&h.g.ll?String(h.g.pf):"Off";k=this.h(h,"Interval",r,g,p,k,a,c);
k=this.h(h,"","",g,p,k,a,c);h.ja[u]=[h.da,"Graph"];u+=1;k=this.h(h,"","Population Graph:",g,p,k,a,c);k=this.h(h,"Enabled",h.ad?"On":"Off",g,p,k,a,c);k=this.h(h,"Disabled",h.Dc?"On":"Off",g,p,k,a,c);k=this.h(h,"Mode",h.lh?"Lines":"Points",g,p,k,a,c);k=this.h(h,"Opacity",h.wd.toFixed(2),g,p,k,a,c);this.ab(h,h.g.sj[0],h.g.sj[1],h.g.sj[2],g,p+h.fa[0]*y,k,a,c);k=this.h(h,"Bg Color",this.nc(h.g.sj[0],h.g.sj[1],h.g.sj[2]),g,p,k,a,c);this.ab(h,h.g.rj[0],h.g.rj[1],h.g.rj[2],g,p+h.fa[0]*y,k,a,c);k=this.h(h,
"Axis Color",this.nc(h.g.rj[0],h.g.rj[1],h.g.rj[2]),g,p,k,a,c);this.ab(h,h.g.qj[0],h.g.qj[1],h.g.qj[2],g,p+h.fa[0]*y,k,a,c);k=this.h(h,"Alive Color",this.nc(h.g.qj[0],h.g.qj[1],h.g.qj[2]),g,p,k,a,c);this.ab(h,h.g.tj[0],h.g.tj[1],h.g.tj[2],g,p+h.fa[0]*y,k,a,c);k=this.h(h,"Birth Color",this.nc(h.g.tj[0],h.g.tj[1],h.g.tj[2]),g,p,k,a,c);this.ab(h,h.g.uj[0],h.g.uj[1],h.g.uj[2],g,p+h.fa[0]*y,k,a,c);k=this.h(h,"Death Color",this.nc(h.g.uj[0],h.g.uj[1],h.g.uj[2]),g,p,k,a,c);k=this.h(h,"","",g,p,k,a,c);h.ja[u]=
[h.da,"Randomize"];u+=1;k=this.h(h,"","Randomize:",g,p,k,a,c);k=this.h(h,"Pattern",h.Jw?"On":"Off",g,p,k,a,c);k=this.h(h,"Custom Seed",h.AB?"On":"Off",g,p,k,a,c);k=this.h(h,"Seed",h.Gw,g,p,k,a,c);k=this.h(h,"Width",h.Iw,g,p,k,a,c);k=this.h(h,"Height",h.Cw,g,p,k,a,c);k=this.h(h,"Fill",h.Aw+"%",g,p,k,a,c);k=this.h(h,"Rule Fixed",h.Us?"Yes":"No",g,p,k,a,c);if(!h.Us)if(h.g.la||h.g.N)k=this.h(h,"Reversible",h.Ew?"Only":"Any",g,p,k,a,c),k=this.h(h,"FixedPop",h.Hw?"Yes":"No",g,p,k,a,c);else if(!h.g.sa&&
-1===h.g.Vd){if(-1===h.wl&&-1===h.Wm){k=this.h(h,"Chance ALL"+(-1===h.vl?"*":""),-1===h.vl?"50%":h.vl+"%",g,p,k,a,c);v=!1;for(d=0;d<h.Wh.length;d+=2)0===h.Wh[d]&&(v=!0);v||(k=this.h(h,"Chance B0*","25%",g,p,k,a,c))}else k=this.h(h,"Chance B"+(-1===h.wl?"*":""),-1===h.wl?"50%":h.wl+"%",g,p,k,a,c),k=this.h(h,"Chance S"+(-1===h.Wm?"*":""),-1===h.Wm?"50%":h.Wm+"%",g,p,k,a,c);for(d=0;d<h.Wh.length;d+=2)k=this.h(h,"Chance B"+h.Wh[d],h.Wh[d+1]+"%",g,p,k,a,c);for(d=0;d<h.Jj.length;d+=2)k=this.h(h,"Chance S"+
h.Jj[d],h.Jj[d+1]+"%",g,p,k,a,c)}k=this.h(h,"","",g,p,k,a,c);h.ja[u]=[h.da,"Stars"];u+=1;k=this.h(h,"","Stars:",g,p,k,a,c);k=this.h(h,"Enabled",h.Li?"On":"Off",g,p,k,a,c);this.ab(h,h.Gl.red,h.Gl.green,h.Gl.blue,g,p+h.fa[0]*y,k,a,c);k=this.h(h,"Color",this.ng(h.Gl),g,p,k,a,c);k=this.h(h,"","",g,p,k,a,c);h.ja[u]=[h.da,"Script"];u+=1;k=this.h(h,"","Script:",g,p,k,a,c);k=this.h(h,"Commands",h.no,g,p,k,a,c);k=this.h(h,"Errors",h.FA,g,p,k,a,c);if(h.Wc)for(k=this.h(h,"","",g,p,k,a,c),h.ja[u]=[h.da,"Waypoints"],
u+=1,k=this.h(h,"","Waypoints:",g,p,k,a,c),k=this.h(h,"Enabled",h.He?"Off":"On",g,p,k,a,c),k=this.h(h,"Number",h.X.Ua.length,g,p,k,a,c),d=0;d<h.X.Ua.length;d+=1)r=String(d),d===h.X.Pi&&(r=h.X.OD(h.elapsedTime)?r+">":r+"*"),k=this.h(h,r,h.X.ZO(d),g,p,k,a,c);if(h.X.uc.length)for(k=this.h(h,"","",g,p,k,a,c),h.ja[u]=[h.da,"POIs"],k=this.h(h,"","Points of interest:",g,p,k,a,c),k=this.h(h,"Number",h.X.uc.length,g,p,k,a,c),d=0;d<h.X.uc.length;d+=1)r=String(d+1),d===h.Zg&&(r+="*"),d===h.Mn&&(r+=" INITIAL"),
v=!1,n=h.X.xM(d),""!==n&&(k=this.h(h,v?" ":r,(v?"  ":"")+n,g,p,k,a,c),v=!0),n=h.X.BM(d),""!==n&&(k=this.h(h,v?" ":r,(v?"  ":"")+n,g,p,k,a,c),v=!0),n=h.X.yM(d),""!==n&&(k=this.h(h,v?" ":r,(v?"  ":"")+n,g,p,k,a,c),v=!0),n=h.X.nG(d),""!==n&&(k=this.h(h,v?" ":r,(v?"  ":"")+n,g,p,k,a,c),v=!0),n=h.X.AM(d),""!==n&&(k=this.h(h,v?" ":r,(v?"  ":"")+n,g,p,k,a,c),v=!0),n=h.X.zM(d),""!==n&&(k=this.h(h,v?" ":r,(v?"  ":"")+n,g,p,k,a,c))},hN:function(h,g,p,k,a,c){var d,e=0,m=h.s.Ie;h.da=1;h.Wg=!1;h.ja=[];h.fa[0]=
130;h.fa[1]=200;h.fa[2]=250;h.fa[3]=300;h.ja[e]=[h.da,"Top"];e+=1;k=this.h(h,"","Themes",g,p,k,a,c);k=this.h(h,"","",g,p,k,a,c);k=this.h(h,"","Themes are used to provide a visual representation of",g,p,k,a,c);k=this.h(h,"","cell history and longevity and also define grid colours",g,p,k,a,c);k=this.h(h,"","",g,p,k,a,c);h.ja[e]=[h.da,"Grid"];e+=1;k=this.h(h,"","Grid:",g,p,k,a,c);k=this.h(h,"GRID","grid line colour",g,p,k,a,c);k=this.h(h,"GRIDMAJOR","major grid line colour and interval",g,p,k,a,c);k=
this.h(h,"","",g,p,k,a,c);h.ja[e]=[h.da,"2-State"];e+=1;k=this.h(h,"","Two-state Themes:",g,p,k,a,c);k=this.h(h,"BACKGROUND","cell never occupied",g,p,k,a,c);k=this.h(h,"ALIVE","cell just born",g,p,k,a,c);k=this.h(h,"ALIVERAMP","cell alive for several generations",g,p,k,a,c);k=this.h(h,"DEAD","cell just died",g,p,k,a,c);k=this.h(h,"DEADRAMP","cell dead for several generations",g,p,k,a,c);k=this.h(h,"","",g,p,k,a,c);k=this.h(h,"",LifeConstants.ff-LifeConstants.Hb+1+" states from ALIVE to ALIVERAMP",
g,p,k,a,c);k=this.h(h,"",h.O+" (HISTORYSTATES) states from DEAD to DEADRAMP",g,p,k,a,c);for(d=0;d<h.g.lb.length-1;d+=1){k=this.h(h,"","",g,p,k,a,c);var n=h.g.lb[d];k=this.h(h,"Name"+(d===h.g.Df&&2>=h.g.i?"*":""),n.name,g,p,k,a,c);this.ab(h,n.hb.red,n.hb.green,n.hb.blue,g,p+h.fa[0]*m,k,a,c);k=this.h(h,"BACKGROUND",this.ng(n.hb),g,p,k,a,c);this.ab(h,n.yb.Z.red,n.yb.Z.green,n.yb.Z.blue,g,p+h.fa[0]*m,k,a,c);k=this.h(h,"ALIVE",this.ng(n.yb.Z),g,p,k,a,c);if(n.yb.Z.red!==n.yb.aa.red||n.yb.Z.green!==n.yb.aa.green||
n.yb.Z.blue!==n.yb.aa.blue)this.ab(h,n.yb.aa.red,n.yb.aa.green,n.yb.aa.blue,g,p+h.fa[0]*m,k,a,c),k=this.h(h,"ALIVERAMP",this.ng(n.yb.aa),g,p,k,a,c);this.ab(h,n.mb.aa.red,n.mb.aa.green,n.mb.aa.blue,g,p+h.fa[0]*m,k,a,c);k=this.h(h,"DEAD",this.ng(n.mb.aa),g,p,k,a,c);if(n.mb.Z.red!==n.mb.aa.red||n.mb.Z.green!==n.mb.aa.green||n.mb.Z.blue!==n.mb.aa.blue)this.ab(h,n.mb.Z.red,n.mb.Z.green,n.mb.Z.blue,g,p+h.fa[0]*m,k,a,c),k=this.h(h,"DEADRAMP",this.ng(n.mb.Z),g,p,k,a,c);n.kl&&(this.ab(h,n.Ph>>16,n.Ph>>8&255,
n.Ph&255,g,p+h.fa[0]*m,k,a,c),k=this.h(h,"GRID",this.nc(n.Ph>>16,n.Ph>>8&255,n.Ph&255),g,p,k,a,c),this.ab(h,n.Qh>>16,n.Qh>>8&255,n.Qh&255,g,p+h.fa[0]*m,k,a,c),k=this.h(h,"GRIDMAJOR",this.nc(n.Qh>>16,n.Qh>>8&255,n.Qh&255),g,p,k,a,c),k=this.h(h,"GRIDMAJOR",n.nm,g,p,k,a,c))}k=this.h(h,"","",g,p,k,a,c);h.ja[e]=[h.da,"Multi"];k=this.h(h,"","Multi-state Themes:",g,p,k,a,c);k=this.h(h,"BACKGROUND","cell never occupied",g,p,k,a,c);k=this.h(h,"ALIVE","cell alive",g,p,k,a,c);k=this.h(h,"DYING","cell just starting dying",
g,p,k,a,c);k=this.h(h,"DYINGRAMP","cell about to die",g,p,k,a,c);k=this.h(h,"DEAD","cell just died",g,p,k,a,c);k=this.h(h,"DEADRAMP","cell dead for several generations",g,p,k,a,c);k=this.h(h,"","",g,p,k,a,c);k=this.h(h,"","Rule defines "+(2>h.g.i?"":String(h.g.i-1)+" ")+"states from DYING to DYINGRAMP",g,p,k,a,c);k=this.h(h,"",h.O+" (HISTORYSTATES) states from DEAD to DEADRAMP",g,p,k,a,c);for(d=0;d<h.g.lb.length-1;d+=1){k=this.h(h,"","",g,p,k,a,c);n=h.g.lb[d];k=this.h(h,"Name"+(d===h.g.Df&&2<h.g.i?
"*":""),n.name,g,p,k,a,c);this.ab(h,n.Si.red,n.Si.green,n.Si.blue,g,p+h.fa[0]*m,k,a,c);k=this.h(h,"BACKGROUND",this.ng(n.Si),g,p,k,a,c);this.ab(h,n.wg.red,n.wg.green,n.wg.blue,g,p+h.fa[0]*m,k,a,c);k=this.h(h,"ALIVE",this.ng(n.wg),g,p,k,a,c);this.ab(h,n.ac.aa.red,n.ac.aa.green,n.ac.aa.blue,g,p+h.fa[0]*m,k,a,c);k=this.h(h,"DYING",this.ng(n.ac.aa),g,p,k,a,c);if(n.ac.Z.red!==n.ac.aa.red||n.ac.Z.green!==n.ac.aa.green||n.ac.Z.blue!==n.ac.aa.blue)this.ab(h,n.ac.Z.red,n.ac.Z.green,n.ac.Z.blue,g,p+h.fa[0]*
m,k,a,c),k=this.h(h,"DYINGRAMP",this.ng(n.ac.Z),g,p,k,a,c);this.ab(h,n.Jc.aa.red,n.Jc.aa.green,n.Jc.aa.blue,g,p+h.fa[0]*m,k,a,c);k=this.h(h,"DEAD",this.ng(n.Jc.aa),g,p,k,a,c);if(n.Jc.Z.red!==n.Jc.aa.red||n.Jc.Z.green!==n.Jc.aa.green||n.Jc.Z.blue!==n.Jc.aa.blue)this.ab(h,n.Jc.Z.red,n.Jc.Z.green,n.Jc.Z.blue,g,p+h.fa[0]*m,k,a,c),k=this.h(h,"DEADRAMP",this.ng(n.Jc.Z),g,p,k,a,c)}},$M:function(h,g,p,k,a,c){var d,e=ColourManager.zg,m=Object.keys(e),n=h.s.Ie;h.da=1;h.Wg=!1;h.ja=[];h.fa[0]=260;h.fa[1]=330;
h.fa[2]=380;h.fa[3]=h.I;h.ja[0]=[h.da,"Top"];k=this.h(h,"","Colours",g,p,k,a,c);k=this.h(h,"","",g,p,k,a,c);k=this.h(h,"","The following names can be used in place of R G B",g,p,k,a,c);k=this.h(h,"","for example [[ COLOUR ALIVE Green ]]",g,p,k,a,c);k=this.h(h,"","",g,p,k,a,c);for(d=0;d<m.length;d+=1){var q=e[m[d]];this.ab(h,q[1],q[2],q[3],g,p+h.fa[0]*n,k,a,c);k=this.h(h,q[0],this.nc(q[1],q[2],q[3]),g,p,k,a,c)}},YM:function(h,g,p,k,a,c){var d,e=0,m=AliasManager.Hc,n=AliasManager.YB;h.da=1;h.Wg=!1;
h.ja=[];h.fa[0]=260;h.ja[e]=[h.da,"Top"];e+=1;k=this.h(h,"","Aliases",g,p,k,a,c);k=this.h(h,"","",g,p,k,a,c);k=this.h(h,"","Alias names can be used as rule names in RLE",g,p,k,a,c);k=this.h(h,"","for example 'rule = HighLife'",g,p,k,a,c);k=this.h(h,"","",g,p,k,a,c);k=this.h(h,"","* denotes duplicate definition",g,p,k,a,c);k=this.h(h,"","+ denotes duplicate alias name",g,p,k,a,c);h.Wg=!0;for(d=0;d<m.length;d+=1)""===m[d][1]?(k=this.h(h,"","",g,p,k,a,c),h.ja[e]=[h.da,n[e-1]],e+=1,k=this.h(h,"",m[d][0]+
" Aliases:",g,p,k,a,c)):""!==m[d][0]&&(k=this.h(h,m[d][0]+" "+(m[d][2]?"*":"")+(m[d][3]?"+":""),m[d][1],g,p,k,a,c))},fN:function(h,g,p,k,a,c){var d,e=0,m=Controller.Gd.length,n=0,q=0,u=0,y=0,v;h.da=1;h.Wg=!1;h.ja=[];h.fa[0]=128;h.fa[1]=200;h.fa[2]=290;h.fa[3]=530;h.ja[e]=[h.da,"Top"];e+=1;k=this.h(h,"","Memory usage",g,p,k,a,c);k=this.h(h,"","",g,p,k,a,c);if(1<m){h.ja[e]=[h.da,"All"];e+=1;k=this.h(h,"","Memory (all "+m+" LifeViewers):",g,p,k,a,c);for(d=0;d<m;d+=1)if(v=Controller.PK(d))n+=v.g.u.ss,
u+=v.g.u.Zo>>10,q+=v.g.u.us,y+=v.g.u.$o>>10;k=this.h(h,"In Use",n-q+"\t"+((u>>10)-(y>>10))+"M",g,p,k,a,c);k=this.h(h,"Allocations",n+"\t"+(u>>10)+"M",g,p,k,a,c);k=this.h(h,"Frees",q+"\t"+(y>>10)+"M",g,p,k,a,c);k=this.h(h,"","",g,p,k,a,c)}h.ja[e]=[h.da,"Current"];k=this.h(h,"","Memory (this LifeViewer):",g,p,k,a,c);k=this.h(h,"In Use",h.g.u.ss-h.g.u.us+"\t"+this.sy(h.g.u.Zo-h.g.u.$o)+"M\t"+(h.g.u.Zo-h.g.u.$o),g,p,k,a,c);k=this.h(h,"Allocations",h.g.u.ss+"\t"+this.sy(h.g.u.Zo)+"M\t"+h.g.u.Zo,g,p,k,
a,c);k=this.h(h,"Frees",h.g.u.us+"\t"+this.sy(h.g.u.$o)+"M\t"+h.g.u.$o,g,p,k,a,c);k=this.h(h,this.NF("Bytes",10),"Type\tElements\tName\tCount",g,p,k,a,c);for(d=0;d<h.g.u.Eh.length;d+=1)k=this.h(h,this.NF(String(h.g.u.Eh[d].size),10),h.g.u.WI(d),g,p,k,a,c);this.h(h,"","",g,p,k,a,c)},dv:function(h){var g=h.Ec,p=h.s.Ie,k=h.s.xh,a=19*k;h.nd=(h.H/a|0)-6;g.fillStyle="black";g.globalAlpha=.5;g.fillRect(0,0,g.canvas.width,g.canvas.height);g.globalAlpha=1;g.fillStyle=ViewConstants.Mr;this.Bl=2;w.CG(h,g,6*
p,14*k,a,h.ha|0);g.fillStyle=ViewConstants.Ip;this.Bl=0;w.CG(h,g,6*p,14*k,a,h.ha|0)},aN:function(h,g,p,k,a,c,d,e,m,n){var q=e,u=h.s.Ie,y=this.Bl*u,v=this.Bl*h.s.Ie,r=0,B=!1,b=h.da;c.fillStyle===ViewConstants.Mr&&(B=!0);b>=n&&b<=n+h.nd&&(c.font=h.Hp,B||(c.fillStyle=1<(h.hc|0)?h.pj:ViewConstants.ov),c.fillText(g,d+y,e+v),B||(c.fillStyle=h.pj),c.fillText(p,d+y+c.measureText(g).width,e+v),B||(c.fillStyle=(h.hc|0)<h.od.length-h.nd+1?h.pj:ViewConstants.ov),c.fillText(k,d+y+c.measureText(g+p).width,e+v),
h.fa[0]&&(r=h.fa[0]*u),B||(c.fillStyle=h.pj),c.font=h.qm,c.fillText(a,d+y+r,e+v),q+=m);return q},Mw:function(h,g,p,k,a,c,d,e){var m=c,n=h.s.Ie,q=0,u=h.da;u>=e&&u<=e+h.nd&&(g.length&&(k.font=h.Hp,k.fillText(g,a,c),q=k.measureText(g+" ").width),h.fa[0]&&(q=h.fa[0]*n),k.font=h.qm,k.fillText(p,a+q,c),m+=d);h.da+=1;return m},BG:function(h,g,p,k,a,c){var d,e=h.od,m=k;h.da=1;h.fa[0]=0;g.font=h.qm;k=this.Mw(h,"",ViewConstants.LN,g,p,k,a,c);for(d=0;d<e.length;d+=1)k=this.Mw(h,e[d][0],e[d][1],g,p,k,a,c);h.vb||
(h.fa[0]=120,h.da=1,k=m+a*(h.nd+2),k=this.aN(h,"Up"," / ","Down","scroll errors",g,p,k,a,0),k=this.Mw(h,"Esc","clear messages",g,p,k,a,0),this.Mw(h,"H  ","help on script commands",g,p,k,a,0))},kz:function(h){var g=h.Ec,p=h.s.Ie,k=h.s.xh,a=19*k,c=7;h.vb&&(c=1);h.nd=(h.H/a|0)-c;g.fillStyle="black";g.globalAlpha=.5;g.fillRect(0,0,g.canvas.width,g.canvas.height);g.globalAlpha=1;g.fillStyle=ViewConstants.Mr;this.BG(h,g,6*p,14*k,a,h.hc|0);g.fillStyle=h.pj;this.BG(h,g,4*p,12*k,a,h.hc|0)}};window.Help=w}(),
window.Keywords={xd:'"',Io:"[[",Cq:"]]",vB:"QUALITY",gH:"TIME",oC:"SUPPRESS",pw:"POIT",mc:"INITIAL",Yb:"OFF",kC:"STATE1FIT",Ms:"POIRESET",pq:"POIPLAY",qq:"POISTOP",Ns:"POITRANS",lB:"POIADDLABELS",Az:"HARDRESET",rt:"TRACK",ep:"TRACKBOX",qt:"TRACKLOOP",AA:"NOREPORT",nv:"GRAPH",iw:"NOGRAPH",xz:"GRAPHOPACITY",yz:"GRAPHPOINTS",zA:"NOPERFWARNING",Gz:"AUTOHIDEGUI",xg:"ALL",Sh:"LINEAR",hj:"BEZIER",jP:"HEXDISPLAY",rP:"SQUAREDISPLAY",lH:"TRIANGULARCELLS",Bz:"HEXCELLS",bx:"SQUARECELLS",wy:"CELLBORDERS",WE:"INTEGERZOOM",
EB:"RANDOMIZE",BB:"RANDSEED",DB:"RANDWIDTH",yB:"RANDHEIGHT",xB:"RANDFILL",zB:"RANDREVERSIBLE",CB:"RANDFIXEDPOP",yw:"RANDCHANCE",xw:"B",Fw:"S",fz:"DELETERANGE",eC:"SHOWTIMING",rz:"EXTENDEDTIMING",cC:"SHOWGENSTATS",dC:"SHOWINFOBAR",CA:"NOSOURCE",qw:"POI",Lq:"TITLE",tG:"POLY",rw:"POLYFILL",oB:"POLYLINE",mB:"POLYALPHA",pB:"POLYSIZE",qB:"POLYT",nB:"POLYANGLE",rB:"POLYTARGET",sG:"POLYTRACK",Xq:"ARROW",my:"ARROWALPHA",oy:"ARROWSIZE",py:"ARROWT",ny:"ARROWANGLE",qy:"ARROWTARGET",ry:"ARROWTRACK",fs:"LABEL",
Vz:"LABELALPHA",Xz:"LABELSIZE",Yz:"LABELT",Wz:"LABELANGLE",Zz:"LABELTARGET",$z:"LABELTRACK",Ld:"FIXED",kA:"MAXGRIDSIZE",et:"STARS",Kq:"CUSTOM",wx:"XOFFSET",xx:"YOFFSET",hx:"BACKGROUND",gx:"ALIVE",uC:"ALIVERAMP",jx:"DEAD",ix:"DEADRAMP",wC:"DYING",vC:"DYINGRAMP",oH:"UIFOREGROUND",xP:"UIFOREGROUNDA",mH:"UIBACKGROUND",vP:"UIBACKGROUNDA",pH:"UIHIGHLIGHT",yP:"UIHIGHTLIGHTA",sH:"UISELECT",AP:"UISELECTA",qH:"UILOCKED",zP:"UILOCKEDA",nH:"UIBORDER",wP:"UIBORDERA",QD:"BOUNDARY",SD:"BOUNDED",WG:"SELECT",ID:"ADVANCE",
pu:"AUTOFIT",Hz:"HISTORYFIT",Bv:"HISTORYSTATES",iu:"AGESTATES",Qo:"STEP",yA:"NOSTEPBACK",ht:"T",gB:"PAUSE",Ir:"GRID",Hr:"GRIDMAJOR",sC:"TEXT",pz:"ERROR",KF:"OFF",LF:"ON",SE:"HISTORY",gF:"MARK1",kF:"MARKOFF",iF:"MARK2",ZE:"KILL",IE:"GRAPHBG",HE:"GRAPHAXIS",GE:"GRAPHALIVE",JE:"GRAPHBIRTH",KE:"GRAPHDEATH",Oa:"COLOR",Gy:"COLOUR",yt:"VIEWONLY",xA:"NOGUI",wA:"NOCOPY",GC:"THUMBNAIL",BC:"THUMBSIZE",zC:"THUMBLAUNCH",DC:"THUMBSTART",qz:"EXCLUSIVEPLAY",Lz:"IGNOREEXCLUSIVE",Jl:"THEME",zG:"RAINBOW",iC:"STARTFROM",
ru:"AUTOSTART",yj:"LOOP",Vj:"STOP",Rl:"ANGLE",fo:"LAYERS",On:"DEPTH",Xn:"GPS",Xd:"ZOOM",jy:"Z",yf:"X",Af:"Y",Qq:"WIDTH",Gp:"HEIGHT",Ps:"POPUPWIDTH",Os:"POPUPHEIGHT",FC:"THUMBZOOM",DA:"NOTHROTTLE",NB:"REVERSESTART",Uz:"KILLGLIDERS",vq:"RECIPE",Eo:"RLE",jq:"PASTE",Cs:"PASTET",IA:"PASTEDELTA",Br:"EVERY",YA:"PASTEMODE",dB:"ZERO",QA:"AND",LA:"0010",$A:"X",MA:"DIFF",cB:"Y",bB:"XOR",XA:"OR",TA:"NOR",ZA:"XNOR",VA:"NOTY",NA:"1011",UA:"NOTX",OA:"1101",SA:"NAND",WA:"ONE",RA:"COPY",WC:"IDENTITY",TC:"FLIP",UC:"FLIPX",
VC:"FLIPY",ZC:"SWAPXY",$C:"SWAPXYFLIP",YC:"RCW",XC:"RCCW",ug:"#"},function(){window.KeyProcessor={MM:function(w,h,g){var p=!0;if(g.ctrlKey&&82===h)return!0;switch(h){case 13:w.Pk===w.To&&w.bE(w,!0);break;case 84:w.wn([!w.j.Mk],!0,w);break;default:p=!1}return p},NM:function(w,h,g){var p=!0;if(g.ctrlKey||g.metaKey||g.altKey)h=-1;switch(h){case 84:w.wn([!w.j.Mk],!0,w);break;case 27:w.ft(w,!0);break;default:p=!1}return p},PM:function(w,h,g){var p=!0;if(g.ctrlKey||g.metaKey||g.altKey)h=-1;switch(h){case 84:w.wn([!w.j.Mk],
!0,w);break;case 27:case 117:w.Hv(w);break;default:p=!1}return p},pn:function(w,h){w.xk==ViewConstants.ei?w.Rg(h,w):w.xk==h&&w.Rg(ViewConstants.ei,w)},OM:function(w,h,g){var p=!0;if(g.ctrlKey||g.metaKey||g.altKey)h=-1;switch(h){case 84:w.wn([!w.j.Mk],!0,w);break;default:p=!1}return p},LM:function(w,h,g){var p=!0,k=0;if(w.Sc)!w.hw&&85===h&&g.shiftKey&&(w.Sc=!w.Sc,w.s.m=w.Sc,w.j.Sc=w.Sc);else{g.ctrlKey&&!g.altKey&&37<=h&&40>=h&&(37===h?h=33:38===h?h=36:39===h?h=34:40===h&&(h=35));if(g.altKey&&!g.ctrlKey){if(48<=
h&&57>=h)k=h-48,w.qg||0===w.X.uc.length?w.Ag===k?w.ld?w.fB(w):w.jG(w):w.gr.current=w.CH(k,!0,w):(--k,0<=k&&k<w.X.uc.length&&(w.Zg=k,w.aC(w,w.Zg)));else switch(h){case 37:w.Nm(w,-1,0);break;case 38:w.Nm(w,0,-1);break;case 39:w.Nm(w,1,0);break;case 40:w.Nm(w,0,1);break;case 46:w.Dy(w,!0,!0);w.j.notification.notify("Cleared [R]History marked cells",15,120,15,!0);break;case 65:w.An.current=w.kD([!w.kk],!0,w);w.j.notification.notify("Auto-Shrink Selection "+(w.kk?"On":"Off"),15,40,15,!0);break;case 66:w.br.current=
w.BH([!w.g.td],!0,w);break;case 67:w.ud||!w.Qi||w.Qi.locked||(w.an(w.Xu,w.g.Xl,w),w.g.Pa||w.Lk||w.j.notification.notify(w.kx(w.g.Df)+" Theme",15,40,15,!0));break;case 68:w.g.la&&(w.yn.current=w.yH([!w.g.Pl],!0,w),w.j.notification.notify("Alternating Gridlines "+(w.g.Pl?"On":"Off"),15,40,15,!0));break;case 71:w.g.Ea||-1===w.g.i?w.zJ(w):w.g.T?w.j.notification.notify("Rule is already [R]Super",15,120,15,!0):w.j.notification.notify("Unsupported rule for [R]Super",15,120,15,!0);break;case 72:-1===w.g.i||
w.g.T?w.xJ(w):w.g.Ea?w.j.notification.notify("Rule is already [R]History",15,120,15,!0):w.j.notification.notify("Unsupported rule for [R]History",15,120,15,!0);break;case 74:w.g.Ea||w.g.T?w.yJ(w):-1===w.g.i?w.j.notification.notify("Rule is already [R]Standard",15,120,15,!0):w.j.notification.notify("Unsupported rule for [R]Standard",15,120,15,!0);break;case 75:w.Cd.current!==ViewConstants.Fm&&(w.Cd.current=w.Tk(ViewConstants.Fm,!0,w));w.Ls=!0;w.Vh.current=w.Rk([!0],!0,w);break;case 76:0<w.X.lo()&&
(w.xm.current=w.GH([!w.Ki],!0,w),w.j.notification.notify("Annotations "+(w.Ki?"On":"Off"),15,40,15,!0));break;case 78:w.FF(w);break;case 79:w.gf&&(w.yg=!w.yg,w.Bn.current=[w.yg],w.j.notification.notify("AutoStart "+(w.yg?"Off":"On"),15,40,15,!0));break;case 80:-1!==w.dc&&(w.Ze=!w.Ze,w.mn.current=[w.Ze],w.j.notification.notify("Stop "+(w.Ze?"Off":"On"),15,40,15,!0));break;case 82:w.WD(w);break;case 83:w.up.current=w.lD([!w.Jh],!0,w);w.j.notification.notify("Sync Clipboard "+(w.Jh?"On":"Off"),15,40,
15,!0);break;case 84:w.on.current=w.KC([!w.Ul],!0,w);w.j.notification.notify("Throttling "+(w.Ul?"On":"Off"),15,40,15,!0);break;case 85:w.pp.current=w.AH([!w.Bi],!0,w);w.j.notification.notify("AutoHide UI "+(w.Bi?"On":"Off"),15,80,15,!0);break;case 87:2<w.g.i||w.g.sa||w.g.N||w.g.Ea||w.g.T||w.g.ga||w.g.la||(w.rq.current=w.JH([!w.g.Qd],!0,w));break;case 88:w.AE(w);break;case 89:w.BE(w);break;case 90:w.tq.locked||w.Dw(w,!1)}h=-2}switch(h){case 191:case 111:w.g.S?(w.wj.current=w.nD([!w.g.sc],!0,w),w.j.notification.notify("Hexagonal display uses "+
(w.g.sc?"Rectangles":"Hexagons"),15,120,15,!0)):w.g.R&&(w.wj.current=w.nD([!w.g.sc],!0,w),w.j.notification.notify("Triangular display uses "+(w.g.sc?"Rectangles":"Triangles"),15,120,15,!0));break;case 8:0!==w.ha?w.xk!==ViewConstants.ei?w.Rg(ViewConstants.ei,w):(w.ha=0,w.wk.current=w.Xo([w.ha],!0,w),w.j.Uf=!0):w.Oc.current[0]?(w.$q(w),w.j.Uf=!0):w.Ta||w.Bb.Hg[1]||(k=w.Ha,w.Ha=1,w.Bb.current=w.Fd(ViewConstants.Yp,!0,w),w.Ha=k);break;case 66:g.ctrlKey?w.DJ(w):g.shiftKey?(w.ol.current=[!w.ol.current[0]],
w.j.Uf=!0):w.Ta||w.Bb.Hg[1]||(k=w.Ha,w.Ha=1,w.Bb.current=w.Fd(ViewConstants.Yp,!0,w),w.Ha=k);break;case 13:w.ld||w.zd?w.qM(w):w.Ta||(w.Bb.current===ViewConstants.Dk?w.Bb.current=w.Fd(ViewConstants.Dk,!0,w):w.ge&&w.j.Nc||(w.Bb.current=w.Fd(ViewConstants.Dk,!0,w)));break;case 9:w.Ta||(w.eb?w.Bb.current=w.Fd(ViewConstants.Te,!0,w):g.shiftKey?(w.g.la||w.g.N)&&null!==w.g.Kc?w.Bb.current=w.Fd(ViewConstants.Yp,!0,w):0<w.g.counter&&(w.Ys(w.g.counter-w.Ha),w.Yw(w.g.counter-w.Ha+1)):(w.Hi=!0,w.qb("")));break;
case 32:w.Ta||(w.eb?w.Bb.current=w.Fd(ViewConstants.Te,!0,w):g.ctrlKey||g.shiftKey?w.vK(w,g.shiftKey):(w.Hi=!0,w.fC=!0,w.qb("")));break;case 87:g.shiftKey?(w.cn.current=w.HC([!w.Hj],!0,w),w.j.notification.notify("Performance Warning "+(w.Hj?"On":"Off"),15,40,15,!0)):w.oe?w.vh.current=w.LC([w.vf],!0,w):w.Wc&&(w.vh.current=w.LC([w.He],!0,w));break;case 69:g.ctrlKey?w.rO(w):!w.Td.locked&&w.Ha<ViewConstants.Jg&&(w.Ha=g.shiftKey?ViewConstants.Jg:w.Ha+1,w.Td.current=w.xn([w.Ha,w.Ha],!0,w));break;case 68:g.ctrlKey?
(w.Iq.current=w.JC([!w.dn],!0,w),w.j.notification.notify("States Display "+(w.dn?"On":"Off"),15,80,15,!0)):!w.Td.locked&&w.Ha>ViewConstants.ho&&(g.shiftKey?w.Ha=ViewConstants.ho:--w.Ha,w.Td.current=w.xn([w.Ha,w.Ha],!0,w));break;case 90:g.ctrlKey?(g.altKey&&(w.tq.locked||w.Dw(w,!0)),g.shiftKey?w.HB(w):w.Zj.locked||w.cD(w)):g.shiftKey?(k=Controller.lO(),0===k?w.j.notification.notify("No LifeViewers playing",15,100,15,!0):1<k&&w.j.notification.notify("Paused all LifeViewers",15,100,15,!0)):(k=Controller.eH(w),
0<k&&(1<k?w.j.notification.notify("Paused "+k+" other LifeViewers",15,100,15,!0):w.j.notification.notify("Paused "+k+" other LifeViewer",15,100,15,!0)));break;case 88:g.ctrlKey?w.yG(w,g.shiftKey,g.altKey):g.shiftKey?(w.Ak.current=w.HH([!w.g.ll],!0,w),0<w.g.pf&&(w.j.notification.notify("Major Grid Lines "+(w.g.ll?"On":"Off"),15,40,15,!0),w.ZD())):(w.g.ic=!w.g.ic,w.zi.current=w.Mq([w.g.ic],!0,w),w.j.notification.notify("Grid Lines "+(w.g.ic?"On":"Off"),15,40,15,!0));break;case 89:0!==w.ha?this.pn(w,
ViewConstants.mA):g.ctrlKey?w.HB(w):w.Dc?w.j.notification.notify("Graph Disabled",15,40,15,!0):g.shiftKey?(w.lh=!w.lh,w.Wp.current=w.iH([w.lh],!0,w),w.j.notification.notify("Graph "+(w.lh?"Lines":"Points"),15,40,15,!0)):(w.ad=!w.ad,w.mm.current=w.mD([w.ad],!0,w),w.j.notification.notify("Population Graph "+(w.ad?"On":"Off"),15,40,15,!0));break;case 75:0!==w.ha?this.pn(w,ViewConstants.Tz):g.ctrlKey?g.altKey?(w.Dy(w,!1,!1),k=w.Ef,2<w.g.i&&!(w.g.Pa||w.g.N||w.g.ga||w.g.T)&&0<k&&(k=w.g.i-k),w.g.ga?w.j.notification.notify("Cleared state "+
k+" cells",15,120,15,!0):w.j.notification.notify("Cleared "+w.Fr(k)+" cells",15,120,15,!0)):w.IB(w):g.shiftKey?(w.cE(w,!0),w.j.notification.notify("Copied view to clipboard",15,180,15,!0)):(w.cE(w,!1),w.j.notification.notify("Copied position to clipboard",15,180,15,!0));break;case 80:g.ctrlKey?(w.Gs.current=w.kH([!w.mq],!0,w),w.j.notification.notify("Pause while drawing "+(w.mq?"On":"Off"),15,80,15,!0)):g.shiftKey?-1!==w.ib&&(w.Rc=!w.Rc,w.Am.current=[w.Rc],w.j.notification.notify("Loop "+(w.Rc?"Off":
"On"),15,40,15,!0)):w.ud||w.hd.locked||(w.hd.current=.99>=w.hd.current[0]?w.Ml([w.hd.current[0]+.01,w.hd.current[1]],!0,w):w.Ml([1,w.hd.current[1]],!0,w));break;case 76:g.ctrlKey?(w.g.kj=!w.g.kj,w.j.notification.notify("Kill Gliders "+(w.g.kj?"On":"Off"),15,40,15,!0)):g.shiftKey?w.SJ(w):w.ud||w.hd.locked||(w.hd.current=.01<=w.hd.current[0]?w.Ml([w.hd.current[0]-.01,w.hd.current[1]],!0,w):w.Ml([0,w.hd.current[1]],!0,w));break;case 81:g.ctrlKey?(w.Ts.current=w.IH([!w.g.nh],!0,w),w.j.notification.notify((w.g.nh?
"High":"Standard")+" Quality Rendering",15,80,15,!0)):!w.ud&&!w.he.locked&&w.he.current[0]<ViewConstants.Vv&&(w.he.current=w.xt([w.g.W+1,w.he.current[1]],!0,w));break;case 65:0!==w.ha?this.pn(w,ViewConstants.iy):g.shiftKey?w.tb&&w.qu(w):g.ctrlKey?w.TG(w):!w.ud&&!w.he.locked&&w.he.current[0]>ViewConstants.aw&&(w.he.current=w.xt([w.g.W-1,w.he.current[1]],!0,w));break;case 82:g.shiftKey?Controller.kN():w.Bb.current=w.Fd(ViewConstants.uA,!0,w);break;case 83:0!==w.ha?this.pn(w,ViewConstants.Sw):g.ctrlKey?
(w.UB(w),w.j.notification.notify("Saved",15,120,15,!0)):g.shiftKey?w.g.Ea&&(w.Mi=!w.Mi,w.j.notification.notify("AutoFit State 1 Mode "+(w.Mi?"On":"Off"),15,40,15,!0)):(w.Fq.current=w.MH([!w.Li],!0,w),w.j.notification.notify("Stars "+(w.Li?"On":"Off"),15,40,15,!0));break;case 78:0!==w.ha?0<w.X.lo()&&this.pn(w,ViewConstants.ly):g.shiftKey?w.FE(w):w.Kl&&(w.vb?w.pC():(w.qC(),w.ha&&(w.ha=0)));break;case 86:g.ctrlKey?w.ww(w,g.shiftKey):g.shiftKey?(w.PG(w),w.j.notification.notify("Saved camera position",
15,100,15,!0)):w.Id||(w.pN(w),w.j.notification.notify("Restored camera position",15,100,15,!0),w.eb||(w.Ig=!0));break;case 221:w.Id||(g.shiftKey?w.Uq(w.yc.current[0],Math.log(w.g.zoom*w.g.xc*2/ViewConstants.za)/Math.log(ViewConstants.$a/ViewConstants.za)-w.yc.current[0]):w.Uq(w.yc.current[0],.01));break;case 219:w.Id||(g.shiftKey?w.Uq(w.yc.current[0],Math.log(w.g.zoom*w.g.xc/2/ViewConstants.za)/Math.log(ViewConstants.$a/ViewConstants.za)-w.yc.current[0]):w.Uq(w.yc.current[0],-.01));break;case 53:case 101:g.ctrlKey?
g.shiftKey?w.g.N||w.zw(w,!0):w.Wj(5):g.shiftKey?w.zw(w,!1):w.Hd.locked||(w.g.angle=0,w.Hd.current=[w.g.angle,w.g.angle]);break;case 49:case 97:g.ctrlKey?w.Wj(1):g.shiftKey?(w.pi(w,w.g.zoom*w.g.xc,!0),w.j.notification.notify("Integer Zoom",15,40,15,!0)):w.pi(w,1,!1);break;case 50:case 98:g.ctrlKey?w.Wj(2):g.shiftKey?w.pi(w,.5,!1):w.pi(w,2,!1);break;case 51:case 99:g.ctrlKey?w.Wj(3):g.shiftKey?w.pi(w,64,!1):w.pi(w,32,!1);break;case 52:case 100:g.ctrlKey?w.Wj(4):g.shiftKey?w.pi(w,.25,!1):w.pi(w,4,!1);
break;case 54:case 102:g.ctrlKey?w.Wj(6):g.shiftKey?w.pi(w,.0625,!1):w.pi(w,16,!1);break;case 55:g.ctrlKey?w.Wj(7):w.Dc?w.j.notification.notify("Graph Disabled",15,40,15,!0):(0<w.wd&&(w.wd-=.05,0>w.wd&&(w.wd=0)),w.bq.current=w.tx([w.wd,w.wd],!1,w));break;case 56:case 104:g.ctrlKey?w.Wj(8):g.shiftKey?w.pi(w,.125,!1):w.pi(w,8,!1);break;case 57:g.ctrlKey?w.Wj(9):w.Dc?w.j.notification.notify("Graph Disabled",15,40,15,!0):(1>w.wd&&(w.wd+=.05,1<w.wd&&(w.wd=1)),w.bq.current=w.tx([w.wd,w.wd],!1,w));break;
case 48:case 96:g.ctrlKey?w.Wj(0):(w.Ha=1,w.Td.current=w.xn([w.Ha,w.Ha],!0,w),w.kc.current=w.Sk([1,w.kc.current[1]],!0,w));break;case 189:case 109:g.ctrlKey&&189==h?p=!1:w.Ta||(w.Ha>ViewConstants.ho?(g.shiftKey?w.Ha=ViewConstants.ho:--w.Ha,w.Td.current=w.xn([w.Ha,w.Ha],!0,w)):w.kc&&(w.kc.current=.01<=w.kc.current[0]&&!g.shiftKey?w.Sk([w.kc.current[0]-.01,w.kc.current[1]],!0,w):w.Sk([0,w.kc.current[1]],!0,w)));break;case 187:case 107:g.ctrlKey&&187==h?p=!1:!w.Ta&&w.kc&&(.99>=w.kc.current[0]&&!g.shiftKey?
w.kc.current=w.Sk([w.kc.current[0]+.01,w.kc.current[1]],!0,w):.99>=w.kc.current[0]?w.kc.current=w.Sk([1,w.kc.current[1]],!0,w):(w.kc.current=w.Sk([1,w.kc.current[1]],!0,w),w.Ha<ViewConstants.Jg&&(w.Ha=g.shiftKey?ViewConstants.Jg:w.Ha+1,w.Td.current=w.xn([w.Ha,w.Ha],!0,w))));break;case 188:g.shiftKey&&(w.tb||w.ld)?w.JG(w):w.Hd.locked||(k=w.Hd.current[0],k=g.shiftKey?k-90:k-1,0>k&&(k+=360),w.Hd.current=w.wt([k,k],!0,w));break;case 190:g.shiftKey&&(w.tb||w.ld)?w.KG(w):w.Hd.locked||(k=w.Hd.current[0],
k=g.shiftKey?k+90:k+1,360<=k&&(k-=360),w.Hd.current=w.wt([k,k],!0,w));break;case 46:w.tb?g.shiftKey?w.$D(w):w.hz(w,g.ctrlKey):g.ctrlKey&&(k=w.Dy(w,g.ctrlKey,!1))&&w.j.notification.notify("Cleared [R]History cells",15,120,15,!0);break;case 74:g.ctrlKey&&!g.shiftKey?w.dE(w):g.ctrlKey&&g.shiftKey?p=!1:w.X.uc.length?w.Id||(g.shiftKey?w.vG(w):w.GF(w)):w.j.notification.notify("No POIs defined",15,80,15,!0);break;case 84:0!==w.ha?this.pn(w,ViewConstants.yC):g.shiftKey?w.j.bn=!w.j.bn:w.Dp.current=w.wn([!w.j.Mk],
!0,w);break;case 85:g.shiftKey?!w.hw&&(w.Sc=!w.Sc,w.s.m=w.Sc,w.j.Sc=w.Sc)&&(w.ha=0,w.hc=0):(w.g.la||w.g.N)&&w.g.Kc&&w.gz(w);break;case 71:g.ctrlKey?(w.ni=!w.ni,w.op.current=w.zH([w.ni],!0,w),w.j.notification.notify("Auto Grid Lines "+(w.ni?"On":"Off"),15,40,15,!0)):w.Ta||(g.shiftKey?w.il&&(w.wq.current=w.LH([!w.jl],!0,w),w.j.notification.notify("Generation display "+(w.jl?"Relative":"Absolute"),15,40,15,!0)):(w.ux([!w.rh],!0,w),w.Pe&&(w.Pe.current=[w.rh],w.j.Uf=!0)));break;case 70:g.ctrlKey?w.tb&&
(w.dh(!0,!0,ViewConstants.mv),w.j.notification.notify("Fit Selection",15,80,15,!0)):g.shiftKey?w.fj.locked||(w.zc=!w.zc,w.fj.current=w.hH([w.zc],!0,w),w.j.notification.notify("AutoFit "+(w.zc?"On":"Off"),15,40,15,!0)):w.gl.locked||(w.dh(!0,!0,ViewConstants.hl),w.j.notification.notify("Fit Pattern",15,80,15,!0),w.eb||(w.Ig=!0));break;case 79:g.ctrlKey?g.shiftKey?navigator.clipboard.readText().then(function(a){return w.NL(w,a)}):w.dF(w):w.Ho=g.shiftKey?2:1;break;case 37:g.shiftKey?w.Im(w.g.zoom,w.g.zoom):
w.Im(w.g.zoom,0);break;case 38:w.ha?w.Ww(w,1):w.hc?w.Uw(w,1):g.shiftKey?w.Im(-w.g.zoom,w.g.zoom):w.Im(0,w.g.zoom);break;case 39:g.shiftKey?w.Im(-w.g.zoom,-w.g.zoom):w.Im(-w.g.zoom,0);break;case 40:w.ha?w.Vw(w,1):w.hc?w.Tw(w,1):g.shiftKey?w.Im(w.g.zoom,-w.g.zoom):w.Im(0,-w.g.zoom);break;case 77:g.ctrlKey?(w.dh(!0,!0,ViewConstants.yE),w.j.notification.notify("Center Pattern",15,80,15,!0)):g.shiftKey?w.TJ(w):w.Oc&&!w.Oc.m&&(w.Oc.current=w.Yo([!w.Oc.current[0]],!0,w),w.j.Uf=!0);break;case 67:g.ctrlKey?
w.xG(w,g.shiftKey,g.altKey):0!==w.ha?this.pn(w,ViewConstants.Hy):w.ud||!w.Qi||w.Qi.locked||(g.shiftKey?(k=w.g.Df-1,0>k&&(w.Nh?k=w.g.Ue:k=w.g.Ue-1)):(k=w.g.Df+1,w.Nh?k>=w.g.Ue+1&&(k=0):k>=w.g.Ue&&(k=0)),w.an(k,w.g.Xl,w),w.g.Pa||w.Lk||w.j.notification.notify(w.kx(w.g.Df)+" Theme",15,40,15,!0));break;case 72:g.shiftKey?(w.Kp.current=w.EH([!w.Ci],!0,w),w.j.notification.notify("AutoFit History Mode "+(w.Ci?"On":"Off"),15,40,15,!0)):(w.od.length?w.ha=w.ha?0:1:w.ha?w.ha=0:w.vb||(w.ha=1),w.wk.current=w.Xo([w.ha],
!0,w),w.j.Uf=!0);break;case 73:g.ctrlKey&&g.shiftKey?p=!1:g.ctrlKey?w.XE(w):g.shiftKey?w.Np.current=w.FH([!w.kd],!0,w):(w.ha?this.pn(w,ViewConstants.Jv):w.vb||w.Rg(ViewConstants.Jv,w),w.wk.current=w.Xo([w.ha],!0,w),w.j.Uf=!0);break;case 27:w.Bd?w.od.length?(w.od=[],w.hc=0):w.ld||w.zd?w.uu(w):w.Ek?w.Vh.current=w.Rk([!1],!0,w):w.Lj?w.Iz(w):-1!==w.Ug?w.ft(w,!0):hideViewer():w.ha?w.ha=0:w.od.length?(w.od=[],w.hc=0):w.ld||w.zd?w.uu(w):w.Ek?w.Vh.current=w.Rk([!1],!0,w):w.Lj?w.Iz(w):-1!==w.Ug?w.ft(w,!0):
w.eb&&(w.Bb.current=w.Fd(ViewConstants.Te,!0,w));w.wk.current=w.Xo([w.ha],!0,w);w.j.Uf=!0;break;case 33:w.ha?g.shiftKey?w.IM(w):w.Ww(w,w.nd):w.hc?w.Uw(w,w.nd):DocConfig.Va&&(--w.fd,0>w.fd&&(w.fd=Controller.Ce.length-1),w.Yh(Controller.Ce[w.fd].pattern,!1));break;case 34:w.ha?g.shiftKey?w.hM(w):w.Vw(w,w.nd):w.hc?w.Tw(w,w.nd):DocConfig.Va&&(w.fd+=1,w.fd>=Controller.Ce.length&&(w.fd=0),w.Yh(Controller.Ce[w.fd].pattern,!1));break;case 36:w.ha?w.ha=1:w.hc?w.hc=1:DocConfig.Va&&(w.fd=0,w.Yh(Controller.Ce[w.fd].pattern,
!1));break;case 35:w.ha?w.ha=w.$p-w.nd:w.hc?w.hc=w.od.length-w.nd:DocConfig.Va&&(w.fd=Controller.Ce.length-1,w.Yh(Controller.Ce[w.fd].pattern,!1));break;case 112:w.Ta||(w.ge=!w.ge,w.Cd.current=w.Tk(w.ge?ViewConstants.Fm:ViewConstants.Gm,!0,w),w.j.notification.notify((w.ge?"Draw":"Pan")+" Mode",15,40,15,!0));break;case 113:g.shiftKey?(w.Eq.current=w.IC([!w.Mo],!0,w),w.j.notification.notify("Smart Drawing "+(w.Mo?"On":"Off"),15,40,15,!0)):w.Cd.current=w.Tk(ViewConstants.Fm,!0,w);break;case 114:w.Ta||
(w.Cd.current=w.Tk(ViewConstants.Fm,!0,w),w.Ek||(w.Vh.current=w.Rk([!0],!0,w)));break;case 115:w.Cd.Hg[ViewConstants.Xp]||(w.Cd.current=w.Tk(ViewConstants.Xp,!0,w));break;case 116:w.Cd.current=w.Tk(ViewConstants.Gm,!0,w);break;case 117:w.Lp.locked||(g.ctrlKey?w.wE(w):w.Hv(w));break;case 122:p=!1;break;default:if(-1===h||116===h)p=!1}}return p}}}());
}
